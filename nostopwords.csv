 package com ibm migr data static com ibm migr utils Log java util ArrayList com ibm migr db2 BufferpoolData com ibm migr db2 DBGroupData com ibm migr db2 Db2lookInfoData com ibm migr db2 SchemaData com ibm migr db2 db2 com ibm migr utils Args com ibm migr utils U class GenInitialObjects private long mainStart System currentTimeMillis private db2 srcConn dstConn null private SQLQueries p q null GenInitialObjects srcConn new db2 SRCDB p new SQLQueries srcConn U checkDestinationObjects dstConn new db2 DSTDB q new SQLQueries dstConn void t p getTableInfo U WriteFile false U tableInfoFileName p printAllTableInfo void run String sql Get all partition Groups ArrayList DBGroupData partGroups p getDBPartGroups Validate with source U checkDestinationObjects partGroups q validateDBPartGroups partGroups Generate DDL sql p genDBPartG,java
roups partGroups U WriteFile false 01dbpgbpts sql sql Generate DDL storage groups sql p genStorageGroups U WriteFile true U dbpgbptsFileName sql Get all bufferpools ArrayList BufferpoolData bufPools p getBufferpools Validate with source U checkDestinationObjects bufPools q validateBufferpools bufPools Generate DDL sql p genBufferpools bufPools U WriteFile true U dbpgbptsFileName sql Generate DDL temporary tablespace sql p genTempTableSpace U WriteFile true U dbpgbptsFileName sql Populate Table size Data from source p getTableInfo Print all table info reference U WriteFile false U tableInfoFileName p printAllTableInfo Get All generated table spaces U WriteFile false U tablespacesFileName p getAllGeneratedTablespacesDefn Generate global variables U WriteFile false U globalVariableFileName p genGlobalVariables Get all schema U WriteFile false U schemasFileName,java
 p genSchema Get all source schema list SchemaData schemaData p getSchemas schemaData selected Populate systools db2look_info and get token int token p genLook schemaData schema get Db2lookInfoData ArrayList Db2lookInfoData lookData p getdb2lookInfo token schemaData get Db2lookInfoData validated against target U checkDestinationObjects lookData q db2lookValidation lookData Generate DDL all objects schema p genObjectsDDLs token schemaData lookData Runstats based upon profile which was set source p genRunstats U runstatsFileName Generate auths U WriteFile false U authsFileName p genAuths Generate script run all generated DDLs p createShellScript info End end Elapsed Time U getElapsedTime mainStart close private void close srcConn close static void main String args String myClass new Throwable getStackTrace 0 getClas,java
sName args length 2 info info Usage java Xmx4096m myClass DSRCDB srcConn properties NameofHPUOutputDir false info Usage java Xmx4096m myClass DSRCDB srcConn properties DDSTDB dstConn properties NameofHPUOutputDir true info info Get All Database Partitions Groups info Use switch Xmx4096m Amount of maximum memory program info Name of program myClass info Use switch DSRCDB specify name of source db properties file info Param 1 Specify name of output directory store generated scripts info Param 2 True False Check object exists on target or not info If Param 2 true You must specify DDSTDB destination db properties file info Manually Modify scripts target database fit new M,java
LN topology System exit 1 Args new Args args U outputDataDirectory targets 0 U checkDestinationObjects Boolean valueOf targets 1 switchPresent d set LEVEL_DEBUG String dbProp System getProperty SRCDB dbProp null dbProp length 0 error DSRCDB switch not specified source db properties file System exit 1 U checkDestinationObjects dbProp System getProperty DSTDB dbProp null dbProp length 0 error DDSTDB switch not specified destination db properties file System exit 1 info info Get Database Scripts from source info info Runtime initiated with following parameters info Data output directory U outputDataDirectory info ,java
 info Extracting DDL Program Started GenInitialObjects drv new GenInitialObjects drv run drv t ,java
 package com ibm etcd client static java util concurrent TimeUnit MILLISECONDS java lang reflect Proxy java net ConnectException java net NoRouteToHostException java util ArrayDeque java util Queue java util concurrent CancellationException java util concurrent ExecutionException java util concurrent Executor java util concurrent Future java util concurrent ScheduledExecutorService java util concurrent TimeUnit java util concurrent TimeoutEx,java
ception java util function Supplier org slf4j Logger org slf4j LoggerFactory com google common base Preconditions com google common base Predicate com google common base Predicates com google common util concurrent Futures com google common util concurrent ListenableFuture com google common util concurrent ListeningScheduledExecutorService com google common util concurrent MoreExecutors io grpc CallCredentials io grpc CallOptions io grpc Deadline io grpc ManagedChannel io grpc MethodDescriptor io grpc Status io grpc Status Code io grpc stub ClientCallStreamObserver io grpc stub ClientCalls io grpc stub ClientResponseObserver io grpc stub StreamObserver class GrpcClient private static final Logger logger LoggerFactory getLogger GrpcClient class private final long defaultTimeoutMs TODO maybe combine these into an auth provider intface private final Supplier CallCredentials refreshCreds ,java
 private final Predicate Throwable reauthRequired private final ManagedChannel channel protected final ListeningScheduledExecutorService ses modified only by reauthenticate method private CallOptions callOptions CallOptions DEFAULT volatile tbd lazy probably ok TODO whether some all of channel construction moved here GrpcClient ManagedChannel channel Predicate Throwable reauthRequired Supplier CallCredentials credsSupplier ScheduledExecutorService executor long defaultTimeoutMs Preconditions checkArgument reauthRequired null credsSupplier null must supply both or neither reauth and creds this channel channel this refreshCreds credsSupplier this reauthRequired reauthRequired this ses MoreExecutors listeningDecorator executor this defaultTimeoutMs defaultTimeoutMs ScheduledExe,java
cutorService getExecutor ses void authenticateNow refreshCreds null reauthenticate getCallOptions protected CallOptions getCallOptions callOptions static final RetryDecision IDEMP t r Status status Status fromThrowable t Code code status null status getCode null code Code UNAVAILABLE code Code UNKNOWN status getDescription null status getDescription startsWith Channel closed TODO and maybe some DEADLINE_EXCEEDED cases but not overall deadline static final RetryDecision NON_IDEMP t r codeFromThrowable t Code UNAVAILABLE isConnectException t SuppressWarnings unchecked static final R RetryDecision R retryDecision boolean idempotent RetryDecision R idempotent IDEMP NON_IDEMP ,java
ReqT R ListenableFuture R call MethodDescriptor ReqT R method ReqT request boolean idempotent call method null request retryDecision idempotent 0 false null 0L TODO probably move this static interface RetryDecision ReqT boolean retry Throwable t ReqT request ReqT R ListenableFuture R call MethodDescriptor ReqT R method Condition precondition ReqT request RetryDecision ReqT retry boolean backoff Deadline deadline long timeoutMs call method precondition request retry 0 backoff null timeoutMs deadline entire request including retry pauses timeout per attempt and 0 means not specified private ReqT R ListenableFuture R call MethodDescriptor ReqT R method Condition precondition ReqT request RetryDecision ReqT retry int attempt boolean backoff Deadline deadline long timeoutMs prec,java
ondition null precondition satisfied Futures immediateFailedFuture new CancellationException precondition false TODO maybe delay case attempt 1 session inactive skip attempt and dont increment attempt final CallOptions baseCallOpts getCallOptions CallOptions callOpts deadline null baseCallOpts withDeadline deadline baseCallOpts Futures catchingAsync fuCall method request callOpts timeoutMs Exception class t boolean reauth backoff attempt 0 reauth reauthIfRequired t baseCallOpts retry retry t request Futures immediateFailedFuture t attempt 0 reauth call method precondition request retry reauth attempt 1 backoff deadline timeoutMs long delay 500L 1L Math min attempt 2 4 TODO review backoff pattern Futures dereferen,java
ce ses schedule call method precondition request retry attempt 1 backoff deadline timeoutMs delay MILLISECONDS TODO maybe retriable RPCs consider fail fast first timeout and longer retry timeout protected ReqT R ListenableFuture R fuCall MethodDescriptor ReqT R method ReqT request CallOptions callOptions long timeoutMs timeoutMs 0L timeoutMs defaultTimeoutMs timeoutMs 0L Deadline deadline callOptions getDeadline Deadline timeoutDeadline Deadline after timeoutMs MILLISECONDS deadline null timeoutDeadline isBefore deadline callOptions callOptions withDeadline timeoutDeadline ClientCalls futureUnaryCall channel newCall method callOptions request protected boolean retryStream Throwable error CallOptions callOpts reauthIfRequired error callOpts ,java
 Status fromThrowable error getCode Code INVALID_ARGUMENT causedByJavaError error protected static boolean causedByJavaError Throwable t causedBy t Error class protected boolean reauthIfRequired Throwable error CallOptions callOpts reauthRequired null reauthRequired apply error false reauthenticate callOpts true static boolean isConnectException Throwable t causedBy t ConnectException class causedBy t NoRouteToHostException class static Code codeFromThrowable Throwable t Status status Status fromThrowable t status null status getCode null private void reauthenticate CallOptions failedOpts assert name null password null getCallOptions failedOpts obj identity comparison intentional synchronized this CallOptions callOpt,java
s getCallOptions callOpts failedOpts callOptions callOpts withCallCredentials refreshCreds get ReqT RespT StreamObserver ReqT callStream MethodDescriptor ReqT RespT method ResilientResponseObserver ReqT RespT respStream callStream method respStream null ReqT RespT StreamObserver ReqT callStream MethodDescriptor ReqT RespT method ResilientResponseObserver ReqT RespT respStream Executor responseExecutor must explicitly auth stream case ensure unauthenticated version isn t used refreshCreds null getCallOptions CallOptions DEFAULT authenticateNow new ResilientBiDiStream method respStream responseExecutor start static interface ResilientResponseObserver ReqT RespT extends StreamObserver RespT Called once initially and once after each link onReplaced StreamObserver indica,java
te corresponding sub stream successfully established void onEstablished void onReplaced StreamObserver ReqT newStreamRequestObserver class ResilientBiDiStream ReqT RespT private final MethodDescriptor ReqT RespT method private final ResilientResponseObserver ReqT RespT respStream private final Executor responseExecutor ,java
 accessed only from response thread and retry task scheduled from onError message prior stream being reestablished private CallOptions sentCallOptions private int errCounter 0 provided user buffers and wraps real req stream when active field accessed only from response thread private RequestSubStream userReqStream finished reflects user closing stream via terminal method not incoming stream closure error null indicates complete versus failed when finished true modified only by response thread private boolean finished private Throwable error ResilientBiDiStream MethodDescriptor ReqT RespT method ResilientResponseObserver ReqT RespT respStream Executor responseExecutor,java
 this method method this respStream respStream this responseExecutor serialized responseExecutor null responseExecutor ses 0 must only be called once enforcement logic omitted since private StreamObserver ReqT start RequestSubStream firstStream new RequestSubStream userReqStream firstStream refreshBackingStream firstStream class RequestSubStream implements StreamObserver ReqT lifecycle null real stream EMPTY_STREAM private volatile StreamObserver ReqT grpcReqStream only modified by response thread grpcReqStream non null preConnectBuffer null private Queue ReqT preConnectBuffer called by user thread Override void onNext ReqT value finished illegal usage ,java
 StreamObserver ReqT rs grpcReqStream rs null synchronized this rs grpcReqStream rs null preConnectBuffer null preConnectBuffer new ArrayDeque 8 bounded TBD preConnectBuffer add value rs onNext value called by user thread Override void onError Throwable t onFinish t called by user thread Override void onCompleted onFinish null called from response thread boolean established StreamObserver ReqT stream StreamObserver ReqT curStream grpcReqStream curStream ,java
null synchronized this Queue ReqT pcb preConnectBuffer pcb null ReqT req while req pcb poll null stream onNext req preConnectBuffer null finished grpcReqStream emptyStream else grpcReqStream stream true else stream curStream false here either finished or it s an unexpected new stream Throwable err error err null stream onCompleted else stream onError err false boolean isEstablished grpcReqStream null called from grpc response thread void discard Throwable err ,java
 StreamObserver ReqT curStream grpcReqStream empty emptyStream curStream empty curStream null synchronized this grpcReqStream empty preConnectBuffer null TODO this could overlap with an progress onNext above but unlikely ideas sync both on stream itself not ideal defer until user call made on new stream else close err called from grpc response thread void close Throwable err StreamObserver ReqT curStream grpcReqStream empty emptyStream curStream null curStream empty grpcReqStream empty assert preConnectBuffer null err null curStream onCompleted else cu,java
rStream onError err called by user thread private void onFinish Throwable err finished shouldn t be called more than once anyhow responseExecutor execute finished don t treat this as final authentication enabled and error reflects that reauth required instead just cancel current stream which will cause top level stream be refreshed after reauth done err null reauthRequired null reauthRequired apply err error err finished true userReqStream close err private final StreamObserver RespT respWrapper new ClientRes,java
ponseObserver ReqT RespT Override void beforeStart ClientCallStreamObserver ReqT rs rs setOnReadyHandler called from grpc response thread rs isReady errCounter 0 boolean notify userReqStream established rs notify respStream onEstablished called from grpc response thread Override void onNext RespT value respStream onNext value called from grpc response thread Override void onError Throwable t boolean finalError finished retryStream t sentCallOptions finalError String msg retryable onError on underlying stream of method method getFullMethodName logger isDebugEnabled ,java
 logger info msg t else logger info msg t getClass getName t getMessage RequestSubStream userStreamBefore userReqStream userStreamBefore isEstablished userReqStream new RequestSubStream userStreamBefore discard null must call onReplaced prior refreshing stream otherwise response observer may be called with responses from new stream prior onReplaced returning respStream onReplaced userReqStream else no need replace user stream int errCount errCounter errCount 0 refreshBackingStream else long delay 500L 1L Math min errCount 2 4 ses schedule ResilientBiDiStream t,java
his refreshBackingStream delay TimeUnit MILLISECONDS else sentCallOptions null userReqStream discard t respStream onError t called from grpc response thread Override void onCompleted TODO maybe reestablish stream this case finished sentCallOptions null userReqStream discard null respStream onCompleted called only from start method grpc response thread scheduled retry no active stream private void refreshBackingStream finished CallOptions callOpts getCallOptions sentCallOptions callOpts callOpts callOpts withExecutor responseExecutor ClientCalls asyncBidi,java
StreamingCall channel newCall method callOpts respWrapper utilities static T T waitFor Future T fut waitFor fut 1L static T T waitFor Future T fut long timeoutMillis try timeoutMillis 0L fut get fut get timeoutMillis MILLISECONDS catch InterruptedException CancellationException e fut cancel true throw Status CANCELLED withCause e asRuntimeException catch ExecutionException ee throw Status fromThrowable ee getCause asRuntimeException catch TimeoutException te fut cancel true throw Status DEADLINE_EXCEEDED withCause te withDescription local timeout of timeoutMillis ms exceeded asRuntimeException catch RuntimeException rte fut cancel true throw Status fromThrowable rte asRuntimeEx,java
ception SuppressWarnings rawtypes private static final StreamObserver EMPTY_STREAM new StreamObserver Override void onCompleted Override void onError Throwable t Override void onNext Object value SuppressWarnings unchecked protected static ReqT StreamObserver ReqT emptyStream StreamObserver ReqT EMPTY_STREAM protected static T Predicate T constantPredicate boolean val val Predicates T alwaysTrue Predicates T alwaysFalse protected static boolean contains String str String subStr str null str contains subStr static boolean causedBy Throwable t Class extends Throwable exClass t null exClass isAssignableFrom t getClass causedBy t getCause exClass SuppressWarnings unchecked static I I sentinel Class I intface I Proxy,java
 newProxyInstance intface getClassLoader new Class intface p m toString equals m getName SENTINEL hashCode equals m getName System identityHashCode p equals equals m getName 0 p throw new IllegalStateException attempt invoke sentinel static Executor serialized Executor parent int bufferSize parent instanceof SerializingExecutor parent instanceof io grpc internal SerializingExecutor parent MoreExecutors directExecutor parent new SerializingExecutor parent bufferSize ,java
define core core parseHTML ajax traversing manipulation selector Optional event alias dependency event alias function jQuery Keep copy of old load method var _load jQuery fn load jQuery fn load function url params callback typeof url string _load _load apply this arguments var selector type response self this off url indexOf off 1 selector jQuery trim url slice off url url slice 0 off If it s function jQuery isFunction params We assume that it s callback callback params params undefined Otherwise build param string else params typeof params object type POST If we have elements modify make request self length 0 jQuery ajax url url If type variable undefined then GET method will be used Make value of this field exp,js
licit since user can override it through ajaxSetup method type type GET dataType html data params done function responseText Save response use complete callback response arguments self html selector If selector was specified locate right elements dummy div Exclude scripts avoid IE Permission Denied errors jQuery div append jQuery parseHTML responseText find selector Otherwise use full result responseText If request succeeds this function gets data status jqXHR but they are ignored because response was set above If it fails this function gets jqXHR status error always callback function jqXHR status self each function callback apply this response jqXHR responseText status jqXHR this ,js
 package application class Application ,java
 bin sh z CF_ORG then CF_ORG BLUEMIX_ORG fi z CF_SPACE then CF_SPACE BLUEMIX_SPACE fi z BLUEMIX_API_KEY z BLUEMIX_NAMESPACE then echo Define all required environment variables and rerun stage exit 1 fi echo Deploy pods echo bx login CF_TARGET_URL bx login CF_TARGET_URL o CF_ORG s CF_SPACE apikey BLUEMIX_API_KEY ne 0 then echo Failed authenticate IBM Cloud exit 1 fi Init container clusters echo bx cs init bx cs init ne 0 then echo Failed initialize IBM Cloud Container Service exit 1 fi Init container registry echo bx cr login bx cr login ne 0 then echo Failed login IBM Cloud Container Registry exit 1 fi,sh
 use strict React Props from react PropTypes from prop types FormattedMessage from react intl class TheftClaimComponent extends React Component static get propTypes theftClaim PropTypes object isRequired onProcessedClaim PropTypes func isRequired constructor props super props this state fileReference this confirmClaim this confirmClaim bind this this rejectClaim this rejectClaim bind this this processClaim this processClaim bind this this setFileReference this setFileReference bind this setFileReference e const value e target this setState fileReference value toUpperCase confirmClaim this processClaim true rejectClaim this processClaim false processClaim isTheft const theftClaim onProcessedClaim this props const fileReference this state typeof onProcessedClaim function,js
 setTimeout onProcessedClaim uuid theftClaim uuid contractUuid theftClaim contractUuid isTheft fileReference render const theftClaim this props const fileReference this state div className ibm col 6 2 ibm col medium 2 1 ibm col small 1 1 div className ibm card ibm border gray 50 div className ibm card__content h4 className ibm bold ibm h4 FormattedMessage id Theft Claim h4 div className ibm column form style wordWrap break word p label FormattedMessage id Name label span theftClaim name span p p label FormattedMessage id Brand label span theftClaim item brand span p p labe,js
l FormattedMessage id Model label span theftClaim item model span p p label FormattedMessage id Serial No label span theftClaim item serialNo span p p label FormattedMessage id Description label span theftClaim description span p p label FormattedMessage id File Reference label span input type text value fileReference onChange this setFileReference span p div button type button className ibm btn sec ibm btn small ibm btn blue 50 style marginLeft 15px marginRight 15px onClick this confirmClaim FormattedMessage id Confirm ,js
 button button type button className ibm btn sec ibm btn small ibm btn red 50 style marginLeft 15px marginRight 15px onClick this rejectClaim FormattedMessage id Reject button div div br div div div export default TheftClaimComponent ,js
 Foundation MapKit let SHOW_DIAGNOSTIC_VISUALS false class FloorplanOverlayRenderer MKOverlayRenderer override init overlay MKOverlay super init overlay overlay override func draw _ mapRect MKMapRect zoomScale MKZoomScale context CGContext assert overlay isKind of FloorplanOverlay self Wrong overlay type let floorplanOverlay overlay as Floorpl,swift
anOverlay let boundingMapRect overlay boundingMapRect let mapkitToGraphicsConversion rect boundingMapRect let graphicsFloorplanCenter CGPoint x mapkitToGraphicsConversion midX y mapkitToGraphicsConversion midY let graphicsFloorplanWidth mapkitToGraphicsConversion width let graphicsFloorplanHeight mapkitToGraphicsConversion height Now how does this compare MapKit coordinates let mapkitFloorplanCenter MKMapPoint x MKMapRectGetMidX overlay boundingMapRect y MKMapRectGetMidY overlay boundingMapRect let mapkitFloorplanWidth MKMapRectGetWidth overlay boundingMapRect let mapkitFloorplanHeight MKMapRectGetHeight overlay boundingMapRect Create transformation that converts Graphics coordinates from MapKi,swift
t coordinates graphics x mapkit x mapkitFloorplanCenter x graphicsFloorplanWidth mapkitFloorplanWidth graphicsFloorplanCenter x var fromMapKitToGraphics CGAffineTransform identity as CGAffineTransform fromMapKitToGraphics fromMapKitToGraphics translatedBy x CGFloat mapkitFloorplanCenter x y CGFloat mapkitFloorplanCenter y fromMapKitToGraphics fromMapKitToGraphics scaledBy x graphicsFloorplanWidth CGFloat mapkitFloorplanWidth y graphicsFloorplanHeight CGFloat mapkitFloorplanHeight fromMapKitToGraphics fromMapKitToGraphics translatedBy x graphicsFloorplanCenter x y graphicsFloorplanCenter y Using this we can send draw commands MapKit coordinates and cause equivalent drawing correct graphics coordinates For additional debugging uncomment following two lines highl,swift
ight floorplan s boundingMapRect cyan SHOW_DIAGNOSTIC_VISUALS true context setFillColor red 0 0 green 1 0 blue 1 0 alpha 0 5 context fill mapkitToGraphicsConversion let fromPDFToMapKit floorplanOverlay transformerFromPDFToMk context concatenate fromPDFToMapKit concatenating fromMapKitToGraphics context drawPDFPage floorplanOverlay pdfPage SHOW_DIAGNOSTIC_VISUALS true drawDiagnosticVisuals context floorplanOverlay floorplanOverlay This draws directly PDF coordinate syste,swift
m If drawing onto MapKit context object provided must already have appropriate transforms applied If you have transform correct you should see following A 1 0 m radius red square 50 alpha centered on 1st anchor pt B 1 0 m radius green square 50 alpha centered on 2nd anchor pt C 1x1 point magenta square centered at 0 0 0 0 point of your PDF This square created by precise overlap of following two rectangles C 1 10x1 point red rectangle 50 alpha that covers 1x1 point square centered at PDF coordinate 0 0 0 0 through 1x1 point square centered at PDF coordinate 10 0 0 0 C 2 1x10 point blue rectangle 50 alpha that covers 1x1 point square centered at PDF coordinate 0 0 0 0 and 1x1 point square centered at PDF coordinate 10 0 1 0 Use A B verify that your anchor points have been set correct points on your PDF If this does not match check your PDF reader and make sure it givi,swift
ng you values points and not pixels or some other unit of measure look typos CGPoint values of your GeoAnchor structs Use C verify location of 0 0 0 0 on your PDF If this does not match check your PDF reader and make sure it showing you values of underlying PDF coordinate system and not its own internal display coordinate system A proper PDF coordinate system should have x be rightward and y be upward Use C 1 C 2 verify sizes of 1 0 point and 10 0 points on your PDF If this does not match check your PDF reader and make sure it giving you values points and not pixels or some other unit of measure func drawDiagnosticVisuals _ context CGContext floorplanOverlay FloorplanOverlay Draw 1 0 meter radius square around each anchor point let radiusPDFPoints CGFloat 1 0 CGFloat floorplanOverlay pdfPointSizeInMeters let anchorMarkerSize CGSize width radiusPDFPoints 2 0,swift
 height radiusPDFPoints 2 0 let originPt CGPoint x floorplanOverlay geoAnchorPair fromAnchor pdfPoint x radiusPDFPoints y floorplanOverlay geoAnchorPair fromAnchor pdfPoint y radiusPDFPoints let destPt CGPoint x floorplanOverlay geoAnchorPair toAnchor pdfPoint x radiusPDFPoints y floorplanOverlay geoAnchorPair toAnchor pdfPoint y radiusPDFPoints let fromAnchorMarker CGRect origin originPt size anchorMarkerSize let toAnchorMarker CGRect origin destPt size anchorMarkerSize Anchor 1 Red context setFillColor red 1 0 green 0 0 blue 0 0 alpha 0 75 context fill fromAnchorMarker Anchor 2 Green context setFillColor red 0 0 green 1 0 blue 0 0 alpha 0 75 context fill toAnchorMarker Draw 10pt x 1pt red rectangle that covers square centered at 0 0 0 0 t,swift
hrough square centered at 10 0 0 0 context setFillColor red 1 0 green 0 0 blue 0 0 alpha 0 5 context fill CGRect x 0 5 y 0 5 width 10 0 height 1 0 context setFillColor red 0 0 green 0 0 blue 1 0 alpha 0 5 context fill CGRect x 0 5 y 0 5 width 1 0 height 10 0 ,swift
 package com ibm reseach ai ki nlp types com fasterxml jackson annotation com ibm reseach ai ki nlp class Sentence extends Annotation private static final long serialVersionUID 1L JsonCreator Sentence JsonProperty source String source JsonProperty start int start JsonProperty end int end super source start end ,java
 module exports require lib FabricCAClientImpl js ,js
var request require request function main params params action created params sender id 34746072 _url https params gitUsername params gitPersonalToken api github com repos IBM params repository name contents CONTRIBUTING md options url _url method PUT headers User agent curl 7 54 0 content type application json Accept application vnd github inertia preview json body JSON stringify message Add CONTRIBUTING file content IyBDb250cmlidXRpbmcNCg0KVGhpcyBpcyBhbiBvcGVuIHNvdXJjZSBwcm9qZWN0LCBhbmQgd2UgYXBwcmVjaWF0ZSB5b3VyIGhlbHAhDQoNCldlIHVzZSB0aGUgR2l0SHViIGlzc3VlIHRyYWNrZXIgdG8gZGlzY3VzcyBuZXcgZmVhdHVyZXMgYW5kIG5vbi10cml2aWFsIGJ1Z3MuDQoNCkluIGFkZGl0aW9uIHRvIHRoZSBpc3N1ZSB0cmFja2VyLCBbI2pvdXJuZXlzIG9uDQpTbGFja10oaHR0cHM6Ly9kd29wZW4uc2xhY2suY29tKSBpcyB0aGUgYmVzdCB3YXkgdG8gZ2V0IGludG8gY29udGFjdCB3aXRoIHRoZQ0KcHJvamVjdCdzIG1haW50YWluZXJzLg0KDQpUbyBjb250cml,js
idXRlIGNvZGUsIGRvY3VtZW50YXRpb24sIG9yIHRlc3RzLCBwbGVhc2Ugc3VibWl0IGEgcHVsbCByZXF1ZXN0IHRvDQp0aGUgR2l0SHViIHJlcG9zaXRvcnkuIEdlbmVyYWxseSwgd2UgZXhwZWN0IHR3byBtYWludGFpbmVycyB0byByZXZpZXcgeW91ciBwdWxsDQpyZXF1ZXN0IGJlZm9yZSBpdCBpcyBhcHByb3ZlZCBmb3IgbWVyZ2luZy4gRm9yIG1vcmUgZGV0YWlscywgc2VlIHRoZQ0KW01BSU5UQUlORVJTXShNQUlOVEFJTkVSUy5tZCkgcGFnZS4NCg new Promise function resolve reject setTimeout function request options function error response body error reject error else resolve msg response 4000 ,js
 package greeting spring framework org springframework web servlet support AbstractAnnotationConfigDispatcherServletInitializer class SampleInitializer extends AbstractAnnotationConfigDispatcherServletInitializer Override protected Class getRootConfigClasses new Class SpringConfig class Override protected Class getServletConfigClasses null Override protected String getServletMappings new String ,java
 module exports function grunt grunt initConfig Metadata pkg grunt file readJSON package json banner n Task configuration uglify options banner banner report gzip build src src loading bar js dest build loading bar min js cssmin options banner banner report gzip minify src src loading bar css dest build loading bar min css karma unit configFile test karma angular 1 2 conf js singleRun true coverageReporter type text dir coverage ,js
 unit13 configFile test karma angular 1 3 conf js singleRun true coverageReporter type text dir coverage unit14 configFile test karma angular 1 4 conf js singleRun true coverageReporter type text dir coverage watch configFile test karma angular 1 2 conf js singleRun false reporters progress Don t display coverage jshint jshintrc jshintrc gruntfile src Gruntfile js src src src js concat build options banner banner files build loading bar css src loading bar css build loading bar js src loading bar js grunt loadNpmTasks grunt contrib uglify ,js
 grunt loadNpmTasks grunt contrib jshint grunt loadNpmTasks grunt contrib cssmin grunt loadNpmTasks grunt contrib concat grunt loadNpmTasks grunt karma grunt registerTask default jshint karma unit karma unit13 karma unit14 uglify cssmin concat build grunt registerTask test karma watch grunt registerTask build default ,js
 package com ibm cloud objectstorage regions com ibm cloud objectstorage SDKGlobalConfiguration com ibm cloud objectstorage regions AwsRegionProvider com ibm cloud objectstorage regions InstanceMetadataRegionProvider com ibm cloud objectstorage util EC2MetadataUtilsServer org junit AfterClass org junit Before org junit BeforeClass org junit Test org junit experimental runners Enclosed org junit runner RunWith java io IOException static org junit Assert assertEquals s,java
tatic org junit Assert assertNull RunWith Enclosed class class InstanceMetadataRegionProviderTest static class MetadataServiceRunningTest private static EC2MetadataUtilsServer server private AwsRegionProvider regionProvider BeforeClass static void setupFixture throws IOException server new EC2MetadataUtilsServer localhost 0 server start System setProperty SDKGlobalConfiguration EC2_METADATA_SERVICE_OVERRIDE_SYSTEM_PROPERTY http localhost server getLocalPort AfterClass static void tearDownFixture throws IOException server stop System clearProperty SDKGlobalConfiguration EC2_METADATA_SERVICE_OVERRIDE_SYSTEM_PROPERTY Before vo,java
id setup regionProvider new InstanceMetadataRegionProvider Test void metadataServiceRunning_ProvidesCorrectRegion assertEquals us east 1 regionProvider getRegion static class MetadataServiceNotRunning private AwsRegionProvider regionProvider Before void setup System setProperty SDKGlobalConfiguration EC2_METADATA_SERVICE_OVERRIDE_SYSTEM_PROPERTY http localhost 54123 regionProvider new InstanceMetadataRegionProvider Test void metadataServiceRunning_ProvidesCorrectRegion assertNull regionProvider getRegion ,java
 package com ibm cloud objectstorage internal static org hamcrest Matchers not static org hamcrest Matchers nullValue static org mockito Mockito mock static org mockito Mockito when java io IOException java io InputStream javax net ssl SSLSocket org junit Assert org junit Test com ibm cloud objectstorage internal SdkSSLMetricsSocket com ibm cloud objectstorage util AWSRequestMetrics class SdkSSLMetricsSocketTest Test void testSetMetrics throws IOExcept,java
ion SSLSocket sock mock SSLSocket class InputStream inputStream mock InputStream class when sock getInputStream thenReturn inputStream SdkSSLMetricsSocket sdkSSLMetricsSocket new SdkSSLMetricsSocket sock sdkSSLMetricsSocket setMetrics new AWSRequestMetrics Assert assertThat sdkSSLMetricsSocket getMetricsInputStream not nullValue ,java
angular module bluepicWebApp controller singlePhotoController scope photo PropertiesService state function scope photo PropertiesService state use strict scope photoUrl photo data url scope userName photo data user name scope locationName photo data location name scope coords PropertiesService getDMSCoordinates photo data location latitude photo data location longitude scope caption photo data caption scope timestamp PropertiesService getFormattedTimestamp photo data uploadedTs var temp photo data location weather null photo data location weather temperature scope temp temp temp xB0 scope mapUrl https maps googleapis com maps api staticmap center photo data location latitude photo data location longitude zoom 7 ,js
 size 370x150 maptype terrain scope photos PropertiesService getPhotos var photoId PropertiesService getPhotoId var index PropertiesService getPhotoIndex var numPhotos scope photos length scope pagePhoto function direction direction left index 0 index else direction right index numPhotos 1 index var newPhoto scope photos index PropertiesService setPhotoIndex index PropertiesService setPhotoId newPhoto _id state go singlePhoto photoId newPhoto _id scope tags photo data tags scope searchTerm value ,js
define core var rtagName var rscriptType wrapMap getAll setGlobalEval function jQuery rtagName rscriptType wrapMap getAll setGlobalEval var rhtml w function buildFragment elems context scripts selection ignored var elem tmp tag wrap contains j fragment context createDocumentFragment nodes i 0 l elems length i l i elem elems i elem elem 0 Add nodes directly jQuery type elem object Support Android 4 1 PhantomJS 2 push apply _ arraylike throws on ancient WebKit jQuery merge nodes elem nodeType elem elem Convert non html into text node else rhtml test elem nodes push context createTextNode elem Convert html into DOM nodes else tmp tmp fragment appendChild context createElement div Deserialize standard representation tag rtagName ,js
exec elem 1 toLowerCase wrap wrapMap tag wrapMap _default tmp innerHTML wrap 1 jQuery htmlPrefilter elem wrap 2 Descend through wrappers right content j wrap 0 while j tmp tmp lastChild Support Android 4 1 PhantomJS 2 push apply _ arraylike throws on ancient WebKit jQuery merge nodes tmp childNodes Remember top level container tmp fragment firstChild Ensure created nodes are orphaned 12392 tmp textContent Remove wrapper from fragment fragment textContent i 0 while elem nodes i Skip elements already context collection trac 4087 selection jQuery inArray elem selection 1 ignored ignored push elem continue contains jQuery contains elem ownerDocument elem Append fragment tmp getAll fragment appendChild elem script ,js
Preserve script evaluation history contains setGlobalEval tmp Capture executables scripts j 0 while elem tmp j rscriptType test elem type scripts push elem fragment buildFragment ,js
 package com ibm cloud objectstorage internal java io IOException java io InputStream javax net ssl SSLSocket com ibm cloud objectstorage annotation SdkInternalApi com ibm cloud objectstorage annotation SdkTestInternalApi com ibm cloud objectstorage util AWSRequestMetrics class SdkSSLMetricsSocket extends DelegateSSLSocket private MetricsInputStream metricsIS SdkSSLMetricsSocket SSLSo,java
cket sock super sock void setMetrics AWSRequestMetrics metrics throws IOException make sure metricsIS initialized getInputStream metricsIS setMetrics metrics Override InputStream getInputStream throws IOException metricsIS null metricsIS new MetricsInputStream sock getInputStream metricsIS SdkTestInternalApi MetricsInputStream getMetricsInputStream metricsIS ,java
 use strict export const SET_USER SET_USER ,js
 package com ibm cloud objectstorage http conn java lang reflect InvocationHandler java lang reflect InvocationTargetException java lang reflect Method java lang reflect Proxy org apache commons logging Log org apache commons logging LogFactory org apache http conn ConnectionRequest com ibm cloud objectstorage metrics AwsSdkMetrics com ibm cloud objectstorage metrics ServiceLatencyProvider com ibm cloud objectstorage util AWSServiceMetrics class ClientConnectionRequest,java
Factory private static final Log log LogFactory getLog ClientConnectionRequestFactory class private static final Class interfaces ConnectionRequest class Wrapped class static ConnectionRequest wrap ConnectionRequest orig orig instanceof Wrapped throw new IllegalArgumentException ConnectionRequest Proxy newProxyInstance https github com aws aws sdk java pull 48 issuecomment 29454423 ClientConnectionRequestFactory class getClassLoader interfaces new Handler orig private,java
 static class Handler implements InvocationHandler private final ConnectionRequest orig Handler ConnectionRequest orig this orig orig Override Object invoke Object proxy Method method Object args throws Throwable try get equals method getName ServiceLatencyProvider latencyProvider new ServiceLatencyProvider AWSServiceMetrics HttpClientGetConnectionTime try method invoke orig args finally AwsSdkMetrics getServiceMetricCollector collectLatency latencyProvider endTiming method invoke orig args catch InvocationTargetException e log debug e throw e getCause ,java
var helpers require helpers var AWS helpers AWS Create mock service var apiJson metadata apiVersion 2016 11 22 endpointPrefix fake jsonVersion 1 1 protocol json signatureVersion v4 targetPrefix Fake operations fakeOp input type structure required foo members foo idempotencyToken true bar idempotencyToken true baz var mockService new AWS Service paramValidation true mockService api new AWS Model Api apiJson describe AWS EventListeners Core BUILD_IDEMPOTENCY_TOKENS function var buildIdempotencyTokens AWS EventListeners Core BUILD_IDEMPOTENCY_TOKENS it automatically fills fields marked as idempotent function done var params var req mockService makeRequest fakeOp params buildIdemp,js
otencyTokens req expect params eql expect typeof req params foo equal string expect typeof req params bar equal string expect typeof req params baz equal undefined done it will defer user input provided function done var params foo token var req mockService makeRequest fakeOp params buildIdempotencyTokens req expect params eql foo token expect req params foo equal token expect typeof req params bar equal string expect typeof req params baz equal undefined done it will use version 4 UUID as token function done var uuidV4Regex new RegExp zA Z0 9 8 zA Z0 9 4 4 zA Z0 9 3 ab89 zA Z0 9 3 zA Z0 9 12 var params var req mockService makeRequest fakeOp params buildIdempotencyTokens req expect params eql expect typeof req params foo equal string expect typeof req params bar equal s,js
tring expect typeof req params baz equal undefined expect req params foo search uuidV4Regex equal 0 expect req params bar search uuidV4Regex equal 0 done ,js
imp glob os shutil tempfile unittest TEST_PATH os path dirname os path abspath __file__ SCRIPT_PATH os path join TEST_PATH tools hangul image generator py generator imp load_source hangul image generator SCRIPT_PATH class ImageGeneratorTestCase unittest TestCase classmethod def setUpClass self self expected_labels b c Create label file and temporary output directory temp_file tempfile NamedTemporaryFile delete False self label_file temp_file name labels open self label_file w label self expected_labels labels write s n label self output_dir tempfile mkdtemp self fonts_dir os path join TEST_PATH test fonts classmethod def tearDownClass self Remove created label file and output directory os remove self label_file shutil rmtree self output_dir def test_file_generation self Test image generation fun,py
ction generator generate_hangul_images self label_file self fonts_dir self output_dir Check that number of generated images correct expected_num_images len self expected_labels 1 generator DISTORTION_COUNT num_images len glob glob os path join self output_dir hangul images jpeg self assertEqual expected_num_images num_images Check that CSV file was properly generated with open os path join self output_dir labels map csv r as f csv_lines f read splitlines line csv_lines file_path label line strip split self assertIn jpeg file_path self assertIn label self expected_labels ,py
 NVActivityIndicatorAnimationLineScaleParty swift NVActivityIndicatorView The MIT License MIT Copyright c 2016 Vinh Nguyen Permission hereby granted free of charge any person obtaining copy of this software and associated documentation files Software deal Software without restriction including without limitation rights use copy modify merge publish distribute sublicense and or sell copies of Software and permit persons whom Software furnished do so subject following conditions The above copyright notice and this permission notice shall be included all copies or substantial portions of Software THE SOFTWARE IS PROVIDED AS IS WITHOUT WARRANTY OF ANY KIND EXPRESS OR IMPLIED INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM DAMAGES OR OTHER LIABILITY WHETHER IN AN ACTION OF CONTRACT,swift
 TORT OR OTHERWISE ARISING FROM OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE UIKit class NVActivityIndicatorAnimationLineScaleParty NVActivityIndicatorAnimationDelegate func setUpAnimation layer CALayer size CGSize color UIColor let lineSize size width 7 let x layer bounds size width size width 2 let y layer bounds size height size height 2 let durations CFTimeInterval 1 26 0 43 1 01 0 73 let beginTime CACurrentMediaTime let beginTimes CFTimeInterval 0 77 0 29 0 28 0 74 let timingFunction CAMediaTimingFunction name kCAMediaTimingFunctionDefault Animation let animation CAKeyframeAnimation keyPath transform scale animation keyTimes 0 0 5 1 animation timingFunctions timingFunction timingFunction animation values 1 0 5 1 animation repeatCount HUGE animati,swift
on isRemovedOnCompletion false i 0 4 let line NVActivityIndicatorShape line layerWith size CGSize width lineSize height size height color color let frame CGRect x x lineSize 2 CGFloat i y y width lineSize height size height animation beginTime beginTime beginTimes i animation duration durations i line frame frame line add animation forKey animation layer addSublayer line ,swift
 package com ibm cloud objectstorage services kms model java io Serializable javax annotation Generated com ibm cloud objectstorage AmazonWebServiceRequest Generated com amazonaws aws java sdk code generator class CancelKeyDeletionRequest extends com ibm cloud objectstorage AmazonWebServiceRequest implements Serializable Cloneable ,java
 private String keyId p The unique identifier customer master key CMK which cancel deletion p p To specify this value use unique key ID or Amazon Resource Name ARN of CMK Examples p ul li p Unique key ID 1234abcd 12ab 34cd 56ef 1234567890ab p li li p ,java
 Key ARN arn aws kms us east 2 111122223333 key 1234abcd 12ab 34cd 56ef 1234567890ab p li ul p To obtain unique key ID and key ARN given CMK use ListKeys or DescribeKey p param keyId The unique identifier customer master key CMK which cancel deletion p p To specify this value use unique key ID or Amazon Resource Name ARN of CMK Examples p ul li p Unique key ID 1234abcd 12ab 34cd 56ef 1234567890ab p li li p Key ARN arn aws kms us east 2 111122223333 key 1234abcd 12ab 34cd 56ef 1234567890ab p li ul p To obtain unique key ID and key ARN given CMK use ListKeys or DescribeKey void setKeyId String keyId ,java
 this keyId keyId p The unique identifier customer master key CMK which cancel deletion p p To specify this value use unique key ID or Amazon Resource Name ARN of CMK Examples p ul li p Unique key ID 1234abcd 12ab 34cd 56ef 1234567890ab p li li p Key ARN arn aws kms us east 2 111122223333 key 1234abcd 12ab 34cd 56ef 1234567890ab p li ul p To obtain unique key ID and key ARN given CMK use ListKeys or DescribeKey p The unique identifier customer master key CMK which cancel deletion p p To specify this value use unique key ID or Amazon Resource Name ARN of CMK Examples p ul li p Unique key ID 1234abcd 12ab 34cd 56ef 1234567890ab ,java
p li li p Key ARN arn aws kms us east 2 111122223333 key 1234abcd 12ab 34cd 56ef 1234567890ab p li ul p To obtain unique key ID and key ARN given CMK use ListKeys or DescribeKey String getKeyId this keyId p The unique identifier customer master key CMK which cancel deletion p p To specify this value use unique key ID or Amazon Resource Name ARN of CMK Examples p ul li p Unique key ID 1234abcd 12ab 34cd 56ef 1234567890ab p li li p Key ARN arn aws kms us east 2 111122223333 key 1234abcd 12ab 34cd 56ef 1234567890ab p li ul p To obtain unique key ID and key ARN given CMK use ListKeys or DescribeKey p ,java
 param keyId The unique identifier customer master key CMK which cancel deletion p p To specify this value use unique key ID or Amazon Resource Name ARN of CMK Examples p ul li p Unique key ID 1234abcd 12ab 34cd 56ef 1234567890ab p li li p Key ARN arn aws kms us east 2 111122223333 key 1234abcd 12ab 34cd 56ef 1234567890ab p li ul p To obtain unique key ID and key ARN given CMK use ListKeys or DescribeKey Returns reference this object so that method calls can be chained together CancelKeyDeletionRequest withKeyId String keyId setKeyId keyId this Returns string representation of this object useful testing and debugging ,java
 A string representation of this object see java lang Object toString Override String toString StringBuilder sb new StringBuilder sb append getKeyId null sb append KeyId append getKeyId sb append sb toString Override boolean equals Object obj this obj true obj null false obj instanceof CancelKeyDeletionRequest false false CancelKeyDeletionRequest other CancelKeyDeletionRequest obj other getKeyId null this getKeyId null false other getKeyId null other getKeyId equals this getKeyId false false true Override int hashCode final int prime 31 int hashCode 1 hashCode prime hashCode getKeyId null 0 getKeyId hashCode h,java
ashCode Override CancelKeyDeletionRequest clone CancelKeyDeletionRequest super clone ,java
 package com ibm cloud objectstorage profile path cred org apache commons logging Log org apache commons logging LogFactory com ibm cloud objectstorage annotation SdkInternalApi com ibm cloud objectstorage profile path AwsDirectoryBasePathProvider java io File Treats CLI config file as source of credentials We support this legacy reasons ideally credentials should be defined separate shared credentials file aws credentials Any credentials defined shared,java
 credentials file take precedence over credentials sourced from here SdkInternalApi class CredentialsLegacyConfigLocationProvider extends AwsDirectoryBasePathProvider private static final Log LOG LogFactory getLog CredentialsLegacyConfigLocationProvider class private static final String LEGACY_CONFIG_PROFILES_FILENAME config Override File getLocation File legacyConfigProfiles new File getAwsDirectory LEGACY_CONFIG_PROFILES_FILENAME legacyConfigProfiles exists legacyConfigProfiles isFile LOG warn Found legacy config profiles file at legacyConfigProfiles getAbsolutePath Please move it latest default location aws credentials legacyConfigProfiles null ,java
 package com ibm janusgraph utils importer util java io File java io FileReader java io LineNumberReader java text ParseException java text SimpleDateFormat java util Date class BatchHelper static long countLines String filePath throws Exception LineNu,java
mberReader lnr new LineNumberReader new FileReader new File filePath try lnr skip Long MAX_VALUE lnr getLineNumber 1 finally lnr close static Date convertDate String inputDate throws ParseException TODO Handle time as part of date or separate SimpleDateFormat dateParser null Detect date format and convert it inputDate matches 0 9 int i inputDate length i 4 i inputDate 0 concat inputDate Only numbers Hour Minute format dateParser new SimpleDateFormat Hm else inputDate matches 0 9 2 A Za z 3 0 9 4 Use dd MMM yyyy format dateParser new SimpleDateFormat dd MMM yyyy else inputDate matches 0 9 4 0 9 2 0 9 2 Use yyyy mm dd format dateParser new SimpleDateFormat ,java
 yyyy mm dd else inputDate matches 0 9 2 0 9 2 0 9 2 Use dd mm yy format dateParser new SimpleDateFormat dd mm yy else inputDate matches 0 9 0 9 2 0 9 4 dd mm yyyy dateParser new SimpleDateFormat dd mm yyyy else Default use MM dd yy dateParser new SimpleDateFormat MM dd yy hh mm dateParser parse inputDate static Object convertPropertyValue String value Class dataType throws ParseException Object convertedValue null dataType Integer class convertedValue new Integer value else dataType Date class convertedValue convertDate value else convertedValue value convertedValue ,java
 package com ibm cloud objectstorage services s3 transfer com ibm cloud objectstorage annotation NotThreadSafe com ibm cloud objectstorage annotation SdkTestInternalApi com ibm cloud objectstorage client builder ExecutorFactory com ibm cloud objectstorage internal SdkFunction com ibm cloud objectstorage services s3 AmazonS3 com ibm cloud objectstorage services s3 AmazonS3ClientBuilder com ibm cloud objectstorage services s3 transfer internal TransferManagerUtils java util c,java
oncurrent ExecutorService NotThreadSafe final class TransferManagerBuilder private static final SdkFunction TransferManagerParams TransferManager DEFAULT_TRANSFER_MANAGER_FACTORY new SdkFunction TransferManagerParams TransferManager Override TransferManager apply TransferManagerParams params new TransferManager params private final SdkFunction TransferManagerParams TransferManager transferManagerFactory private AmazonS3 s3Client private ExecutorFactory executorFactory private Boolean shutDownThreadPools private Long minimumUploadPartSize private Long multipartUploadThreshold private Long multipartCopyThreshold private Long multipartCopyPartSize private Boolean disableParallelDownloads ,java
static TransferManagerBuilder standard new TransferManagerBuilder static TransferManager defaultTransferManager standard build private TransferManagerBuilder this DEFAULT_TRANSFER_MANAGER_FACTORY SdkTestInternalApi TransferManagerBuilder SdkFunction TransferManagerParams TransferManager transferManagerFactory this transferManagerFactory transferManagerFactory final AmazonS3 getS3Client s3Client final void setS3Client AmazonS3 s3Client this s3Client s3Client ,java
 Sets low level client used make service calls Amazon S3 param s3Client Client implementation use This object method chaining final TransferManagerBuilder withS3Client AmazonS3 s3Client setS3Client s3Client this private AmazonS3 resolveS3Client s3Client null AmazonS3ClientBuilder defaultClient s3Client final ExecutorFactory getExecutorFactory executorFactory final void setExecutorFactory ExecutorFactory executorFactory this executorFactory executorFactory Sets new link ExecutorFactory builder The factory invoked each transfer manager created through build,java
er param executorFactory New executor factory use This object method chaining final TransferManagerBuilder withExecutorFactory ExecutorFactory executorFactory setExecutorFactory executorFactory this private ExecutorService resolveExecutorService executorFactory null TransferManagerUtils createDefaultExecutorService executorFactory newExecutor final Boolean isShutDownThreadPools shutDownThreadPools By default when transfer manager shut down underlying link ExecutorService also shut down For cases where same thread pool reused across different workloads you can set this option false disable that behavior param shutDownThreadPools True shut down thread pools on transfer manager shutdown false ,java
 otherwise final void setShutDownThreadPools Boolean shutDownThreadPools this shutDownThreadPools shutDownThreadPools final TransferManagerBuilder withShutDownThreadPools Boolean shutDownThreadPools setShutDownThreadPools shutDownThreadPools this private Boolean resolveShutDownThreadPools shutDownThreadPools null Boolean TRUE shutDownThreadPools final Long getMinimumUploadPart,java
Size minimumUploadPartSize final void setMinimumUploadPartSize Long minimumUploadPartSize this minimumUploadPartSize minimumUploadPartSize Sets minimum part size upload parts Decreasing minimum part size will cause multipart uploads be split into larger number of smaller parts Setting this value too low can have negative effect on transfer speeds since it will cause extra latency and network communication each part param minimumUploadPartSize New minimum threshold upload part size This object method cha,java
ining final TransferManagerBuilder withMinimumUploadPartSize Long minimumUploadPartSize setMinimumUploadPartSize minimumUploadPartSize this final Long getMultipartUploadThreshold multipartUploadThreshold Sets size threshold bytes when use multipart uploads Uploads over this size will automatically use multipart upload strategy while uploads smaller than this threshold will use single connection upload whole object p Multipart uploads are easier recover from and also potentially faster than single part uploads especially when upload parts can be uploaded parallel as with files Because there additional network communication small uploads are still recommended use single connection upload p param multipartUploadThreshold Threshold which multipart uploads will be performed ,java
 final void setMultipartUploadThreshold Long multipartUploadThreshold this multipartUploadThreshold multipartUploadThreshold final TransferManagerBuilder withMultipartUploadThreshold Long multipartUploadThreshold setMultipartUploadThreshold multipartUploadThresh,java
old this final Long getMultipartCopyThreshold multipartCopyThreshold final void setMultipartCopyThreshold Long multipartCopyThreshold this multipartCopyThreshold multipartCopyThreshold Sets size threshold bytes when use multi part copy Copy requests objects over this size will automatically use multi part copy strategy while copy requests objects smaller than this threshold will use single connection copy whole object param multipartCopyThreshold Threshold,java
 which multipart copies will be performed This object method chaining final TransferManagerBuilder withMultipartCopyThreshold Long multipartCopyThreshold setMultipartCopyThreshold multipartCopyThreshold this final Long getMultipartCopyPartSize multipartCopyPartSize final void setMultipartCopyPartSize Long multipartCopyPartSize this multipartCopyPartSize multipartCopyPartSize Sets minimum size bytes of each part when multi part copy operation carried out Decreasing minimum part size will cause large number of copy part requ,java
ests being initiated param multipartCopyPartSize New minimum threshold copy part size This object method chaining final TransferManagerBuilder withMultipartCopyPartSize Long multipartCopyPartSize setMultipartCopyPartSize multipartCopyPartSize this Returns parallel downloads are disabled or not By default value set false p TransferManager automatically detects and downloads multipart object parallel Setting this option true will disable parallel downloads p p During parallel downloads each part downloaded temporary file gets merged into final destination file and will be deleted These temporary files uses disk space temporarily Disable parallel downloads your system do not have enough space store these files during download p p Disabling parallel downloads might reduce performance large files p ,java
 true parallel downloads are disabled otherwise false Boolean isDisableParallelDownloads disableParallelDownloads void setDisableParallelDownloads Boolean disableParallelDownloads this disableParall,java
elDownloads disableParallelDownloads TransferManagerBuilder withDisableParallelDownloads Boolean disableParallelDownloads setDisableParallelDownloads disableParallelDownloads t,java
his TransferManagerBuilder disableParallelDownloads withDisableParallelDownloads Boolean TRUE private TransferManagerConfiguration resolveConfiguration TransferManagerConfiguration configuration new TransferManagerConfiguration this minimumUploadPartSize null configuration setMinimumUploadPartSize minimumUploadPartSize this multipartCopyPartSize null configuration setMultipartCopyPartSize multipartCopyPartSize this multipartCopyThreshold null configuration setMultipartCopyThreshold multipartCopyThreshold this multipartUploadThreshold null configuration setMultipartUploadThresho,java
ld multipartUploadThreshold this disableParallelDownloads null configuration setDisableParallelDownloads disableParallelDownloads configuration TransferManagerParams getParams new TransferManagerParams withS3Client resolveS3Client withExecutorService resolveExecutorService withShutDownThreadPools resolveShutDownThreadPools withTransferManagerConfiguration resolveConfiguration final TransferManager build transferManagerFactory apply getParams ,java
 package com ibm cloud objectstorage auth java util Date com ibm cloud objectstorage annotation SdkProtectedApi com ibm cloud objectstorage annotation SdkTestInternalApi SdkProtectedApi interface SdkClock SdkClock STANDARD new SdkClock Override ,java
 long currentTimeMillis System currentTimeMillis long currentTimeMillis final class MockClock implements SdkClock private final long mockedTime MockClock Date mockedTime this mockedTime getTime MockClock long mockedTime this mockedTime mockedTime Override long currentTimeMillis mockedTime final class Instance private static SdkClock clock STANDARD static SdkClock get clock SdkTestInternalApi static void set SdkClock newClock clock newClock Reset clock,java
 link STANDARD Should only be used by SDK tests SdkTestInternalApi static void reset clock STANDARD ,java
var fs require fs var path require path var CUSTOM_CONFIG_ENUMS DUALSTACK FILE_NAME config_use_dualstack INTERFACE UseDualstackConfigOptions function TSGenerator options this _sdkRootDir options SdkRootDirectory process cwd this _apiRootDir path join this _sdkRootDir apis this _metadataPath path join this _apiRootDir metadata json this _clientsDir path join this _sdkRootDir clients this metadata null this typings this fillApiModelFileNames this _apiRootDir TSGenerator prototype loadMetadata function loadMetadata var metadataFile fs readFileSync this _metadataPath this metadata JSON parse metadataFile this metadata TSGenerator prototype fillApiModelFileNames function fillApiModelFileNames apisPath var modelPaths fs readdirSync apisPath ,js
 this metadata this loadMetadata var metadata this metadata sort paths so latest versions appear first modelPaths modelPaths sort function sort b b 1 else b 1 else 0 Only get latest version of models var foundModels Object create null modelPaths forEach function modelFileName var match modelFileName match d 4 d 2 d 2 normal json i match var model match 1 add version var version match 2 substring 1 foundModels model foundModels model latestFileName modelFileName versions version else foundModels model versions push version now update metadata var keys Object keys me,js
tadata keys forEach function key var modelName metadata key prefix key var modelInfo foundModels modelName metadata key api_path modelInfo latestFileName find waiters file var baseName modelInfo latestFileName split 0 modelPaths indexOf baseName waiters2 json 0 metadata key waiters_path baseName waiters2 json add versions metadata key versions metadata key versions metadata key versions concat metadata key versions modelInfo versions TSGenerator prototype generateDocumentClientInterfaces function generateDocumentClientInterfaces tabCount tabCount tabCount 0 var self this get dynamodb model var dynamodbModel this loadServiceApi dynamodb var code stub Blob interface code this ta,js
bs tabCount interface Blob n generate shapes var modelShapes dynamodbModel shapes iterate over each shape var shapeKeys Object keys modelShapes shapeKeys forEach function shapeKey var modelShape modelShapes shapeKey ignore exceptions modelShape exception overwrite AttributeValue shapeKey AttributeValue code self generateDocString A JavaScript object or native type tabCount code self tabs tabCount export type shapeKey any n code self generateTypingsFromShape shapeKey modelShape tabCount code TSGenerator prototype loadServiceApi function loadServiceApi serviceIdentifier first find correct identifier var metadata this metadata var serviceFilePath path join this _apiRootDir metadata s,js
erviceIdentifier api_path var serviceModelFile fs readFileSync serviceFilePath var serviceModel JSON parse serviceModelFile load waiters file it exists var waiterFilePath metadata serviceIdentifier waiters_path waiterFilePath path join this _apiRootDir metadata serviceIdentifier waiters_path var waiterModelFile fs readFileSync waiterFilePath var waiterModel JSON parse waiterModelFile serviceModel waiters waiterModel waiters serviceModel TSGenerator prototype checkRequired function checkRequired list member list indexOf member 0 true false TSGenerator prototype tabs function tabs count var code var i 0 i count i code code TSGenerator p,js
rototype transformDocumentation function transformDocumentation documentation documentation documentation documentation replace n gm documentation documentation replace g documentation TSGenerator prototype generateDocString function generateDocString documentation tabCount tabCount tabCount 0 var code code this tabs tabCount n code TSGenerator prototype generateCustomConfigFromMetadata function generateCustomConfigFromMetadata serviceIdentifier some services have,js
 additional configuration options that are defined metadata json file i e dualstackAvailable useDualstack create reference custom options var customConfigurations var serviceMetadata this metadata serviceIdentifier loop through metadata members var memberName serviceMetadata serviceMetadata hasOwnProperty memberName continue check configs switch memberName case dualstackAvailable customConfigurations push CUSTOM_CONFIG_ENUMS DUALSTACK break customConfigurations TSGenerator prototype generateSafeShapeName function generateSafeShapeName name blacklist blacklist blacklist blacklist indexOf name 0 _ name name TSGenerator prototype generateTypingsFromShape function generateTypingsFromShape shapeKey shape tabCount c,js
ustomClassNames some shapes shouldn t be generated they are javascript primitives var jsPrimitives string boolean number jsPrimitives indexOf shapeKey 0 Date Blob indexOf shapeKey 0 shapeKey _ shapeKey In at least one cloudfront Signer case class on service namespace clashes with shape shapeKey this generateSafeShapeName shapeKey customClassNames var self this var code tabCount tabCount 0 var tabs this tabs var type shape type type structure code tabs tabCount export interface shapeKey n var members shape members cycle through members var memberKeys Object keys members memberKeys forEach function memberKey docs var member members memberKey member documentation code self generateDocString member documenta,js
tion tabCount 1 var required self checkRequired shape required memberKey var memberType member shape memberType self generateSafeShapeName memberType concat customClassNames Date Blob code tabs tabCount 1 memberKey required memberType n code tabs tabCount n else type list code tabs tabCount export type shapeKey this generateSafeShapeName shape member shape customClassNames n else type map code tabs tabCount export type shapeKey key string this generateSafeShapeName shape value shape customClassNames n else type string type character var stringType string Array isArray shape enum stringType shape enum map function s s join ,js
 stringType code tabs tabCount export type shapeKey stringType n else double long short biginteger bigdecimal integer float indexOf type 0 code tabs tabCount export type shapeKey number n else type timestamp code tabs tabCount export type shapeKey Date n else type boolean code tabs tabCount export type shapeKey boolean n else type blob type binary code tabs tabCount export type shapeKey Buffer Uint8Array Blob string n code TSGenerator prototype generateTypingsFromOperations function generateTypingsFromOperations className operation operationName tabCount var code tabCount tabCount 0 var tabs this tabs var input operation input var output,js
 operation output operationName operationName charAt 0 toLowerCase operationName substring 1 var inputShape input className Types input shape var outputShape output className Types output shape input code this generateDocString operation documentation tabCount code tabs tabCount operationName params inputShape callback err AWSError data outputShape void Request outputShape AWSError n code this generateDocString operation documentation tabCount code tabs tabCount operationName callback err AWSError data outputShape void Request outputShape AWSError n code TSGenerator prototype generateConfigurationServicePlaceholders function generateConfigurationServicePlaceholders var self this var metadata this metadata ,js
 Iterate over every service var serviceIdentifiers Object keys metadata var code var configCode var versionsCode code as AWS from clients all n configCode export abstract class ConfigurationServicePlaceholders n versionsCode export interface ConfigurationServiceApiVersions n serviceIdentifiers forEach function serviceIdentifier var className self metadata serviceIdentifier name configCode self tabs 1 serviceIdentifier AWS className Types ClientConfiguration n versionsCode self tabs 1 serviceIdentifier AWS className Types apiVersion n configCode n versionsCode n code configCode versionsCode this writeTypingsFile config_service_placeholders path join this _sdkRootDir lib code TSGenerator prototype getServiceApiVersions function generateServiceApiVersions serviceIdentifier var m,js
etadata this metadata var versions metadata serviceIdentifier versions transform results get rid of and sort versions versions map function version version replace sort versions TSGenerator prototype generateTypingsFromWaiters function generateTypingsFromWaiters className waiterState waiter underlyingOperation tabCount var code tabCount tabCount 0 var operationName waiter operation charAt 0 toLowerCase waiter operation substring 1 waiterState waiterState charAt 0 toLowerCase waiterState substring 1 var docString Waits waiterState state by periodically calling underlying className operationName operation every waiter delay seconds at most waiter maxAttempts times waiter description docString waiter description get input and output var inputSh,js
ape var outputShape underlyingOperation input inputShape className Types underlyingOperation input shape underlyingOperation output outputShape className Types underlyingOperation output shape code this generateDocString docString tabCount code this tabs tabCount waitFor state waiterState params inputShape callback err AWSError data outputShape void Request outputShape AWSError n code this generateDocString docString tabCount code this tabs tabCount waitFor state waiterState callback err AWSError data outputShape void Request outputShape AWSError n code TSGenerator prototype includeCustomService function includeCustomService serviceIdentifier check services directory var servicesDir path join th,js
is _sdkRootDir lib services var fileNames fs readdirSync servicesDir fileNames fileNames filter function fileName fileName serviceIdentifier d ts fileNames length TSGenerator prototype generateCustomNamespaceTypes function generateCustomNamespaceTypes serviceIdentifier className var self this var tsCustomizationsJson require ts customizations var customClasses var code var serviceInfo tsCustomizationsJson serviceIdentifier null exit early no customizations found serviceInfo null code declare namespace className n generate code var importCode serviceInfo forEach function data var aliases var imports data imports imports forEach function pair aliases push pair name as pair alias ,js
 code self tabs 1 export pair name pair alias n customClasses push pair name aliases length importCode aliases join from data path n code n importCode importCode namespaceCode code customClassNames customClasses TSGenerator prototype processServiceModel function processServiceModel serviceIdentifier var model this loadServiceApi serviceIdentifier var self this var code var className this metadata serviceIdentifier name var customNamespaces this generateCustomNamespaceTypes serviceIdentifier className var customClassNames customNamespaces customNamespaces customClassNames generate imports code Request from lib request n code Response from lib response,js
 n code AWSError from lib error n var hasCustomizations this includeCustomService serviceIdentifier var parentClass hasCustomizations className Customizations Service hasCustomizations code parentClass from lib services serviceIdentifier n else code parentClass from lib service n code ServiceConfigurationOptions from lib service n get any custom config options var customConfig this generateCustomConfigFromMetadata serviceIdentifier var hasCustomConfig customConfig length var customConfigTypes ServiceConfigurationOptions code ConfigBase as Config from lib config n hasCustomConfig generate statements and custom config type customConfig forEach function config code config INTERFACE from lib config FILE_NAME n cus,js
tomConfigTypes push config INTERFACE custom namespaces customNamespaces code customNamespaces importCode code interface Blob n generate methods var modelOperations model operations var operationKeys Object keys modelOperations code declare class className extends parentClass n create constructor code this generateDocString Constructs service object This object has one method each API operation 1 code this tabs 1 constructor options className Types ClientConfiguration n code this tabs 1 config Config className Types ClientConfiguration n operationKeys forEach function operationKey code self generateTypingsFromOperations className modelOperations operationKey operationKey 1 generate waitFor methods var waiters model waiters Object create null var waiterKeys Obj,js
ect keys waiters waiterKeys forEach function waitersKey var waiter waiters waitersKey var operation modelOperations waiter operation code self generateTypingsFromWaiters className waitersKey waiter operation 1 code n check static classes on namespace customNamespaces code customNamespaces namespaceCode shapes should map interfaces var modelShapes model shapes iterate over each shape var shapeKeys Object keys modelShapes code declare namespace className n shapeKeys forEach function shapeKey var modelShape modelShapes shapeKey ignore exceptions modelShape exception code self generateTypingsFromShape shapeKey modelShape 1 customClassNames code this generateDocString A string YYYY MM DD format that represents latest possible API version that can be used this serv,js
ice Specify latest use latest possible version 1 code this tabs 1 export type apiVersion this getServiceApiVersions serviceIdentifier join latest string n code this tabs 1 export interface ClientApiVersions n code this generateDocString A string YYYY MM DD format that represents latest possible API version that can be used this service Specify latest use latest possible version 2 code this tabs 2 apiVersion apiVersion n code this tabs 1 n code this tabs 1 export type ClientConfiguration customConfigTypes join ClientApiVersions n export interfaces under Types namespace backwards compatibility code this generateDocString Contains interfaces use with className client 1 code this tabs 1 export Types className n code n code export className n code Write Typings file specifi,js
ed directory TSGenerator prototype writeTypingsFile function writeTypingsFile name directory code fs writeFileSync path join directory name d ts code TSGenerator prototype generateAllClientTypings function generateAllClientTypings var self this var metadata this metadata Iterate over every service var serviceIdentifiers Object keys metadata serviceIdentifiers forEach function serviceIdentifier var code self processServiceModel serviceIdentifier self writeTypingsFile serviceIdentifier self _clientsDir code TSGenerator prototype generateGroupedClients function generateGroupedClients var metadata this metadata var allCode var browserCode Iterate over every service var serviceIdentifiers Object keys metadata serviceIde,js
ntifiers forEach function serviceIdentifier var className metadata serviceIdentifier name var code export className require serviceIdentifier n allCode code metadata serviceIdentifier cors browserCode code this writeTypingsFile all this _clientsDir allCode this writeTypingsFile browser_default this _clientsDir browserCode module exports TSGenerator ,js
 package sample chirper load api java util Optional javax annotation Nullable javax annotation concurrent Immutable com fasterxml jackson annotation JsonCreator com fasterxml jackson databind annotation JsonDeserialize com google common base MoreObjects com google common base Preconditions Immutable JsonDeserialize final class TestParams final int users final int friends final int chirps final int clients final int parallelism final Optional String userIdPrefix TestParams this 1000 10 100000 10 10 Optional empty JsonCreator TestParams int users int friends int chirps int clients int parallelism Optional String userIdPrefix this users users this friends friends this chirps chirps this clients clients this parallelism parallelism this userIdPrefix userIdPrefix Override boolean equals Nullable Object another t,java
his another true another instanceof TestParams equalTo TestParams another private boolean equalTo TestParams another users another users friends another friends chirps another chirps clients another clients parallelism another parallelism userIdPrefix equals another userIdPrefix Override int hashCode int h 31 h h 17 users h h 17 friends h h 17 chirps h h 17 clients h h 17 parallelism h h 17 userIdPrefix hashCode h Override String toString MoreObjects toStringHelper TestParams add users users add friends friends add chirps chirps add clients clients add parallelism parallelism add userIdPrefix userIdPrefix toString ,java
 Copyright c 2001 2009 JGoodies Karsten Lentzsch All Rights Reserved Redistribution and use source and binary forms with or without modification are permitted provided that following conditions are met o Redistributions of source code must retain above copyright notice this list of conditions and following disclaimer o Redistributions binary form must reproduce above copyright notice this list of conditions and following disclaimer documentation and or other materials provided with distribution o Neither name of JGoodies Karsten Lentzsch nor names of its contributors may be used endorse or promote products derived from this software without specific prior written permission THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY EXPRESS OR IMPLIED WARRANTIES INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED IN NO EV,java
ENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT INDIRECT INCIDENTAL SPECIAL EXEMPLARY OR CONSEQUENTIAL DAMAGES INCLUDING BUT NOT LIMITED TO PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES LOSS OF USE DATA OR PROFITS OR BUSINESS INTERRUPTION HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY WHETHER IN CONTRACT STRICT LIABILITY OR TORT INCLUDING NEGLIGENCE OR OTHERWISE ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE package com jgoodies looks common java awt Component java awt Dimension java awt Graphics javax swing Icon com jgoodies looks Options class MinimumSizedIcon implements Icon private final Icon icon private final int width private final int height private final int xOffset private fi,java
nal int yOffset MinimumSizedIcon this null MinimumSizedIcon Icon icon Dimension minimumSize Options getDefaultIconSize this icon icon int iconWidth icon null 0 icon getIconWidth int iconHeight icon null 0 icon getIconHeight width Math max iconWidth Math max 20 minimumSize width height Math max iconHeight Math max 20 minimumSize height xOffset Math max 0 width iconWidth 2 yOffset Math max 0 height iconHeight 2 int getIconHeight height int getIconWidth width void paintIcon Component c Graphics g int x int y icon null icon paintIcon c g x xOffset y yOffset ,java
 MealViewController swift FoodTracker Created by Jane Appleseed on 10 17 16 Copyright 2016 Apple Inc All rights reserved UIKit os log class MealViewController UIViewController UITextFieldDelegate UIImagePickerControllerDelegate UINavigationControllerDelegate MARK Properties IBOutlet weak var nameTextField UITextField IBOutlet weak var photoImageView UIImageView IBOutlet weak var ratingControl RatingControl IBOutlet weak var saveButton UIBarButtonItem var meal Meal override func viewDidLoad super viewDidLoad Handle text field s user input through delegate callbacks nameTextField delegate self Set up views editing an existing Meal let meal meal navigationItem title meal ,swift
name nameTextField text meal name photoImageView image UIImage data meal photo ratingControl rating meal rating Enable Save button only text field has valid Meal name updateSaveButtonState MARK UITextFieldDelegate func textFieldDidBeginEditing _ textField UITextField Disable Save button while editing saveButton isEnabled false func textFieldShouldReturn _ textField UITextField Bool Hide keyboard textField resignFirstResponder true func textFieldDidEndEditing _ textField UITextField updateSaveButtonState navigationItem title textField text MARK UIImagePickerControllerDelegate func imagePickerControllerDidCancel _ picker UIImagePickerController Dismiss picker user canceled dismiss animated true completion nil func imagePic,swift
kerController _ picker UIImagePickerController didFinishPickingMediaWithInfo info String Any The info dictionary may contain multiple representations of image You want use original guard let selectedImage info UIImagePickerControllerOriginalImage as UIImage else fatalError Expected dictionary containing an image but was provided following info Set photoImageView display selected image photoImageView image selectedImage Dismiss picker dismiss animated true completion nil MARK Navigation IBAction func cancel _ sender UIBarButtonItem Depending on style of presentation modal or push presentation this view controller needs be dismissed two different ways let isPresentingInAddMealMode presentingViewController UINavigationController isPresentingInAddMealMode dismiss animated true completion,swift
 nil else let owningNavigationController navigationController owningNavigationController popViewController animated true else fatalError The MealViewController not inside navigation controller This method lets you configure view controller before it s presented override func prepare segue UIStoryboardSegue sender Any super prepare segue sender sender Configure destination view controller only when save button pressed guard let button sender as UIBarButtonItem button saveButton else os_log The save button was not pressed cancelling log OSLog default type debug let name nameTextField text let photo photoImageView image let rating ratingControl rating Set meal be passed MealTableViewController after unwind segue meal Meal name name,swift
 photo UIImageJPEGRepresentation photo 1 rating rating MARK Actions IBAction func selectImageFromPhotoLibrary _ sender UITapGestureRecognizer Hide keyboard nameTextField resignFirstResponder UIImagePickerController view controller that lets user pick media from their photo library let imagePickerController UIImagePickerController Only allow photos be picked not taken imagePickerController sourceType photoLibrary Make sure ViewController notified when user picks an image imagePickerController delegate self present imagePickerController animated true completion nil MARK Private Methods private func updateSaveButtonState Disable Save button text field empty let text nameTextField text saveButton isEnabled text isEmpty ,swift
 package psdi app bim viewer lmv java rmi RemoteException psdi mbo Mbo psdi mbo MboServerInterface psdi mbo MboSet psdi util MXException class ModelLinkSet extends MboSet implements ModelLinkSetRemote ModelLinkSet MboServerInterface ms throws RemoteExcepti,java
on super ms Override protected Mbo getMboInstance MboSet ms throws MXException RemoteException new ModelLink ms ,java
 node js starter application Bluemix This application uses express as its web server more info see http expressjs com var express require express cfenv provides access your Cloud Foundry environment more info see https www npmjs com package cfenv var cfenv require cfenv create new express server var app express serve files out of as our main files app use express static __dirname get app environment from Cloud Foundry var appEnv cfenv getAppEnv start server on specified port and binding host app listen appEnv port 0 0 0 0 function print message when server starts listening console log server starting on appEnv url ,js
 package com ibm cloud objectstorage partitions model com fasterxml jackson annotation JsonProperty com ibm cloud objectstorage util ValidationUtils class Region private final String description Region JsonProperty value description String description this description ValidationUtils assertNotNull description Region description String getDesc,java
ription description ,java
 package com ibm cloud objectstorage waiters com ibm cloud objectstorage AmazonServiceException com ibm cloud objectstorage annotation SdkProtectedApi SdkProtectedApi class HttpFailureStatusAcceptor Output extends WaiterAcceptor Output private final int expectedStatusCode private final WaiterState waiterState HttpFailureStatusAcceptor int expectedStatusCode WaiterState waiterState this expectedStatusCode expectedStatusCode this waiter,java
State waiterState Override boolean matches AmazonServiceException ase expectedStatusCode ase getStatusCode Override WaiterState getState waiterState ,java
 bin bash Copyright 2017 IBM Corp Licensed under Apache License Version 2 0 License you may not use this file except compliance with License You may obtain copy of License at http www apache org licenses LICENSE 2 0 Unless required by applicable law or agreed writing software distributed under License distributed on an AS IS BASIS WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND either express or implied See License specific language governing permissions and limitations under License IBM Storage Enabler Containers uninstall script The script uninstalls following IBM Storage Enabler Containers Ubiquity components from Kubernetes cluster IBM Storage Enabler Containers IBM Storage Dynamic Provisioner Ku,sh
bernetes IBM Storage FlexVolume Kubernetes In addition it uninstalls Ubiquity data stored PV ibm ubiquity db Delete following components given order 1 ubiquity db deployment Wait until deletion complete 2 PVC ibm ubiquity db Wait until deletion of PVC and PV complete 3 Storage class that match UbiquityDB PVC 4 ubiquity k8s provisioner deployment 5 k8s config configmap 6 ubiquity k8s flex daemonset 7 ubiquity deployment 8 ubiquity service 9 ubiquity db service Note The script deletes ubiquity k8s flex daemonset but it does not delete Flex driver from nodes It not mandatory delete Flex driver To delete Flex driver manually use following procedure each node 1 Remove Flex directory usr libexec kubernetes kubelet plugins volume exec ibm ubiquity k8s flex 2 Restart kubelet service function usage cmd basename ,sh
 0 echo USAGE cmd n namespace h echo Options echo n namespace By default it ubiquity namespace echo h Display this usage exit 1 Variables scripts dirname 0 YML_DIR yamls UBIQUITY_DB_PVC_NAME ibm ubiquity db UTILS scripts ubiquity_lib sh K8S_CONFIGMAP_FOR_PROVISIONER k8s config FLEX_K8S_DIR usr libexec kubernetes kubelet plugins volume exec ibm ubiquity k8s flex Handle flags NS ubiquity default namespace while getopts n opt do case opt n NS OPTARG h usage echo Invalid option OPTARG 2 usage echo Option OPTARG requires an argument 2 usage esac done nsf namespace NS namespace flag kubectl command kubectl_delete kubectl delete nsf ignore not found true Validations d YML_DIR echo Error YML directory YML_DIR does not exist exit 1 f UTILS echo Error UTILS file not f,sh
ound exit 3 kubectl get namespace NS dev null 2 1 echo Error NS namespace does not exist Stop uninstall process exit 3 UTILS include utils wait function and status echo Attention Uninstall PRODUCT_NAME will delete all Ubiquity components including ubiquity db credentials and namespace read p Are you sure y n yn yn y then echo Skip uninstall exit 0 fi echo Start uninstall PRODUCT_NAME from namespace NS First phase delete ubiquity db deployment and ubiquity db pvc before deleting ubiquity and provisioner kubectl get nsf deployment ubiquity db dev null 2 1 then kubectl_delete f YML_DIR UBIQUITY_DB_DEPLOY_YML echo Wait ubiquity db deployment deletion wait_for_item_to_delete deployment ubiquity db 10 4 NS wait_for_item_to_delete pod ubiquity db 10 4 regex NS match prefix of pod fi pvname kubectl get nsf pvc UBIQUITY_DB_PVC_NAME no headers o custom columns name spec volumeNa,sh
me kubectl_delete f YML_DIR ubiquity db pvc yml echo Waiting PVC UBIQUITY_DB_PVC_NAME and PV pvname be deleted before deleting Ubiquity and Provisioner wait_for_item_to_delete pvc UBIQUITY_DB_PVC_NAME 10 3 NS n pvname wait_for_item_to_delete pv pvname 10 3 NS Second phase Delete all stateless components kubectl_delete f YML_DIR storage class yml kubectl_delete f YML_DIR UBIQUITY_PROVISIONER_DEPLOY_YML kubectl_delete configmap K8S_CONFIGMAP_FOR_PROVISIONER kubectl_delete f YML_DIR UBIQUITY_FLEX_DAEMONSET_YML kubectl_delete f YML_DIR UBIQUITY_DEPLOY_YML kubectl_delete f YML_DIR ubiquity configmap yml kubectl_delete f YML_DIR SCBE_CRED_YML kubectl_delete f YML_DIR UBIQUITY_DB_CRED_YML kubectl_delete f YML_DIR ubiquity service yml kubectl_delete f YML_DIR ubiquity db service yml kubectl_delete f YML_DIR ubiquity namespace yml echo echo PRODUCT_NAME uninstall finished ,sh
 Copyright c 2012 2013 Mitch Garnaat http garnaat org Copyright 2012 2016 Amazon com Inc or its affiliates All Rights Reserved Licensed under Apache License Version 2 0 License You may not use this file except compliance with License A copy of License located at http aws amazon com apache2 0 or license file accompanying this file This file distributed on an AS IS BASIS WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND either express or implied See License specific language governing permissions and limitations under License from datetime datetime timedelta mock os from dateutil tz tzlocal tzutc from ibm_botocore credentials from ibm_botocore utils ContainerMetadataFetcher from ibm_botocore credentials EnvProvider create_assume_role_refresher ibm_botocore exceptions ibm_botocore session from tests unittest BaseEnvVar IntegerRefresher Passed session keep it from finding default config file TESTENVVARS config_file None AWS_CONFIG_FILE None ,py
 raw_metadata foobar Code Success LastUpdated 2012 12 03T14 38 21Z AccessKeyId foo SecretAccessKey bar Token foobar Expiration 2012 12 03T20 48 03Z Type AWS HMAC post_processed_metadata role_name foobar access_key raw_metadata foobar AccessKeyId secret_key raw_metadata foobar SecretAccessKey token raw_metadata foobar Token expiry_time raw_metadata foobar Expiration def path filename os path join os path dirname __file__ cfg filename class TestCredentials BaseEnvVar def _ensure_credential_is_normalized_as_unicode self access secret c credentials Credentials access secret self assertTrue isinstance c access_key type u u self assertTrue isinstance c secret_key type u u def test_detect_nonascii_character self self _ensure_credential_is_normalized_as,py
_unicode foo xe2 x80 x99 bar xe2 x80 x99 def test_unicode_input self self _ensure_credential_is_normalized_as_unicode u foo u bar class TestRefreshableCredentials TestCredentials def setUp self super TestRefreshableCredentials self setUp self refresher mock Mock self future_time datetime now tzlocal timedelta hours 24 self expiry_time datetime now tzlocal timedelta minutes 30 self metadata access_key NEW ACCESS secret_key NEW SECRET token NEW TOKEN expiry_time self future_time isoformat role_name rolename self refresher return_value self metadata self mock_time mock Mock self creds credentials RefreshableCredentials ORIGINAL ACCESS ORIGINAL SECRET ORIGINAL TOKEN self expiry_time self refresher iam role ,py
 time_fetcher self mock_time def test_refresh_needed self The expiry time was set 30 minutes ago so we say current time utcnow then we should need refresh self mock_time return_value datetime now tzlocal self assertTrue self creds refresh_needed We should refresh creds we try access access_key or any of cred vars self assertEqual self creds access_key NEW ACCESS self assertEqual self creds secret_key NEW SECRET self assertEqual self creds token NEW TOKEN def test_no_refresh_needed self The expiry time was 30 minutes ago let s say it s an hour ago currently That would mean we don t need refresh self mock_time return_value datetime now tzlocal timedelta minutes 60 self assertTrue not self creds refresh_needed self assertEqual self creds access_key ORIGINAL ACCESS self asse,py
rtEqual self creds secret_key ORIGINAL SECRET self assertEqual self creds token ORIGINAL TOKEN def test_get_credentials_set self We need consistent set of credentials use during signing process self mock_time return_value datetime now tzlocal timedelta minutes 60 self assertTrue not self creds refresh_needed credential_set self creds get_frozen_credentials self assertEqual credential_set access_key ORIGINAL ACCESS self assertEqual credential_set secret_key ORIGINAL SECRET self assertEqual credential_set token ORIGINAL TOKEN class TestEnvVar BaseEnvVar def test_envvars_are_found_no_token self environ AWS_ACCESS_KEY_ID foo AWS_SECRET_ACCESS_KEY bar provider credentials EnvProvider environ creds provider load self assertIsNotNone creds self assertEqual creds access_key foo ,py
 self assertEqual creds secret_key bar self assertEqual creds method env def test_envvars_found_with_security_token self environ AWS_ACCESS_KEY_ID foo AWS_SECRET_ACCESS_KEY bar AWS_SECURITY_TOKEN baz provider credentials EnvProvider environ creds provider load self assertIsNotNone creds self assertEqual creds access_key foo self assertEqual creds secret_key bar self assertEqual creds token baz self assertEqual creds method env def test_envvars_found_with_session_token self environ AWS_ACCESS_KEY_ID foo AWS_SECRET_ACCESS_KEY bar AWS_SESSION_TOKEN baz provider credentials EnvProvider environ creds provider load self assertIsNotNone creds self assertEqual creds access_key foo self assertEqual creds se,py
cret_key bar self assertEqual creds token baz self assertEqual creds method env def test_envvars_not_found self provider credentials EnvProvider environ creds provider load self assertIsNone creds def test_can_override_env_var_mapping self We can change env var provider use our specified env var names environ FOO_ACCESS_KEY foo FOO_SECRET_KEY bar FOO_SESSION_TOKEN baz mapping access_key FOO_ACCESS_KEY secret_key FOO_SECRET_KEY token FOO_SESSION_TOKEN provider credentials EnvProvider environ mapping creds provider load self assertEqual creds access_key foo self assertEqual creds secret_key bar self assertEqual creds token baz def test_can_override_partial_env_var_mapping self ,py
 Only changing access key mapping The other 2 use default values of AWS_SECRET_ACCESS_KEY and AWS_SESSION_TOKEN use our specified env var names environ FOO_ACCESS_KEY foo AWS_SECRET_ACCESS_KEY bar AWS_SESSION_TOKEN baz provider credentials EnvProvider environ access_key FOO_ACCESS_KEY creds provider load self assertEqual creds access_key foo self assertEqual creds secret_key bar self assertEqual creds token baz def test_partial_creds_is_an_error self If user provides an access key they must also provide secret key Not doing so will generate an error environ AWS_ACCESS_KEY_ID foo Missing AWS_SECRET_ACCESS_KEY provider credentials EnvProvider environ with self assertRaises ibm_botocore exceptions PartialCr,py
edentialsError provider load class TestSharedCredentialsProvider BaseEnvVar def setUp self super TestSharedCredentialsProvider self setUp self ini_parser mock Mock def test_credential_file_exists_default_profile self self ini_parser return_value default aws_access_key_id foo aws_secret_access_key bar provider credentials SharedCredentialProvider creds_filename aws creds profile_name default ini_parser self ini_parser creds provider load self assertIsNotNone creds self assertEqual creds access_key foo self assertEqual creds secret_key bar self assertIsNone creds token self assertEqual creds method shared credentials file def test_partial_creds_raise_error self self ini_parser return_value default a,py
ws_access_key_id foo Missing aws_secret_access_key provider credentials SharedCredentialProvider creds_filename aws creds profile_name default ini_parser self ini_parser with self assertRaises ibm_botocore exceptions PartialCredentialsError provider load def test_credentials_file_exists_with_session_token self self ini_parser return_value default aws_access_key_id foo aws_secret_access_key bar aws_session_token baz provider credentials SharedCredentialProvider creds_filename aws creds profile_name default ini_parser self ini_parser creds provider load self assertIsNotNone creds self assertEqual creds access_key foo self assertEqual creds secret_key bar self assertEqual cre,py
ds token baz self assertEqual creds method shared credentials file def test_credentials_file_with_multiple_profiles self self ini_parser return_value Here user has default and dev profile default aws_access_key_id aws_secret_access_key b aws_session_token c dev aws_access_key_id d aws_secret_access_key e aws_session_token f And we specify profile_name of dev provider credentials SharedCredentialProvider creds_filename aws creds profile_name dev ini_parser self ini_parser creds provider load self assertIsNotNone creds self assertEqual creds access_key d self assertEqual creds secret_key e self assertEqual creds token f self assertEqu,py
al creds method shared credentials file def test_credentials_file_does_not_exist_returns_none self It s ok credentials file does not exist we should just catch appropriate errors and None self ini_parser side_effect ibm_botocore exceptions ConfigNotFound path foo provider credentials SharedCredentialProvider creds_filename aws creds profile_name dev ini_parser self ini_parser creds provider load self assertIsNone creds class TestConfigFileProvider BaseEnvVar def setUp self super TestConfigFileProvider self setUp profile_config aws_access_key_id aws_secret_access_key b aws_session_token c Non creds related configs can be session s config region us west 2 output json parsed profiles default profile_config parse,py
r mock Mock parser return_value parsed self parser parser def test_config_file_exists self provider credentials ConfigProvider cli cfg default self parser creds provider load self assertIsNotNone creds self assertEqual creds access_key self assertEqual creds secret_key b self assertEqual creds token c self assertEqual creds method config file def test_config_file_missing_profile_config self Referring profile that s not config file will result session config returning an empty dict profile_name NOT default provider credentials ConfigProvider cli cfg profile_name self parser creds provider load self assertIsNone creds def test_config_file_errors_ignored self We should move on next provider config file ca,py
n t be found self parser side_effect ibm_botocore exceptions ConfigNotFound path cli cfg provider credentials ConfigProvider cli cfg default self parser creds provider load self assertIsNone creds def test_partial_creds_is_error self profile_config aws_access_key_id Missing aws_secret_access_key parsed profiles default profile_config parser mock Mock parser return_value parsed provider credentials ConfigProvider cli cfg default parser with self assertRaises ibm_botocore exceptions PartialCredentialsError provider load class TestBotoProvider BaseEnvVar def setUp self super TestBotoProvider self setUp self ini_parser mock Mock def test_boto_config_file_exists_in_home_dir self environ self ini_parser,py
 return_value Credentials boto s config file does not support session token so we only test access_key secret_key aws_access_key_id aws_secret_access_key b provider credentials BotoProvider environ environ ini_parser self ini_parser creds provider load self assertIsNotNone creds self assertEqual creds access_key self assertEqual creds secret_key b self assertIsNone creds token self assertEqual creds method boto config def test_env_var_set_for_boto_location self environ BOTO_CONFIG alternate config cfg self ini_parser return_value Credentials boto s config file does not support session token so we only test access_key secret_key aws_acces,py
s_key_id aws_secret_access_key b provider credentials BotoProvider environ environ ini_parser self ini_parser creds provider load self assertIsNotNone creds self assertEqual creds access_key self assertEqual creds secret_key b self assertIsNone creds token self assertEqual creds method boto config Assert that parser was called with filename specified env var self ini_parser assert_called_with alternate config cfg def test_no_boto_config_file_exists self self ini_parser side_effect ibm_botocore exceptions ConfigNotFound path foo provider credentials BotoProvider environ ini_parser self ini_parser creds provider load self assertIsNone creds def test_partial_creds_is_error self ini_,py
parser mock Mock ini_parser return_value Credentials aws_access_key_id Missing aws_secret_access_key provider credentials BotoProvider environ ini_parser ini_parser with self assertRaises ibm_botocore exceptions PartialCredentialsError provider load class TestOriginalEC2Provider BaseEnvVar def test_load_ec2_credentials_file_not_exist self provider credentials OriginalEC2Provider environ creds provider load self assertIsNone creds def test_load_ec2_credentials_file_exists self environ AWS_CREDENTIAL_FILE foo cfg parser mock Mock parser return_value AWSAccessKeyId AWSSecretKey b provider credentials OriginalEC2Provider environ environ ,py
 parser parser creds provider load self assertIsNotNone creds self assertEqual creds access_key self assertEqual creds secret_key b self assertIsNone creds token self assertEqual creds method ec2 credentials file class TestInstanceMetadataProvider BaseEnvVar def test_load_from_instance_metadata self timeobj datetime now tzlocal timestamp timeobj timedelta hours 24 isoformat fetcher mock Mock fetcher retrieve_iam_role_credentials return_value access_key secret_key b token c expiry_time timestamp role_name myrole provider credentials InstanceMetadataProvider iam_role_fetcher fetcher creds provider load self assertIsNotNone creds self assertEqual creds access_key self assertEqual creds secret_key ,py
 b self assertEqual creds token c self assertEqual creds method iam role def test_no_role_creds_exist self fetcher mock Mock fetcher retrieve_iam_role_credentials return_value provider credentials InstanceMetadataProvider iam_role_fetcher fetcher creds provider load self assertIsNone creds fetcher retrieve_iam_role_credentials assert_called_with class CredentialResolverTest BaseEnvVar def setUp self super CredentialResolverTest self setUp self provider1 mock Mock self provider1 METHOD provider1 self provider2 mock Mock self provider2 METHOD provider2 self fake_creds credentials Credentials b c def test_load_credentials_single_provider self self provider1 load return_value self fake_creds resolver credentials CredentialResolver providers self provider1 creds resolver loa,py
d_credentials self assertEqual creds access_key self assertEqual creds secret_key b self assertEqual creds token c def test_get_provider_by_name self resolver credentials CredentialResolver providers self provider1 result resolver get_provider provider1 self assertIs result self provider1 def test_get_unknown_provider_raises_error self resolver credentials CredentialResolver providers self provider1 with self assertRaises ibm_botocore exceptions UnknownCredentialError resolver get_provider unknown foo def test_first_credential_non_none_wins self self provider1 load return_value None self provider2 load return_value self fake_creds resolver credentials CredentialResolver providers self provider1 self provider2 creds resolver load_credentials self assertEqual creds a,py
ccess_key self assertEqual creds secret_key b self assertEqual creds token c self provider1 load assert_called_with self provider2 load assert_called_with def test_no_creds_loaded self self provider1 load return_value None self provider2 load return_value None resolver credentials CredentialResolver providers self provider1 self provider2 creds resolver load_credentials self assertIsNone creds def test_inject_additional_providers_after_existing self self provider1 load return_value None self provider2 load return_value self fake_creds resolver credentials CredentialResolver providers self provider1 self provider2 Now we were call resolver load now provider2 would win because it s returning non None response ,py
 However we can inject new provider before provider2 override this process Providers can be added by METHOD name of each provider new_provider mock Mock new_provider METHOD new_provider new_provider load return_value credentials Credentials d e f resolver insert_after provider1 new_provider creds resolver load_credentials self assertIsNotNone creds self assertEqual creds access_key d self assertEqual creds secret_key e self assertEqual creds token f Provider 1 should have been called but provider2 should not have been called because new_provider already returned non None response self provider1 load assert_called_with self assertTrue not self provider2 called def test_inject_provider_before_existing self new_provider mock Mock new_provider METHOD override new_provider load return_value cre,py
dentials Credentials x y z resolver credentials CredentialResolver providers self provider1 self provider2 resolver insert_before self provider1 METHOD new_provider creds resolver load_credentials self assertEqual creds access_key x self assertEqual creds secret_key y self assertEqual creds token z def test_can_remove_providers self self provider1 load return_value credentials Credentials b c self provider2 load return_value credentials Credentials d e f resolver credentials CredentialResolver providers self provider1 self provider2 resolver remove provider1 creds resolver load_credentials self assertIsNotNone creds self assertEqual creds access_key d self assertEqual creds,py
 secret_key e self assertEqual creds token f self assertTrue not self provider1 load called self provider2 load assert_called_with def test_provider_unknown self resolver credentials CredentialResolver providers self provider1 self provider2 No error raised you try remove an unknown provider resolver remove providerFOO But an error IS raised you try insert after an unknown provider with self assertRaises ibm_botocore exceptions UnknownCredentialError resolver insert_after providerFoo None class TestCreateCredentialResolver BaseEnvVar def setUp self super TestCreateCredentialResolver self setUp self session mock Mock self session_instance_vars credentials_file legacy_config_file b config_file c metadata_service_tim,py
eout d metadata_service_num_attempts e self fake_env_vars self session get_config_variable self fake_get_config_variable def fake_get_config_variable self name methods None methods instance self session_instance_vars get name elif methods not None and env methods self fake_env_vars get name def test_create_credential_resolver self resolver credentials create_credential_resolver self session self assertIsInstance resolver credentials CredentialResolver def test_explicit_profile_ignores_env_provider self self session_instance_vars profile dev resolver credentials create_credential_resolver self session self assertTrue all not isinstance p EnvProvider p resolver providers def test_no_profile_checks_env_provider self If no profile provided self session_instance_vars pop profile None,py
 resolver credentials create_credential_resolver self session Then an EnvProvider should be part of our credential lookup chain self assertTrue any isinstance p EnvProvider p resolver providers def test_env_provider_added_if_profile_from_env_set self self fake_env_vars profile profile from env resolver credentials create_credential_resolver self session self assertTrue any isinstance p EnvProvider p resolver providers class TestAssumeRoleCredentialProvider unittest TestCase maxDiff None def setUp self self fake_config profiles development role_arn myrole source_profile longterm longterm aws_access_key_id akid aws_secret_access_key skid def create_conf,py
ig_loader self with_config None with_config None with_config self fake_config load_config mock Mock load_config return_value with_config load_config def create_client_creator self with_response Create mock sts client that returns specific response assume_role client mock Mock isinstance with_response list client assume_role side_effect with_response else client assume_role return_value with_response mock Mock return_value client def some_future_time self timeobj datetime now tzlocal timeobj timedelta hours 24 def test_assume_role_with_no_cache self response Credentials AccessKeyId foo SecretAccessKey bar SessionToken baz Expiration self some_future_time isoformat client_cr,py
eator self create_client_creator with_response response provider credentials AssumeRoleProvider self create_config_loader client_creator cache profile_name development creds provider load self assertEqual creds access_key foo self assertEqual creds secret_key bar self assertEqual creds token baz def test_assume_role_with_datetime self response Credentials AccessKeyId foo SecretAccessKey bar SessionToken baz Note lack of isoformat we re using datetime datetime type This will ensure we test both parsing as well as serializing from given datetime because credentials are immediately expired Expiration datetime now tzlocal timedelta hours 20 client_creator self cr,py
eate_client_creator with_response response provider credentials AssumeRoleProvider self create_config_loader client_creator cache profile_name development creds provider load self assertEqual creds access_key foo self assertEqual creds secret_key bar self assertEqual creds token baz def test_assume_role_refresher_serializes_datetime self client mock Mock time_zone tzutc expiration datetime year 2016 month 11 day 6 hour 1 minute 30 tzinfo time_zone client assume_role return_value Credentials AccessKeyId foo SecretAccessKey bar SessionToken baz Expiration expiration refresh create_assume_role_refresher client expiry_time refresh expiry_time self assertEqual expiry_time 2016 11 06T0,py
1 30 00UTC def test_assume_role_retrieves_from_cache self date_in_future datetime utcnow timedelta seconds 1000 utc_timestamp date_in_future isoformat Z self fake_config profiles development role_arn myrole cache development myrole Credentials AccessKeyId foo cached SecretAccessKey bar cached SessionToken baz cached Expiration utc_timestamp provider credentials AssumeRoleProvider self create_config_loader mock Mock cache cache profile_name development creds provider load self assertEqual creds access_key foo cached self assertEqual creds secret_key bar cached self assertEqual creds token baz cached def test_cache_key_is_windows_safe self response ,py
 Credentials AccessKeyId foo SecretAccessKey bar SessionToken baz Expiration datetime now tzlocal isoformat cache self fake_config profiles development role_arn arn aws iam foo role client_creator self create_client_creator with_response response provider credentials AssumeRoleProvider self create_config_loader client_creator cache cache profile_name development provider load On windows you cannot use filename so we need do some small transformations on filename replace any that come up self assertEqual cache development arn_aws_iam__foo role response def test_cache_key_with_role_session_name self response Credentials AccessKeyId fo,py
o SecretAccessKey bar SessionToken baz Expiration datetime now tzlocal isoformat cache self fake_config profiles development role_arn arn aws iam foo role self fake_config profiles development role_session_name foo_role_session_name client_creator self create_client_creator with_response response provider credentials AssumeRoleProvider self create_config_loader client_creator cache cache profile_name development provider load self assertEqual cache development arn_aws_iam__foo role foo_role_session_name response def test_assume_role_in_cache_but_expired self expired_creds datetime utcnow valid_creds expired_creds timedelta seconds 60 utc_timestamp expired_creds isoformat Z ,py
 response Credentials AccessKeyId foo SecretAccessKey bar SessionToken baz Expiration valid_creds isoformat Z client_creator self create_client_creator with_response response cache development myrole Credentials AccessKeyId foo cached SecretAccessKey bar cached SessionToken baz cached Expiration utc_timestamp provider credentials AssumeRoleProvider self create_config_loader client_creator cache cache profile_name development creds provider load self assertEqual creds access_key foo self assertEqual creds secret_key bar self assertEqual creds token baz def test_role_session_na,py
me_provided self dev_profile self fake_config profiles development dev_profile role_session_name myname response Credentials AccessKeyId foo SecretAccessKey bar SessionToken baz Expiration datetime now tzlocal isoformat client_creator self create_client_creator with_response response provider credentials AssumeRoleProvider self create_config_loader client_creator cache profile_name development provider load client client_creator return_value client assume_role assert_called_with RoleArn myrole RoleSessionName myname def test_external_id_provided self self fake_config profiles development external_id myid response Credentials AccessKeyId foo ,py
 SecretAccessKey bar SessionToken baz Expiration datetime now tzlocal isoformat client_creator self create_client_creator with_response response provider credentials AssumeRoleProvider self create_config_loader client_creator cache profile_name development provider load client client_creator return_value client assume_role assert_called_with RoleArn myrole ExternalId myid RoleSessionName mock ANY def test_assume_role_with_mfa self self fake_config profiles development mfa_serial mfa response Credentials AccessKeyId foo SecretAccessKey bar SessionToken baz Expiration datetime now tzlocal isoformat client_creator self create_client_creator with_re,py
sponse response prompter mock Mock return_value token code provider credentials AssumeRoleProvider self create_config_loader client_creator cache profile_name development prompter prompter provider load client client_creator return_value In addition normal assume role args we should also inject serial number from config as well as token code that comes from prompting user prompter object client assume_role assert_called_with RoleArn myrole RoleSessionName mock ANY SerialNumber mfa TokenCode token code def test_assume_role_populates_session_name_on_refresh self responses Credentials AccessKeyId foo SecretAccessKey bar SessionToken baz We re creating an expiry time past so as soon as we try access credentials ref,py
resh behavior will be triggered Expiration datetime now tzlocal timedelta seconds 100 isoformat Credentials AccessKeyId foo SecretAccessKey bar SessionToken baz Expiration datetime now tzlocal timedelta seconds 100 isoformat client_creator self create_client_creator with_response responses provider credentials AssumeRoleProvider self create_config_loader client_creator cache profile_name development prompter mock Mock return_value token code This will trigger first assume_role call It returns credentials that are expired and will trigger refresh creds provider load This will trigger second assume_role call because ,py
 refresh needed creds get_frozen_credentials client client_creator return_value assume_role_calls client assume_role call_args_list self assertEqual len assume_role_calls 2 assume_role_calls The args should be identical That second assume_role call should have exact same args as initial assume_role call self assertEqual assume_role_calls 0 assume_role_calls 1 def test_assume_role_mfa_cannot_refresh_credentials self Note we should look into supporting optional behavior future that allows reprompting credentials But now we get temp creds with MFA then when those creds expire we can t refresh credentials self fake_config profiles development mfa_serial mfa response Credentials AccessKeyId foo SecretAccessKey bar SessionToken baz We re creating,py
 an expiry time past so as soon as we try access credentials refresh behavior will be triggered Expiration datetime now tzlocal timedelta seconds 100 isoformat client_creator self create_client_creator with_response response provider credentials AssumeRoleProvider self create_config_loader client_creator cache profile_name development prompter mock Mock return_value token code creds provider load with self assertRaises credentials RefreshWithMFAUnsupportedError access_key property that will refresh credentials they re expired Because we set expiry time something past this will trigger refresh behavior with with MFA will currently raise an exception creds access_key def test_no_config_is_noop self self fake_config profiles ,py
 development aws_access_key_id foo aws_secret_access_key bar provider credentials AssumeRoleProvider self create_config_loader mock Mock cache profile_name development Because role_arn was not specified AssumeRoleProvider noop and will not credentials which means we move on next provider creds provider load self assertIsNone creds def test_source_profile_not_provided self del self fake_config profiles development source_profile provider credentials AssumeRoleProvider self create_config_loader mock Mock cache profile_name development source_profile required we shoudl get an error with self assertRaises ibm_botocore exceptions PartialCredentialsError provider load def test_source_profile_does_not_exist self dev_profile self fake_conf,py
ig profiles development dev_profile source_profile does not exist provider credentials AssumeRoleProvider self create_config_loader mock Mock cache profile_name development source_profile required we shoudl get an error with self assertRaises ibm_botocore exceptions InvalidConfigError provider load class TestRefreshLogic unittest TestCase def test_mandatory_refresh_needed self creds IntegerRefresher These values will immediately trigger manadatory refresh creds_last_for 2 mandatory_refresh 3 advisory_refresh 3 temp creds get_frozen_credentials self assertEqual temp credentials ReadOnlyCredentials 1 1 1 def test_advisory_refresh_needed self creds IntegerRefresher These values will immediately trigger manadatory refresh ,py
 creds_last_for 4 mandatory_refresh 2 advisory_refresh 5 temp creds get_frozen_credentials self assertEqual temp credentials ReadOnlyCredentials 1 1 1 def test_refresh_fails_is_not_an_error_during_advisory_period self fail_refresh mock Mock side_effect Exception refresh failed creds IntegerRefresher creds_last_for 5 advisory_refresh 7 mandatory_refresh 3 refresh_function fail_refresh temp creds get_frozen_credentials We should have called refresh function self assertTrue fail_refresh called The fail_refresh function will raise an exception Because we re advisory period we ll not propogate exception and current set of credentials generation 1 self assertEqual temp credentials ReadOnlyCredentials 0 0 0 def test_exception_propogated_on_e,py
rror_during_mandatory_period self fail_refresh mock Mock side_effect Exception refresh failed creds IntegerRefresher creds_last_for 5 advisory_refresh 10 Note we re mandatory period now 5 7 10 mandatory_refresh 7 refresh_function fail_refresh with self assertRaisesRegexp Exception refresh failed creds get_frozen_credentials def test_exception_propogated_on_expired_credentials self fail_refresh mock Mock side_effect Exception refresh failed creds IntegerRefresher Setting this 0 mean credentials are immediately expired creds_last_for 0 advisory_refresh 10 mandatory_refresh 7 refresh_function fail_refresh with self assertRaisesRegexp Exception refresh failed Because credentials are actually expired any failure refresh ,py
should be propagated creds get_frozen_credentials def test_refresh_giving_expired_credentials_raises_exception self This verifies an edge cases where refreshed credentials still give expired credentials 1 We see credentials are expired 2 We try refresh credentials 3 The refreshed credentials are still expired In this case we hard fail and let user know what happened creds IntegerRefresher Negative number indicates that credentials have already been expired 2 seconds even on refresh creds_last_for 2 err_msg refreshed credentials are still expired with self assertRaisesRegexp RuntimeError err_msg Because credentials are actually expired any failure refresh should be propagated creds get_frozen_credentials class TestContainerProvider BaseEnvVar def t,py
est_noop_if_env_var_is_not_set self The AWS_CONTAINER_CREDENTIALS_RELATIVE_URI env var not present as an env var environ provider credentials ContainerProvider environ creds provider load self assertIsNone creds def full_url self url http s s ContainerMetadataFetcher IP_ADDRESS url def create_fetcher self fetcher mock Mock spec ContainerMetadataFetcher fetcher full_url self full_url fetcher def test_retrieve_from_provider_if_env_var_present self environ AWS_CONTAINER_CREDENTIALS_RELATIVE_URI latest credentials id foo fetcher self create_fetcher timeobj datetime now tzlocal timestamp timeobj timedelta hours 24 isoformat fetcher retrieve_full_uri return_value AccessKeyId access_key SecretAccessKey secret_key Token token ,py
 Expiration timestamp provider credentials ContainerProvider environ fetcher creds provider load fetcher retrieve_full_uri assert_called_with self full_url latest credentials id foo headers None self assertEqual creds access_key access_key self assertEqual creds secret_key secret_key self assertEqual creds token token self assertEqual creds method container role def test_creds_refresh_when_needed self environ AWS_CONTAINER_CREDENTIALS_RELATIVE_URI latest credentials id foo fetcher mock Mock spec credentials ContainerMetadataFetcher timeobj datetime now tzlocal expired_timestamp timeobj timedelta hours 23 isoformat future_timestamp timeobj timedelta hours 1 isoformat fetcher retrieve_full_uri side_effect AccessKeyId access_key_old ,py
 SecretAccessKey secret_key_old Token token_old Expiration expired_timestamp AccessKeyId access_key_new SecretAccessKey secret_key_new Token token_new Expiration future_timestamp provider credentials ContainerProvider environ fetcher creds provider load frozen_creds creds get_frozen_credentials self assertEqual frozen_creds access_key access_key_new self assertEqual frozen_creds secret_key secret_key_new self assertEqual frozen_creds token token_new def test_http_error_propagated self environ AWS_CONTAINER_CREDENTIALS_RELATIVE_URI latest credentials id foo fetcher mock Mock spec credentials ContainerMetadataFetcher timeobj datetime now tzlocal expired_timestamp t,py
imeobj timedelta hours 23 isoformat future_timestamp timeobj timedelta hours 1 isoformat exception ibm_botocore exceptions CredentialRetrievalError fetcher retrieve_full_uri side_effect exception provider ecs role error_msg fake http error with self assertRaises exception provider credentials ContainerProvider environ fetcher creds provider load def test_http_error_propagated_on_refresh self We should ensure errors are still propagated even case of failed refresh environ AWS_CONTAINER_CREDENTIALS_RELATIVE_URI latest credentials id foo fetcher mock Mock spec credentials ContainerMetadataFetcher timeobj datetime now tzlocal expired_timestamp timeobj timedelta hours 23 isoformat http_exception ibm_botocore exceptions MetadataRetrievalError raised_excepti,py
on ibm_botocore exceptions CredentialRetrievalError fetcher retrieve_full_uri side_effect AccessKeyId access_key_old SecretAccessKey secret_key_old Token token_old Expiration expired_timestamp http_exception error_msg HTTP connection timeout provider credentials ContainerProvider environ fetcher First time works with no issues creds provider load Second time with refresh should propagate an error with self assertRaises raised_exception frozen_creds creds get_frozen_credentials def test_can_use_full_url self environ AWS_CONTAINER_CREDENTIALS_FULL_URI http localhost foo fetcher self create_fetcher timeobj datetime now tzlocal timestamp timeobj timedelta hours 24 isoformat fetcher retrieve_,py
full_uri return_value AccessKeyId access_key SecretAccessKey secret_key Token token Expiration timestamp provider credentials ContainerProvider environ fetcher creds provider load fetcher retrieve_full_uri assert_called_with http localhost foo headers None self assertEqual creds access_key access_key self assertEqual creds secret_key secret_key self assertEqual creds token token self assertEqual creds method container role def test_can_pass_basic_auth_token self environ AWS_CONTAINER_CREDENTIALS_FULL_URI http localhost foo AWS_CONTAINER_AUTHORIZATION_TOKEN Basic auth token fetcher self create_fetcher timeobj datetime now tzlocal timestamp timeobj timedelta hours 24 isoformat ,py
 fetcher retrieve_full_uri return_value AccessKeyId access_key SecretAccessKey secret_key Token token Expiration timestamp provider credentials ContainerProvider environ fetcher creds provider load fetcher retrieve_full_uri assert_called_with http localhost foo headers Authorization Basic auth token self assertEqual creds access_key access_key self assertEqual creds secret_key secret_key self assertEqual creds token token self assertEqual creds method container role ,py
package io github jhipster registry security jwt io github jhipster registry config JHipsterProperties java util java util stream Collectors javax annotation PostConstruct javax inject Inject org slf4j Logger org slf4j LoggerFactory org springframework security authentication UsernamePasswordAuthenticationToken org springframework security core Authentication org springframework security core GrantedAuthority org springframework security core authority SimpleGrantedAuthority org springframework security core userdetails User org springframework stereotype Component io jsonwebtoken Component class TokenProvider private final Logger log LoggerFactory getLogger TokenProvider class private static final String AUTHORITIES_KEY auth private String secretKey private long tokenValidityInSeconds private long tokenValidityInSecondsForRememberMe Inject private JHipsterProperties jHipsterProperties PostConstruct void init this,java
 secretKey jHipsterProperties getSecurity getAuthentication getJwt getSecret this tokenValidityInSeconds 1000 jHipsterProperties getSecurity getAuthentication getJwt getTokenValidityInSeconds this tokenValidityInSecondsForRememberMe 1000 jHipsterProperties getSecurity getAuthentication getJwt getTokenValidityInSecondsForRememberMe String createToken Authentication authentication Boolean rememberMe String authorities authentication getAuthorities stream map authority authority getAuthority collect Collectors joining long now new Date getTime Date validity rememberMe validity new Date now this tokenValidityInSecondsForRememberMe else validity new Date now this tokenValidityInSeconds Jwts builder setSubject authentication getName ,java
 claim AUTHORITIES_KEY authorities signWith SignatureAlgorithm HS512 secretKey setExpiration validity compact Authentication getAuthentication String token Claims claims Jwts parser setSigningKey secretKey parseClaimsJws token getBody Collection extends GrantedAuthority authorities Arrays stream claims get AUTHORITIES_KEY toString split map SimpleGrantedAuthority new collect Collectors toList User principal new User claims getSubject authorities new UsernamePasswordAuthenticationToken principal authorities boolean validateToken String authToken try Jwts parser setSigningKey secretKey parseClaimsJws authToken true catch SignatureException e log info Invalid JWT signature e getMessage,java
 package com ibm cloud objectstorage util java util Iterator class IndexValues implements Iterable int private final int lengths Constructs an link Iterable all possible combination of array index values given array lengths This can be useful generating unit test cases ,java
 param lengths array lengths IndexValues int lengths lengths null lengths length 0 throw new IllegalArgumentException int len lengths len 1 throw new IllegalArgumentException this lengths lengths clone private static class Iter implements Iterator int private final int lengths private int curr private Iter int lengths this lengths lengths this curr new int lengths length Override boolean hasNext curr null Override int next ,java
 curr null null final int last lengths length 1 curr last lengths last 1 int ret curr clone curr last ret curr last lengths last 1 go left search more capacity int j last 1 j 0 j curr j lengths j 1 int ret curr clone curr j int k j 1 k lengths length k curr k 0 ret int ret curr last combination curr null ret throw new IllegalStateException Bug Override void remove Override Iterator int iterator new Iter lengths ,java
 xml version 1 0 encoding UTF 8 project xmlns http maven apache org POM 4 0 0 xmlns xsi http www w3 org 2001 XMLSchema instance xsi schemaLocation http maven apache org POM 4 0 0 http maven apache org xsd maven 4 0 0 xsd modelVersion 4 0 0 modelVersion parent artifactId og artifactId groupId com ibm groupId version 1 4 0 version parent artifactId og s3 artifactId name S3 name description Amazon S3 HTTP API components description dependencies dependency groupId com ibm groupId artifactId og api artifactId dependency dependency groupId com ibm groupId artifactId og http artifactId dependency dependency groupId com ibm groupId artifactId og util artifactId dependency dependency groupId com amazonaws groupId artifactId aws java sdk s3 artifactId dependency dependency groupId com ibm groupId art,xml
ifactId og supplier artifactId scope test scope dependency dependencies project ,xml
 package com ibm cloud objectstorage org apache commons logging Log org apache commons logging LogFactory com ibm cloud objectstorage annotation SdkInternalApi com ibm cloud objectstorage annotation SdkProtectedApi com ibm cloud objectstorage auth RegionAwareSigner com ibm cloud objectstorage auth Signer com ibm cloud objectstorage auth SignerFactory com ibm cloud objectstorage client AwsSyncClientParams com ibm cloud objectstorage client builder AwsClientBuilder com ibm ,java
cloud objectstorage handlers RequestHandler com ibm cloud objectstorage handlers RequestHandler2 com ibm cloud objectstorage http AmazonHttpClient com ibm cloud objectstorage http ExecutionContext com ibm cloud objectstorage internal DefaultServiceEndpointBuilder com ibm cloud objectstorage internal auth DefaultSignerProvider com ibm cloud objectstorage internal auth SignerProvider com ibm cloud objectstorage internal auth SignerProviderContext com ibm cloud objectstorage log CommonsLogFactory com ibm cloud objectstorage metrics AwsSdkMetrics com ibm cloud objectstorage metrics RequestMetricCollector com ibm cloud objectstorage regions Region com ibm cloud objectstorage regions Regions com ibm cloud objectstorage util AWSRequestMetrics com ibm cloud objectstorage util AwsHostNameUtils com ibm cloud objectstorage util Classes com ibm cloud objectstorage util RuntimeHttpUtils com ibm cloud objectstorage util StringUtils com ibm cloud objectstorage util AWSRequestMetrics Field static com ibm ,java
cloud objectstorage SDKGlobalConfiguration PROFILING_SYSTEM_PROPERTY java net URI java util List java util concurrent CopyOnWriteArrayList abstract class AmazonWebServiceClient Deprecated static final boolean LOGGING_AWS_REQUEST_METRIC true private static final String AMAZON Amazon private static final String AWS AWS private static final Log log LogFactory getLog AmazonWebServiceClient class static Configures internal logging of signers and core classes use Jakarta Commons Logging stay consistent with rest of library boolean success com ibm cloud objectstorage log InternalLogFactory configureFactory new CommonsLogFactory log isDebu,java
gEnabled log debug Internal logging successfully configured commons logger success private volatile boolean isImmutable false protected volatile URI endpoint private volatile String signerRegionOverride protected ClientConfiguration clientConfiguration protected AmazonHttpClient client ,java
 protected final List RequestHandler2 requestHandler2s protected int timeOffset private volatile SignerProvider signerProvider private volatile String serviceName private volatile String endpointPrefix AmazonWebServiceClient ClientConfiguration clientConfiguration this clientConfiguration null Constructs new AmazonWebServiceClient ,java
object using specified configuration and request metric collector param clientConfiguration The client configuration this client param requestMetricCollector optional request metric collector be used at http client level can be null AmazonWebServiceClient ClientConfiguration clientConfiguration RequestMetricCollector requestMetricCollector this clientConfiguration requestMetricCollector false SdkProtectedApi protected AmazonWebServiceClient ClientConfiguration clientConfiguration RequestMetricCollector requestMetricCollector boolean disableStrictHostNameVerification this clientConfiguration clientConfiguration requestHandler2s new CopyOnWriteArrayList RequestHandler2 client new AmazonHttpClient clientConfiguration requestMetricCollector d,java
isableStrictHostNameVerification calculateCRC32FromCompressedData protected AmazonWebServiceClient AwsSyncClientParams clientParams this clientConfiguration clientParams getClientConfiguration requestHandler2s clientParams getRequestHandlers client new AmazonHttpClient clientConfiguration clientParams getRequestMetricCollector useStrictHostNameVerification calculateCRC32FromCompressedData Deprecated protected Signer getSigner signerProvider getSigner SignerProviderContext builder build SdkProtectedApi protected SignerProvider getSignerProvider signerProvider ,java
 Overrides default endpoint this client Callers can use this method control which AWS region they want work with p b This method not threadsafe Endpoints should be configured when client created and before any service requests are made Changing it afterwards creates inevitable race conditions any service requests transit b p Callers can pass just endpoint ex ec2 amazonaws com or full URL including protocol ex https ec2 amazonaws com If protocol not specified here default protocol from this client s link ClientConfiguration will be used which by default HTTPS p For more information on using AWS regions with AWS SDK Java and complete list of all available endpoints all AWS services see href http developer amazonwebservices com connect entry jspa externalID 3912 http developer amazonwebservices com connect entry jspa externalID 3912 param,java
 endpoint The endpoint ex ec2 amazonaws com or full URL including protocol ex https ec2 amazonaws com of region specific AWS endpoint this client will communicate with throws IllegalArgumentException If any problems are detected with specified endpoint deprecated use link AwsClientBuilder setEndpointConfiguration AwsClientBuilder EndpointConfiguration example code builder setEndpointConfiguration new EndpointConfiguration endpoint signingRegion Deprecated void setEndpoint String endpoint throws IllegalArgumentException checkMutability URI uri toURI endpoint Signer signer computeSignerByURI uri signerRegionOverride false synchronized this this endpoint uri this signerProvider createSignerProvider signer private,java
 URI toURI String endpoint throws IllegalArgumentException RuntimeHttpUtils toUri endpoint clientConfiguration Signer getSignerByURI URI uri computeSignerByURI uri signerRegionOverride true Returns signer given uri and current client configuration p Note however signer returned S3 incomplete at this stage as information on S3 bucket and key not yet known param signerRegionOverride overriding signer region or null there none param isRegionIdAsSignerParam true regionId ,java
used configure signer applicable false this method called purpose of purely setting communication end point of this AWS client and therefore regionId parameter will not be used directly configuring signer private Signer computeSignerByURI URI uri String signerRegionOverride boolean isRegionIdAsSignerParam uri null throw new IllegalArgumentException Endpoint not set Use setEndpoint set an endpoint before performing any request String service getServiceNameIntern String region AwsHostNameUtils parseRegionName uri getHost service computeSignerByServiceRegion service region signerRegionOverride isRegionIdAsSignerParam Returns signer given service name region id and current client configuration p Note however signer returned S3 incomplete at thi,java
s stage as information on S3 bucket and key not yet known param regionId region sending AWS requests param signerRegionOverride overriding signer region or null there none param isRegionIdAsSignerParam true regionId used configure signer applicable false this method called purpose of purely setting communication end point of this AWS client and therefore regionId parameter will not be used directly configuring signer private Signer computeSignerByServiceRegion String serviceName String regionId String signerRegionOverride boolean isRegionIdAsSignerParam String signerType clientConfiguration getSignerOverride Signer signer signerType null SignerFactory getSigner serviceName regionId SignerFactory getSignerByTypeAndService signerType,java
 serviceName signer instanceof RegionAwareSigner Overrides default region computed RegionAwareSigner regionAwareSigner RegionAwareSigner signer signerRegionOverride null means that it likely be AWS internal dev work as signerRegionOverride typically null when used external release signerRegionOverride null regionAwareSigner setRegionName signerRegionOverride else regionId null isRegionIdAsSignerParam regionAwareSigner setRegionName regionId signer An alternative link AmazonWebServiceClient setEndpoint String sets regional endpoint this client s service calls Callers can use this method control which AWS region they want work with p b This method not threadsafe A region should be configured when client created and before any service,java
 requests are made Changing it afterwards creates inevitable race conditions any service requests transit or retrying b p By default all service endpoints all regions use https protocol To use http instead specify it link ClientConfiguration supplied at construction param region The region this client will communicate with See link Region getRegion com ibm cloud objectstorage regions Regions accessing given region throws java lang IllegalArgumentException If given region null or this service isn t available given region See link Region isServiceSupported String see Region getRegion com ibm cloud objectstorage regions Regions see Region createClient Class com ibm cloud objectstorage auth AWSCredentialsProvider ClientConfiguration deprecated use link AwsClientBuilder setRegion String Deprec,java
ated void setRegion Region region throws IllegalArgumentException checkMutability region null throw new IllegalArgumentException No region provided final String serviceNameForEndpoint getEndpointPrefix final String serviceNameForSigner getServiceNameIntern URI uri new DefaultServiceEndpointBuilder serviceNameForEndpoint clientConfiguration getProtocol toString withRegion region getServiceEndpoint Signer signer computeSignerByServiceRegion serviceNameForSigner region getName signerRegionOverride false synchronized this this endpoint uri this signerProvider createSignerProvider signer Deprecated,java
 final void configureRegion Regions region checkMutability region null throw new IllegalArgumentException No region provided this setRegion Region getRegion region void shutdown client shutdown Deprecated void addRequestHandler RequestHandler requestHandler check,java
Mutability requestHandler2s add RequestHandler2 adapt requestHandler Deprecated void addRequestHandler RequestHandler2 requestHandler2 checkMutability requestHandler2s add requestHandler2 Deprecated void removeRequestHandler RequestHandler requestHandler ,java
 checkMutability requestHandler2s remove RequestHandler2 adapt requestHandler Deprecated void removeRequestHandler RequestHandler2 requestHandler2 checkMutability requestHandler2s remove requestHandler2 SuppressWarnings unchecked protected final T extends AmazonWebServiceRequest T beforeMarshalling T request T local request RequestHandler2 handler requestHandler2s local T handler beforeMarshalling local local protected ExecutionContext createExecutionContext AmazonWebServiceRequest req createExecutionContext,java
 req signerProvider protected ExecutionContext createExecutionContext AmazonWebServiceRequest req SignerProvider signerProvider boolean isMetricsEnabled isRequestMetricsEnabled req isProfilingEnabled ExecutionContext builder withRequestHandler2s requestHandler2s withUseRequestMetrics isMetricsEnabled withAwsClient this withSignerProvider signerProvider build protected final ExecutionContext createExecutionContext Request req createExecutionContext req getOriginalRequest protected SignerProvider createSignerProvider Signer signer new DefaultSignerProvider this signer protected static boolean isProfilingEnabled System getProperty PROFILING_SYSTEM_PROPERTY null Returns true request met,java
ric collection applicable given request false otherwise protected final boolean isRequestMetricsEnabled AmazonWebServiceRequest req RequestMetricCollector c req getRequestMetricCollector request level collector c null c isEnabled true isRMCEnabledAtClientOrSdkLevel private boolean isRMCEnabledAtClientOrSdkLevel RequestMetricCollector c requestMetricCollector c null c isEnabled ,java
 void setTimeOffset int timeOffset checkMutability this timeOffset timeOffset AmazonWebServiceClient withTimeOffset int timeOffset checkMutability setTimeOffset timeOffset this int getTimeOffset timeOffset,java
 RequestMetricCollector getRequestMetricsCollector client getRequestMetricCollector protected RequestMetricCollector requestMetricCollector RequestMetricCollector mc client getRequestMetricCollector mc null AwsSdkMetrics getRequestMetricCollector mc private final RequestMetricCollector findRequestMetricCollector RequestMetricCollector reqLevelMetricsCollector reqLevelMetricsCollector null reqLevelMetricsCollector else getRequestMetricsCollector null getRequestMetricsCollector ,java
 else AwsSdkMetrics getRequestMetricCollector protected final T extends AmazonWebServiceRequest T beforeClientExecution T request T local request RequestHandler2 handler requestHandler2s local T handler beforeExecution local local protected final void endClientExecution AWSRequestMetrics awsRequestMetrics Request request Response response this endClientExecution awsRequestMetrics request response LOGGING_AWS_REQUEST_METRIC Common routine end client AWS request response execution and collect request metrics Caller of this routine responsible starting event link Field ClientExecuteTime and call this method ,java
 try finally block param loggingAwsRequestMetrics deprecated and ignored protected final void endClientExecution AWSRequestMetrics awsRequestMetrics Request request Response response Deprecated boolean loggingAwsRequestMetrics request null awsRequestMetrics endEvent Field ClientExecuteTime awsRequestMetrics getTimingInfo endTiming RequestMetricCollector c findRequestMetricCollector request getOriginalRequest getRequestMetricCollector c collectMetrics request response awsRequestMetrics log Deprecated protected String getServiceAbbreviation getServiceNameIntern Returns service abbreviation this service used identifying service endpoints by region identifying necessary signer etc Use,java
d be call getServiceAbbreviation String getServiceName getServiceNameIntern String getEndpointPrefix endpointPrefix null endpointPrefix String httpClientName getHttpClientName String serviceNameInRegionMetadata ServiceNameFactory getServiceNameInRegionMetadata httpClientName synchronized this endpointPrefix null endpointPrefix serviceNameInRegionMetadata null endpointPrefix serviceNameInRegionMetadata else ,java
 endpointPrefix getServiceNameIntern protected void setEndpointPrefix String endpointPrefix endpointPrefix null throw new IllegalArgumentException The parameter endpointPrefix must be specified this endpointPrefix endpointPrefix protected String getServiceNameIntern serviceName null synchronized this serviceName null serviceName computeServiceName serviceName An ,java
internal method used explicitly override service name computed by default implementation This method not expected be normally called except AWS internal development purposes final void setServiceNameIntern String serviceName serviceName null throw new IllegalArgumentException The parameter serviceName must be specified this serviceName serviceName private String computeServiceName final String httpClientName getHttpClientName String service ServiceNameFactory getServiceName httpClientName service null ,java
 service only it so explicitly configured Otherwise make use of convention over configuration int j httpClientName indexOf JavaClient j 1 j httpClientName indexOf Client j 1 throw new IllegalStateException Unrecognized suffix AWS http client class name httpClientName int i httpClientName indexOf AMAZON int len i 1 i httpClientName indexOf AWS i 1 throw new IllegalStateException Unrecognized prefix AWS http client class name httpClientName len AWS length else len AMAZON length i j throw new IllegalStateException Unrecognized AWS http client class name httpClientName String servi,java
ceName httpClientName substring i len j StringUtils lowerCase serviceName private String getHttpClientName Class httpClientClass Classes childClassOf AmazonWebServiceClient class this httpClientClass getSimpleName final String getSignerRegionOverride signerRegionOverride final void setSignerRegionOverride String signerRegionOverride checkMutability Signer signer computeSignerByURI endpoint signerRegionOverride true synchronized this this signerRegionOverride signerRegionOverride this signerProvider createSignerProvider si,java
gner Deprecated T extends AmazonWebServiceClient T withRegion Region region setRegion region SuppressWarnings unchecked T t T this t Deprecated T extends AmazonWebServiceClient T withRegion Regions region co,java
nfigureRegion region SuppressWarnings unchecked T t T this t Deprecated T extends AmazonWebServiceClient T withEndpoint String endpoint setEndpoint endpoint SuppressWarnings unchecked T t T this t Deprecated SdkInternalApi final void makeImmutable this isImmutable true ,java
 SdkProtectedApi protected final void checkMutability isImmutable throw new UnsupportedOperationException Client immutable when created with builder protected boolean useStrictHostNameVerification true protected boolean calculateCRC32FromCompressedData false String getSignerOverrid,java
e clientConfiguration getSignerOverride ,java
 function var app angular module protoApp ngRoute ngMaterial ngMessages ngSanitize com 2fdevs videogular com 2fdevs videogular plugins controls com 2fdevs videogular plugins overlayplay com 2fdevs videogular plugins buffering com 2fdevs videogular plugins poster info vietnamcode nampnq videogular plugins youtube angular filter app config function routeProvider r,js
outeProvider when splashpage controller SplashPageController templateUrl app views splashpage html when controller VideoController templateUrl app views video html when episode controller EpisodeController templateUrl app views episode html otherwise redirectTo app directive myEnter function function scope element attrs element bind keydown keypress function event event which 13 scope apply function scope eval attrs myEnter event preventDefault app controller mainCtrl function scope rootScope log timeout mdSidenav mdPanel console log LOADED scope redirect function topic index topic main window location else ,js
 window location topic console log topic selected scope selectedIndex index scope formData rootScope test scope formData searchText scope check function var search scope formData searchText console log scope formData searchText works window location custom function debounce func wait context var timer function debounced var context scope args Array prototype slice call arguments timeout cancel timer timer timeout function timer undefined func apply context args wait 10 function buildDelayedToggler navID debounce function mdSidenav navID toggle then function log debug toggle navID done 200 function buildToggler navID function,js
 Component lookup should always be available since we are not using ng mdSidenav navID toggle then function log debug toggle navID done scope toggleLeft buildDelayedToggler left scope toggleRight buildToggler right scope showDialog function episode_id var position mdPanel newPanelPosition absolute center var config attachTo angular element document body templateUrl app views episode html hasBackdrop true panelClass demo dialog example position position trapFocus true zIndex 150 clickOutsideToClose true escapeToClose true focusOnOpen true mdPanel open config scope showAbout function var position mdPanel newPanelPosition absolute center var confi,js
g attachTo angular element document body templateUrl app views about tmpl html hasBackdrop true panelClass demo dialog example position position trapFocus true zIndex 150 clickOutsideToClose true escapeToClose true focusOnOpen true mdPanel open config app config function mdThemingProvider mdThemingProvider theme default primaryPalette teal app config function mdThemingProvider mdThemingProvider theme alt primaryPalette indigo ,js
 package org jhipster store web rest vm ,java
 package com ibm cloud objectstorage http org apache commons logging Log org apache commons logging LogFactory com ibm cloud objectstorage AmazonWebServiceResponse com ibm cloud objectstorage ResponseMetadata com ibm cloud objectstorage transform StaxUnmarshallerContext com ibm cloud objectstorage transform Unmarshaller com ibm cloud objectstorage transform VoidStaxUnmarshaller com ibm cloud objectstorage util StringUtils java io ByteArrayInputSt,java
ream java io IOException java io InputStream java util Map javax xml stream XMLEventReader javax xml stream XMLInputFactory javax xml stream XMLStreamException class StaxResponseHandler T implements HttpResponseHandler AmazonWebServiceResponse T private Unmarshaller T StaxUnmarshallerContext responseUnmarshaller private static final Log log LogFactory getLog com ibm cloud objectstorage request private static final XMLInputFactory xmlInputFactory XMLInputFactory newInstance Constructs new response handler that will u,java
se specified StAX unmarshaller unmarshall service response and uses specified response element path find root of business data service s response param responseUnmarshaller The StAX unmarshaller use on response StaxResponseHandler Unmarshaller T StaxUnmarshallerContext responseUnmarshaller this responseUnmarshaller responseUnmarshaller this responseUnmarshaller null this responseUnmarshaller new VoidStaxUnmarshaller T AmazonWebServiceResponse T handle HttpResponse response throws Exception log tra,java
ce Parsing service response XML InputStream content response getContent content null content new ByteArrayInputStream eof getBytes StringUtils UTF8 XMLEventReader eventReader synchronized xmlInputFactory eventReader xmlInputFactory createXMLEventReader content try AmazonWebServiceResponse T awsResponse new AmazonWebServiceResponse T StaxUnmarshallerContext unmarshallerContext new StaxUnmarshallerContext eventReader response getHeaders unmarshallerContext registerMetadataExpression ResponseMetadata RequestId 2 ResponseMetadata AWS_REQUEST_ID unmarshallerContext registerMetadataExpression requestId 2 ResponseMetadata AWS_REQUEST_ID registerAdditionalMetadataExpressions unmarshallerContext T result responseUnmarshaller unmarshall unmarshallerContext awsRespo,java
nse setResult result Map String String metadata unmarshallerContext getMetadata Map String String responseHeaders response getHeaders responseHeaders null responseHeaders get X_AMZN_REQUEST_ID_HEADER null metadata put ResponseMetadata AWS_REQUEST_ID responseHeaders get X_AMZN_REQUEST_ID_HEADER awsResponse setResponseMetadata getResponseMetadata metadata log trace Done parsing service response awsResponse catch XMLStreamException e If exception was caused by an IOE wrap this an IOE so that it will be exposed RetryPolicy e getNestedException instanceof IOException throw new IOException e throw e finally try eventReader close ,java
 catch XMLStreamException e log warn Error closing xml parser e protected ResponseMetadata getResponseMetadata Map String String metadata new ResponseMetadata metadata protected void registerAdditionalMetadataExpressions StaxUnmarshallerContext unmarshallerContext Since this response handler completely consumes all data from underlying HTTP connection during handle method we don t need keep HTTP connection open see com ibm clo,java
ud objectstorage http HttpResponseHandler needsConnectionLeftOpen boolean needsConnectionLeftOpen false ,java
 dependencies const express require express const tesseract require node tesseract const multer require multer const path require path const uuid require uuid const upload multer parsing multipart form data let os take care of removing zombie tmp files const tmpdir require os tmpdir const fs require fs const app express const options psm 8 app get info function req res result app ocr version 0 1 health good res json result app post process upload single image function req res next console log req file let output path resolve tmpdir ocr svc uuid v4 fs writeFile output req file buffer function err err console log err console log The file was saved as output tesseract process output options function err text result Detected Text text trim n console log result res sen,js
d result app post process_pubg upload single image function req res next console log req file let output path resolve tmpdir ocr svc uuid v4 fs writeFile output req file buffer function err err console log err console log The file was saved as output tesseract process output options function err text err res json number 100 console log Tesseract failed process file s with error s output err else let number parseFloat text trim Return any garbage as 100 dead out of game etc isNaN number number 100 Return 0 as 100 0 isn t possible and it usually 100 number 0 number 100 let result number number console log result res json result fs unlink output start http server and log success ap,js
p listen 3001 function console log OCR service listening on port 3001 ,js
var AWS require core var util require util var QueryParamSerializer require query query_param_serializer var Shape require model shape function buildRequest req var operation req service api operations req operation var httpRequest req httpRequest httpRequest headers Content Type application x www form urlencoded charset utf 8 httpRequest params Version req service api apiVersion Action operation name convert request parameters into list of query params e g Deeply NestedParam 0 Name value var builder new QueryParamSerializer builder serialize req params operation input function name value httpRequest params name value httpRequest body util queryParamsToString httpRequest params function extractError resp var data body resp httpResponse body toString body match UnknownOperationException data Code UnknownOperation Message Unknow,js
n operation resp request operation else data new AWS XML Parser parse body data requestId resp requestId resp requestId data requestId data Errors data data Errors data Error data data Error data Code resp error util error new Error code data Code message data Message else resp error util error new Error code resp httpResponse statusCode message null function extractData resp var req resp request var operation req service api operations req operation var shape operation output var origRules shape origRules resultWrapper var tmp Shape create type structure tmp members origRules resultWrapper shape tmp memberNames origRules resultWrapper util property shape name shape resultWrapper shape tmp var parser new AWS XML Parser TODO Refactor XML Parser parse RequestId from re,js
sponse shape shape members shape members _XAMZRequestId var requestIdShape Shape create type string api protocol query requestId shape members _XAMZRequestId requestIdShape var data parser parse resp httpResponse body toString shape resp requestId data _XAMZRequestId data requestId data _XAMZRequestId delete data _XAMZRequestId origRules resultWrapper data origRules resultWrapper util update data data origRules resultWrapper delete data origRules resultWrapper resp data data module exports buildRequest buildRequest extractError extractError extractData extractData ,js
 Copyright 2015 The TensorFlow Authors All Rights Reserved Licensed under Apache License Version 2 0 License you may not use this file except compliance with License You may obtain copy of License at http www apache org licenses LICENSE 2 0 Unless required by applicable law or agreed writing software distributed under License distributed on an AS IS BASIS WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND either express or implied See License specific language governing permissions and limitations under License pylint disable g bad order unused Tests graph freezing tool from __future__ absolute_import from __future__ division from __future__ print_function tensorflow as tf from tensorflow examples image_retraining retrain from tensorflow python framework test_util class ImageRetrainingTest test_util TensorFlowTestCase def dummyImageLists self label_one dir ,py
 somedir training image_one jpg image_two jpg testing image_three jpg image_four jpg validation image_five jpg image_six jpg label_two dir otherdir training image_one jpg image_two jpg testing image_three jpg image_four jpg validation image_five jpg image_six jpg def testGetImagePath self image_lists self dummyImageLists self assertEqual image_dir somedir image_one jpg retrain get_image_path image_lists label_one 0 image_dir training self assertEqual image_dir otherdir image_four jpg retrain get_image_path image_lists label_two 1 image_dir testing def testGetBottleneckPath self,py
 image_lists self dummyImageLists self assertEqual bottleneck_dir somedir image_five jpg txt retrain get_bottleneck_path image_lists label_one 0 bottleneck_dir validation def testShouldDistortImage self self assertEqual False retrain should_distort_images False 0 0 0 self assertEqual True retrain should_distort_images True 0 0 0 self assertEqual True retrain should_distort_images False 10 0 0 self assertEqual True retrain should_distort_images False 0 1 0 self assertEqual True retrain should_distort_images False 0 0 50 def testAddInputDistortions self with tf Graph as_default with tf Session as sess retrain add_input_distortions True 10 10 10 self assertIsNotNone sess graph get_tensor_by_name DistortJPGInput 0 self assertIsNotNone sess graph get_tensor_by_name DistortResult 0 tf test mock patch,py
 object retrain FLAGS learning_rate 0 01 def testAddFinalTrainingOps self flags_mock with tf Graph as_default with tf Session as sess bottleneck tf placeholder tf float32 1 retrain BOTTLENECK_TENSOR_SIZE name retrain BOTTLENECK_TENSOR_NAME split 0 retrain add_final_training_ops 5 final bottleneck self assertIsNotNone sess graph get_tensor_by_name final 0 def testAddEvaluationStep self with tf Graph as_default final tf placeholder tf float32 1 name final gt tf placeholder tf float32 1 name gt self assertIsNotNone retrain add_evaluation_step final gt __name__ __main__ tf test main ,py
 package com ibm cloud objectstorage auth java net URI java text SimpleDateFormat java util Date java util List java util Map java util SortedMap java util TimeZone java util TreeMap com ibm cloud objectstorage SdkClientException com ibm cloud objectstorage SignableRequest class QueryStringSigner extends AbstractAWSSigner imple,java
ments Signer private Date overriddenDate void sign SignableRequest request AWSCredentials credentials throws SdkClientException sign request SignatureVersion V2 SigningAlgorithm HmacSHA256 credentials This signer will add following authentication parameters request AWSAccessKeyId SignatureVersion SignatureMethod Timestamp Signature param request request be signed param version signature version 2 recommended param algorithm ,java
 signature algorithm HmacSHA256 recommended void sign SignableRequest request SignatureVersion version SigningAlgorithm algorithm AWSCredentials credentials throws SdkClientException annonymous credentials don t sign credentials instanceof AnonymousAWSCredentials AWSCredentials sanitizedCredentials sanitizeCredentials credentials request addParameter AWSAccessKeyId sanitizedCredentials getAWSAccessKeyId request addParameter SignatureVersion version toString int timeOffset request getTimeOffset request addParameter Timestamp getFormattedTimestamp timeOffset sanitizedCredentials instanceof AWSSessionCredentials addSessionCredentials request AWSSessionCredentials sanitizedCredentials String stringToSign null version equals SignatureVersion V1 stringTo,java
Sign calculateStringToSignV1 request getParameters else version equals SignatureVersion V2 request addParameter SignatureMethod algorithm toString stringToSign calculateStringToSignV2 request else throw new SdkClientException Invalid Signature Version specified String signatureValue signAndBase64Encode stringToSign sanitizedCredentials getAWSSecretKey algorithm request addParameter Signature signatureValue private String calculateStringToSignV1 Map String List String parameters StringBuilder data new StringBuilder SortedMap String List String sorted new TreeMap String List String String CASE_INSENSITIVE_ORDER sorted putAll parameters ,java
 Map Entry String List String entry sorted entrySet String value entry getValue data append entry getKey append value data toString private String calculateStringToSignV2 SignableRequest request throws SdkClientException URI endpoint request getEndpoint StringBuilder data new StringBuilder data append POST append n append getCanonicalizedEndpoint endpoint append n append getCanonicalizedResourcePath request append n append getCanonicalizedQueryString request getParameters data toStr,java
ing private String getCanonicalizedResourcePath SignableRequest request String resourcePath request getEndpoint getPath null resourcePath request getEndpoint getPath request getResourcePath null resourcePath length 0 resourcePath endsWith request getResourcePath startsWith resourcePath resourcePath request getResourcePath else resourcePath endsWith resourcePath resourcePath startsWith resourcePath resourcePath resourcePath startsWith resourcePath resourcePath substring 1 resourcePath private String getFormattedTimestamp int offset SimpleDateFormat df ,java
 new SimpleDateFormat yyyy MM dd T HH mm ss SSS Z df setTimeZone TimeZone getTimeZone UTC overriddenDate null df format overriddenDate else df format getSignatureDate offset void overrideDate Date date this overriddenDate date Override protected void addSessionCredentials SignableRequest request AWSSessionCredentials credentials request addParameter SecurityToken credentials getSessionToken ,java
 package com ibm research ai ki kbp embeddings java io java util HashMap java util Iterator java util Map java util Properties java util function Function java util zip GZIPInputStream java util zip GZIPOutputStream com ibm research ai ki util class EmbeddingFormat The nam,java
e of model that created embeddings ex word2vec String name Properties hyperparameters String items float vectors int shapes int itemSize boolean verbose false static double cosine float v1 float v2 v1 length v2 length throw new IllegalArgumentException vectors not same dimension v1 leng,java
th v2 length double numer 0 double len1 0 double len2 0 int i 0 i v1 length i double d1 v1 i double d2 v2 i numer d1 d2 len2 d2 d2 len1 d1 d1 double length Math sqrt len1 len2 length 0 0 numer length EmbeddingFormat EmbeddingFormat File file read file EmbeddingFormat File file boolean vocabOnly read file vocabOnly new VocabOnlyLoad new FullyLoad Map String Integer getItem2Ndx Map String Integer id2ndx new HashMap int i 0 i items length i id2ndx put items i i id2ndx Map String Integer getItem2Ndx Function String String normalizer Map String Integer id2ndx new HashMap int i 0 i items length i String normalized normalizer apply items i Integer first id2ndx put normalized i first null id2ndx put normalized first id2ndx private stati,java
c int readShapes DataInput try int numTensors readInt int shapes new int numTensors int ti 0 ti numTensors ti int dims readInt int shape new int dims int si 0 si shape length si shape si readInt shapes ti shape shapes catch Exception e throw new Error e private static void writeShapes DataOutputStream out int shapes try out writeInt shapes length int ti 0 ti shapes length ti out writeInt shapes ti length int s shapes ti out writeInt s catch Exception e throw new Error e static String readUTFSimpler DataInput try int numBytes readInt byte raw new ,java
byte numBytes readFully raw String str new String raw UTF 8 0 readByte throw new Error Bad format str str catch Exception e throw new Error e static void writeUTFSimpler DataOutput out String str try byte raw str getBytes UTF 8 out writeInt raw length out write raw out writeByte 0 catch Exception e throw new Error e int calculateItemSize int itemSizeCalc 0 int shape shapes int size 1 int si shape size si itemSizeCalc size itemSizeCalc interface VectorLoader v,java
oid init int numItems int itemSize void load int ndx String item float vector class FullyLoad implements VectorLoader Override void init int numItems int itemSize items new String numItems vectors new float numItems Override void load int ndx String item float vector items ndx item vectors ndx vector class VocabOnlyLoad implements VectorLoader Override void init int numItems int itemSize items new String numItems Override void load int ndx String item float vector items ndx item static class Reader EmbeddingFormat metadata int numItems Iterator Pair String float iter TODO make read method use this Reader File file try DataInputStream getDataInput file CONSIDER read magic number metadata new EmbeddingFormat read name metadata name readUTFSimpler read hyperparameters metadata hyperparam,java
eters new Properties metadata hyperparameters load new StringReader readUTFSimpler read number of items and shapes of each item metadata shapes readShapes metadata itemSize readInt metadata itemSize 0 metadata itemSize metadata calculateItemSize throw new Error item size does not match shapes metadata itemSize vs metadata calculateItemSize metadata itemSize 0 metadata verbose System out println Vocabulary and metadata only numItems readInt iter new Iterator Pair String float int wordi 0 Override boolean hasNext wordi numItems Override Pair String float next String item readUTFSimpler float vector null metadata itemSize 0 vector new float metadata itemSize int dimi 0 dimi metadata itemSize dimi try vector dimi readFloat ,java
 catch Exception e System err println On wordi dim dimi Lang error e wordi wordi numItems try close catch Exception e Pair of item vector catch IOException e Lang error e TODO support reading from DataInputStream so we can read ef from hdfs private static DataInputStream getDataInput File file file null throw new IllegalArgumentException Null file file exists throw new IllegalArgumentException No such file file getAbsolutePath Or FileUtil getDataInput filename try int BUFFER_SIZE 1024 InputStream new FileInputStream file file getName endsWith gz new GZIPInputStream BUFFER_SIZE else new BufferedInputStream BUFFER_SIZE new DataInputStream catch Exception e Lang error e Strings writ,java
ten as number of bytes as int32 utf 8 encoded string 0 byte All numbers are network byte order Format modelName as string hyperparameters as string shapes of items int32 number of tensors each tensor int32 number of dimensions each dimension int32 size of this dimension itemSize as int32 either zero indicate only vocabulary stored Annoy or actual itemSize which should match shape number of items as int32 each item item name as string values of embedding as float32 stored same order as multidimensional array C The zero byte terminating strings just validation ensure there isn t some off by one error resulting embeddings being loaded as garbage param file void read File file read file null void read File file VectorLoader loader try DataInputStream getDataInput file read DataInput loader catch IOException e Lang error e ,java
 void read InputStream stream VectorLoader loader final DataInput new DataInputStream stream read loader void read DataInput VectorLoader loader try CONSIDER read magic number read name name readUTFSimpler read hyperparameters hyperparameters new Properties hyperparameters load new StringReader readUTFSimpler read number of items and shapes of each item this shapes readShapes itemSize readInt itemSize 0 itemSize calculateItemSize throw new Error item size does not match shapes itemSize vs calculateItemSize itemSize 0 verbose System out println Vocabulary and metadata only loader null loader itemSize 0 new VocabOnlyLoad new FullyLoad int numItems readInt ,java
loader init numItems itemSize verbose System out println Loading numItems with itemSize size System out flush int wordi 0 wordi numItems wordi String item readUTFSimpler float vector null itemSize 0 vector new float itemSize int dimi 0 dimi itemSize dimi try vector dimi readFloat catch EOFException e System err println On wordi dim dimi throw e loader load wordi item vector verbose wordi 100000 0 System out println loading word wordi item catch IOException e Lang error e class ItemVectorIter implements Iterator Pair String float ItemVectorIter wordi 0 vectors null items length vectors length throw new IllegalStateException items length vectors length int wordi 0 Override boolean hasNext,java
 wordi items length Override Pair String float next Pair String float ret Pair of items wordi vectors null null vectors wordi wordi ret void write File file write file this items length new ItemVectorIter void write File file int numItems Iterator Pair String float iter try int BUFFER_SIZE 1024 FileUtil ensureWriteable file OutputStream os new FileOutputStream file file getName endsWith gz os new GZIPOutputStream os BUFFER_SIZE else os new BufferedOutputStream os BUFFER_SIZE write os numItems iter os close catch Exception e Lang error e void write OutputStream stream int numItems Iterator Pair String float iter try DataOutputStream out new DataOutputStream stream writeUTFSimpler out name StringWriter writer new StringWriter,java
 hyperparameters store writer null writeUTFSimpler out writer toString writeShapes out shapes out writeInt itemSize out writeInt numItems int itemCount 0 while iter hasNext itemCount Pair String float wv iter next writeUTFSimpler out wv first wv second null float f wv second out writeFloat f itemCount numItems throw new IllegalArgumentException expecting numItems but read itemCount out flush catch Exception e Lang error e ,java
 package com ibm og supplier static com google common base Preconditions checkArgument static com google common base Preconditions checkNotNull java util List java util Random com google common base Supplier com google common collect Lists class RandomSupplier T implements Supplier T private final List Choice T choices private final Random random private RandomSupplier final Builder T builder this choices checkNotNull builder choices checkArgument this choices isEmpty choices must not be empty this random checkNotNull builder random private static class Choice S private final S value private final Supplier extends Number weight private double currentWeight ,java
 private Choice final S choice final Supplier extends Number weight this value choice this weight weight this currentWeight 0 0 Override T get final double totalWeight getCurrentWeights final double rnd this random nextDouble totalWeight double previousWeights 0 0 final Choice T choice this choices rnd previousWeights choice currentWeight choice value previousWeights choice currentWeight throw new IllegalStateException Incorrect weight calculation private double getCurrentWeights double currentTotalWeight 0 0 final Choice T choice this choices choice currentWeight choice weight get doubleValue currentTotalWeight choice currentWeight currentTotalWeight static class Builder T ,java
 private final List Choice T choices private Random random Builder this choices Lists newArrayList this random new Random Builder T withChoice final T choice withChoice choice 1 0 Builder T withChoice final T choice final double weight checkArgument weight 0 0 weight must be 0 0 s weight withChoice choice Suppliers of weight Adds choice with provided weight which may be dynamic param choice choice add param weight weight give choice which may be dynamic t,java
his builder Builder T withChoice final T choice final Supplier extends Number weight checkNotNull choice checkNotNull weight this choices add new Choice T choice weight this Builder T withRandom final Random random this random random this RandomSupplier T build new RandomSupplier T this Override String toString final StringBuilder s new StringBuilder RandomSupplier final Choice T choice this choices s append String format nchoice s weight s choice value choice weight s appe,java
nd String format n toString ,java
source perf_test perf_harness_2 stac_benchmark log sh log Cleaning up log dropping caches log i seq 15 25 do echo red i ssh red i echo 3 proc sys vm drop_caches done log cleaning dirs log perf_test perf_harness clean_files_and_dirs_ALEX sh log Finished cleanup ,sh
 package com ibm cloud objectstorage services s3 model java io Serializable com ibm cloud objectstorage AmazonWebServiceRequest class GetBucketLocationRequest extends AmazonWebServiceRequest implements Serializable ,java
 private String bucketName GetBucketLocationRequest String bucketName this bucketName bucketName String getBucketName bucketName void setBucketName String bucketName this bucketName bucketName Sets name of bucket whose location being requested and returns this updated object so that additional method calls can be chained together param bucketName ,java
 The name of bucket whose location being requested This updated object so that additional method calls can be chained together GetBucketLocationRequest withBucketName String bucketName setBucketName bucketName this ,java
React from react Button from components Button constants from src constants const unitSpace 16 class MotionPreview extends React Component constructor super this state left unitSpace top 100 rotation 0 playMotion this setState left this state left unitSpace parseFloat this props distance unitSpace unitSpace width this state width this props width2 this props width1 this props width2 height this state height this props height2 this props height1 this props height2 rotation this state rotation this props rotation 0 this props rotation opacity this state opacity this props opacity 0 this props opacity componentWillMount this componentWillUpdate this props this state componentWillUpdate nextProps nextState nextProps width1 this state width nextProps height1 this state height nextProps rotation this state rotation nextPro,js
ps opacity this state opacity this setState width nextProps width1 height nextProps height1 rotation nextProps rotation opacity nextProps opacity render div className MotionPreview style marginTop 1rem position relative width 100 height Math max 400 this props height1 this props height2 48 px backgroundColor 252525 div style backgroundColor 171717 display flex flexDirection row alignItems center Button label Play normalColor 0F6FFF hoverColor 054ADA color f3f3f3 label Play this motion onClick evt this playMotion span style color BEBEBE marginLeft 1rem span style fontSize 14px Duration Math round this props duration ms span span style fontSize 14px marginLeft 1rem marginRight 1rem ,js
 span span style fontSize 14px Easing this props easing span span div div style position absolute width this props prop constants PROPERTY_SCALE this state width this props width1 px height this props prop constants PROPERTY_SCALE this state height this props height1 px transitionPropperty all transitionTimingFunction this props easing transitionDuration this props duration ms backgroundColor constants MOMENT_PRODUCTIVE F3F3F3 constants MOMENT_EXPRESSIVE 00BAB6 constants MOMENT_NARRATIVE 0F6FFF constants MOMENT_CELEBRATORY D7306D this props motionMode top 64px left this props prop constants PROPERTY_MOVE this state left unitSpace px transform rotate this props prop constants PROPERTY_ROTATE this state rotation 0 deg opacity this props prop constants PROPERTY_FAD,js
E this state opacity 1 div export default MotionPreview ,js
 define Modernizr testAllProps function Modernizr testAllProps Modernizr addTest backgroundcliptext function testAllProps backgroundClip text ,js
 bin bash Generate keystores keystore given IP 1 then echo Usage gen keystore sh IP exit 1 fi IP 1 z JAVA_HOME then echo JAVA_HOME not set Please set and re run this script exit 1 fi echo Checking keytool keytool help dev null 2 1 0 then echo Error keytool missing from path please correct this then retry exit 1 fi echo Checking openssl openssl version dev null 2 1 0 then echo Error openssl missing from path please correct this then retry exit 1 fi echo Generating key stores using IP create ca cert we ll into all our trust stores keytool genkeypair alias gameonca keypass gameonca storepass gameonca keystore keystore cakey jks keyalg RSA keysize 2048 dname CN GameOnLocalDevCA OU The Amazing GameOn Certificate Authority O The Ficticious GameOn Company L Earth ST Happy C CA ext KeyUsage keyCertSign ext BasicConstraints critical ca true ,sh
validity 9999 export ca cert so we can add it trust stores keytool exportcert alias gameonca keypass gameonca storepass gameonca keystore keystore cakey jks file keystore gameonca crt rfc create keypair we plan use our ssl jwt signing keytool genkeypair alias gameonappkey keypass testOnlyKeystore storepass testOnlyKeystore keystore keystore key jks keyalg RSA sigalg SHA1withRSA dname CN IP OU GameOn Application O The Ficticious GameOn Company L Earth ST Happy C CA validity 365 create signing request app key keytool certreq alias gameonappkey keypass testOnlyKeystore storepass testOnlyKeystore keystore keystore key jks file keystore appsignreq csr sign cert with ca keytool gencert alias gameonca keypass gameonca storepass gameonca keystore keystore cakey jks infile keystore appsignreq csr outfile keystore app cer ca cert keytool importcert alias gameonca storepas,sh
s testOnlyKeystore keypass testOnlyKeystore keystore keystore key jks noprompt file keystore gameonca crt signed cert keytool importcert alias gameonappkey storepass testOnlyKeystore keypass testOnlyKeystore keystore keystore key jks noprompt file keystore app cer change alias of signed cert keytool changealias alias gameonappkey destalias default storepass testOnlyKeystore keypass testOnlyKeystore keystore keystore key jks export signed cert pem format proxy use keytool exportcert alias default storepass testOnlyKeystore keypass testOnlyKeystore keystore keystore key jks file keystore app pem rfc export private key pem format proxy use keytool importkeystore srckeystore keystore key jks destkeystore keystore key p12 srcstoretype jks deststoretype pkcs12 srcstorepass testOnlyKeystore deststorepass testOnlyKeystore srckeypass testOnlyKeystore destkeypass testO,sh
nlyKeystore srcalias default openssl pkcs12 keystore key p12 out keystore private pem nocerts nodes password pass testOnlyKeystore concat and private key haproxy cat keystore app pem keystore private pem keystore proxy pem add cacert truststore keytool importcert alias gameonca storepass truststore keypass truststore keystore keystore truststore jks noprompt trustcacerts file keystore gameonca crt add all jvm cacerts truststore keytool importkeystore srckeystore JAVA_HOME lib security cacerts destkeystore keystore truststore jks srcstorepass changeit deststorepass truststore clean up cert rm f keystore crt ,sh
 package sample chirper friend api javax annotation Nullable javax annotation concurrent Immutable com fasterxml jackson annotation JsonCreator com fasterxml jackson databind annotation JsonDeserialize com google common base MoreObjects com google common base Preconditions Immutable JsonDeserialize final class FriendId final String friendId JsonCreator FriendId String friendId this friendId Preconditions checkNotNull friendId friendId Override boolean equals Nullable Object another this another true another instanceof FriendId equalTo FriendId another private boolean equalTo FriendId another friendId equals another friendId Override int hashCode int h 31 h h 17 friendId hashCode h Override String toString MoreObjects toStringHelper FriendId add friendId friendId toString ,java
describe Modernizr Base function var modernizrBase var cleanup before function done define package function var req requirejs config context Math random toString slice 2 baseUrl src paths cleanup test cleanup req Modernizr cleanup function _ModernizrBase _cleanup modernizrBase _ModernizrBase cleanup _cleanup done it should an object function expect modernizrBase be an object after function cleanup ,js
 package com ibm migr db2 class DataSize int count long size DataSize int count long size this count count this size size ,java
 package com ibm og api com google common util concurrent ListenableFuture interface Client ListenableFuture Response execute Request request ListenableFuture Boolean shutdown boolean immediate ,java
 package com ibm cloud objectstorage jmx spi org apache commons logging LogFactory interface SdkMBeanRegistry boolean registerMetricAdminMBean String objectName boolean unregisterMBean String objectName Return,java
s true MBean under given object name currently registered false otherwise boolean isMBeanRegistered String objectName static class Factory private static final SdkMBeanRegistry registry static SdkMBeanRegistry rego try Class c Class forName com ibm cloud objectstorage jmx SdkMBeanRegistrySupport rego SdkMBeanRegistry c newInstance catch Exception e LogFactory getLog SdkMBeanRegistry class debug Failed load JMX implementation module JMX disabled e rego NONE registry rego static SdkMBeanRegistry getMBeanRegistry registry static final SdkMBeanRegistry NONE new SdkMBeanRegistry Override boolean registerMetricAdminMBean String objectName false Override boo,java
lean unregisterMBean String objectName false Override boolean isMBeanRegistered String objectName false ,java
package sample chirper chirp impl akka Done akka NotUsed com lightbend lagom javadsl persistence PersistentEntity sample chirper chirp impl ChirpTimelineCommand AddChirp sample chirper chirp impl ChirpTimelineEvent ChirpAdded javax inject Inject java util Optional class ChirpTimelineEntity extends PersistentEntity ChirpTimelineCommand ChirpTimelineEvent NotUsed private final ChirpTopic topic Inject ChirpTimelineEntity ChirpTopic topic this topic topic Override Behavior initialBehavior Optional NotUsed snapshotState BehaviorBuilder b newBehaviorBuilder NotUsed getInstance b setCommandHandler AddChirp class this addChirp b setEventHandler ChirpAdded class evt state b build private Persist addChirp AddChirp cmd CommandContext Done ctx ctx thenPersist new ChirpAdded cmd chirp evt ctx reply Done getInstance topic publish cmd chirp ,java
 coding utf 8 pytorch seq2seq documentation build configuration file created by sphinx quickstart on Tue Jun 27 14 35 26 2017 This file execfile d with current directory set its containing dir Note that not all possible configuration values are present this autogenerated file All configuration values have default values that are commented out serve show default If extensions or modules document with autodoc are another directory add these directories sys path here If directory relative documentation root use os path abspath make it absolute like shown here os sys sys path insert 0 os path abspath seq2seq seq2seq sphinx_rtd_theme General configuration If your documentation needs minimal Sphinx version state it here needs_sphinx 1 0 Add any Sphinx extension module names here as strings They can be extensions coming with Sphinx named sphinx ext or your custo,py
m ones extensions sphinx ext autodoc sphinx ext autosummary sphinx ext doctest sphinx ext intersphinx sphinx ext todo sphinx ext coverage sphinx ext mathjax sphinx ext ifconfig sphinx ext napoleon sphinx ext viewcode napoleon_use_ivar True Add any paths that contain templates here relative this directory templates_path _templates Source parsers source_parsers md recommonmark parser CommonMarkParser The suffix es of source filenames You can specify multiple suffix as list of string source_suffix rst md source_suffix rst The master toctree document master_doc index General information about project project u pytorch seq2seq copyright u 2017 pytorch seq2seq Contritors author u pytorch seq2seq Contributors The version info project you re documenting acts as replacement version and release also used various other places throughout built documents ,py
 The short X Y version version u 0 1 5 The full version including alpha beta rc tags release u 0 1 5 The language content autogenerated by Sphinx Refer documentation list of supported languages This also used you do content translation via gettext catalogs Usually you set language from command line these cases language None List of patterns relative source directory that match files and directories ignore when looking source files This patterns also effect html_static_path and html_extra_path exclude_patterns The name of Pygments syntax highlighting style use pygments_style sphinx If true todo and todoList produce output else they produce nothing todo_include_todos True Options HTML output The theme use HTML and HTML Help pages See documentation list of builtin themes html_theme sphinx_rtd_theme html_theme_path sphinx_rtd_theme get_html_theme_path Theme options are ,py
theme specific and customize look and feel of theme further For list of options available each theme see documentation html_theme_options Add any paths that contain custom static files such as style sheets here relative this directory They are copied after builtin static files so file named default css will overwrite builtin default css html_static_path _static Options HTMLHelp output Output file base name HTML help builder htmlhelp_basename PyTorch seq2seqdoc Options LaTeX output latex_elements The paper size letterpaper or a4paper papersize letterpaper The font size 10pt 11pt or 12pt pointsize 10pt Additional stuff LaTeX preamble preamble Latex figure float alignment figure_align htbp Grouping document tree into LaTeX files List,py
 of tuples source start file target name title author documentclass howto manual or own class latex_documents master_doc pytorch seq2seq tex u pytorch seq2seq Documentation u Kyle Gao Kshitij Fadnis Avinash Balakrishnan Ryan Musa Tejaswini Pedapati manual Options manual page output One entry per manual page List of tuples source start file name description authors manual section man_pages master_doc pytorch seq2seq u pytorch seq2seq Documentation author 1 Options Texinfo output Grouping document tree into Texinfo files List of tuples source start file target name title author dir menu entry description category texinfo_documents master_doc pytorch seq2seq u pytorch seq2seq Documentation author pytorch seq2seq One line description of project Miscellaneous Example config,py
uration intersphinx refer Python standard library intersphinx_mapping python https docs python org None numpy http docs scipy org doc numpy None PyTorch http pytorch org docs master None ,py
 package sample chirper activity impl static com lightbend lagom javadsl testkit ServiceTest static java util concurrent CompletableFuture completedFuture static java util concurrent TimeUnit SECONDS static org junit Assert assertEquals com lightbend lagom javadsl api ServiceCall com lightbend lagom javadsl api transport NotFound com lightbend lagom javadsl testkit ServiceTest Setup java util Arrays java util Optional org junit Test org pcollections PSequence org pcollections TreePVector sample chirper activity api ActivityStreamService sample chirper chirp api sample chirper friend api akka NotUsed akka stream javadsl Source akka stream testkit TestSubscriber Probe akka stream testkit javadsl TestSink class ActivityStreamServiceTest private final Setup setup defaultSetup withCluster false configureBuilder b b overrides bind FriendService class FriendServiceStub class bind Chir,java
pService class ChirpServiceStub class Test void shouldGetLiveFeed throws Exception withServer setup server ActivityStreamService feedService server client ActivityStreamService class Source Chirp chirps feedService getLiveActivityStream usr1 invoke toCompletableFuture get 3 SECONDS Probe Chirp probe chirps runWith TestSink probe server system server materializer probe request 10 assertEquals msg1 probe expectNext message assertEquals msg2 probe expectNext message probe cancel Test void shouldGetHistoricalFeed throws Exception withServer setup server ActivityStreamService feedService server client ActivityStreamService class Source Chirp chirps feedService getHistoricalActivityStream usr1 invoke toCompletableFuture get 3 SECONDS Probe Chirp probe chirps runWith TestSink probe server system server ,java
materializer probe request 10 assertEquals msg1 probe expectNext message probe expectComplete static class FriendServiceStub implements FriendService private final User usr1 new User usr1 User 1 Optional of TreePVector String empty plus usr2 private final User usr2 new User usr2 User 2 Override ServiceCall NotUsed User getUser String userId req userId equals usr1 userId completedFuture usr1 else userId equals usr2 userId completedFuture usr2 else throw new NotFound userId Override ServiceCall User NotUsed createUser req completedFuture NotUsed getInstance Override ServiceCall FriendId NotUsed addFriend String userId req completedFuture NotUsed getInstance Override ServiceCall NotUsed PSequence String getFollowers String userId ,java
 req userId equals usr1 userId completedFuture TreePVector String empty else userId equals usr2 userId completedFuture TreePVector String empty plus usr1 else throw new NotFound userId static class ChirpServiceStub implements ChirpService Override ServiceCall Chirp NotUsed addChirp String userId req completedFuture NotUsed getInstance Override ServiceCall LiveChirpsRequest Source Chirp getLiveChirps req req userIds contains usr2 Chirp c1 new Chirp usr2 msg1 Chirp c2 new Chirp usr2 msg2 completedFuture Source from Arrays asList c1 c2 else completedFuture Source empty Override ServiceCall HistoricalChirpsRequest Source Chirp getHistoricalChirps req req userIds contains usr2 Chir,java
p c1 new Chirp usr2 msg1 completedFuture Source single c1 else completedFuture Source empty ,java
 function root factory typeof exports object typeof module object module exports module exports factory require angular require highlight js else typeof define function define amd define angular hljs factory else root returnExports factory root angular root hljs this function angular hljs function attrGetter attrs function name switch name case escape angular isDefined attrs hljsEscape attrs hljsEscape attrs escape case no escape angular isDefined attrs hljsNoEscape ,js
 attrs hljsNoEscape attrs noEscape case onhighlight angular isDefined attrs hljsOnhighlight attrs hljsOnhighlight attrs onhighlight function shouldHighlightStatics attrs var should true angular forEach source include function name attrs name should false should var ngModule angular module hljs ngModule provider hljsService function var _hljsOptions setOptions function options angular extend _hljsOptions options getOptions function angular copy _hljsOptions get function hljs configure angular noop _hljsOptions hljs ngModule factory hljsCache cacheFactory function cacheFactory cacheFactory hljsCache ngModule controller HljsCt,js
rl hljsCache hljsService interpolate window log function HljsCtrl hljsCache hljsService interpolate window log var ctrl this var _elm null _lang null _code null _interpolateScope false _stopInterpolateWatch null _hlCb null var RE_INTERPOLATION_STR escapeRe interpolate startSymbol s escapeRe interpolate endSymbol var INTERPOLATION_SYMBOL ctrl init function codeElm _elm codeElm ctrl setInterpolateScope function scope _interpolateScope scope _code ctrl highlight _code ctrl setLanguage function lang _lang lang _code ctrl highlight _code ctrl highlightCallback function cb _hlCb cb ctrl _highlight function code _elm var res cacheKey interpolateData _code code preserve raw code _interpolateScope ,js
 interpolateData extractInterpolations code code interpolateData code _lang cache key language scope code cacheKey ctrl _cacheKey _lang _interpolateScope code res hljsCache get cacheKey res res hljsService highlight _lang hljsService fixMarkup code true hljsCache put cacheKey res else cache key scope code cacheKey ctrl _cacheKey _interpolateScope code res hljsCache get cacheKey res res hljsService highlightAuto hljsService fixMarkup code hljsCache put cacheKey res code res value _interpolateScope _stopInterpolateWatch angular noop interpolateData code recoverInterpolations code interpolateData tokens var interpolateFn interpolate code _stopInterpolateWatch _interpolateScope watch interpolateFn function newVal oldVal ,js
 newVal oldVal _elm html newVal _elm html interpolateFn _interpolateScope else _elm html code language as class on code tag _elm addClass res language _hlCb null angular isFunction _hlCb _hlCb ctrl highlight debounce ctrl _highlight 17 ctrl clear function _elm _code null _elm text ctrl release function _elm null _interpolateScope null _stopInterpolateWatch angular noop _stopInterpolateWatch null ctrl _cacheKey function var args Array prototype slice call arguments glue angular highlightjs args join glue http davidwalsh name function debounce function debounce func wait immediate var timeout function var context this args arguments var later function timeout null ,js
 immediate func apply context args var callNow immediate timeout window clearTimeout timeout timeout window setTimeout later wait callNow func apply context args Ref http stackoverflow com questions 3115150 how escape regular expression special characters using javascript function escapeRe text asString var replacement asString text replace s g replacement function extractInterpolations code var interpolateTokens re new RegExp RE_INTERPOLATION_STR g newCode lastIndex 0 arr while arr re exec code null newCode code substring lastIndex arr index INTERPOLATION_SYMBOL lastIndex arr index arr 0 length interpolateTokens push arr 0 newCode code substr lastIndex code newCode t,js
okens interpolateTokens function recoverInterpolations code tokens var re new RegExp INTERPOLATION_SYMBOL g newCode lastIndex 0 arr while arr re exec code null newCode code substring lastIndex arr index tokens shift lastIndex arr index arr 0 length newCode code substr lastIndex newCode var hljsDir interpolateDirFactory languageDirFactory sourceDirFactory includeDirFactory hljsDir parse function parse restrict EA controller HljsCtrl compile function tElm tAttrs transclude get static code strip starting new line character var staticHTML tElm 0 innerHTML replace r n r n m staticText tElm 0 textContent replace r n r n m put template tElm html pre code class hljs code pre function pos,js
tLink scope iElm iAttrs ctrl var escapeCheck var attrs attrGetter iAttrs angular isDefined attrs escape escapeCheck parse attrs escape else angular isDefined attrs no escape escapeCheck parse false ctrl init iElm find code attrs onhighlight ctrl highlightCallback function scope eval attrs onhighlight staticHTML staticText shouldHighlightStatics iAttrs var code Auto escape check default true escapeCheck escapeCheck scope code staticText else code staticHTML ctrl highlight code scope on destroy function ctrl release languageDirFactory function dirName ,js
 function require hljs restrict A link function scope iElm iAttrs ctrl ctrl iAttrs observe dirName function lang angular isDefined lang ctrl setLanguage lang interpolateDirFactory function dirName function require hljs restrict A link function scope iElm iAttrs ctrl ctrl scope watch iAttrs dirName function newVal oldVal newVal newVal oldVal ctrl setInterpolateScope newVal scope null sourceDirFactory function dirName function require hljs restrict A link function scope iElm iAttrs ctrl ,js
 ctrl scope watch iAttrs dirName function newCode oldCode newCode ctrl highlight newCode else ctrl clear includeDirFactory function dirName http templateCache q function http templateCache q require hljs restrict A compile function tElm tAttrs transclude var srcExpr tAttrs dirName function postLink scope iElm iAttrs ctrl var changeCounter 0 ctrl scope watch srcExpr function src var thisChangeId changeCounter src angular isString src var templateCachePromise dfd templateCachePromise templateCache get src templateCachePromise dfd q d,js
efer http get src cache templateCache transformResponse function data headersGetter Return raw string so http doesn t parse it it s json data success function code thisChangeId changeCounter dfd resolve code error function thisChangeId changeCounter ctrl clear dfd resolve templateCachePromise dfd promise q when templateCachePromise then function code code templateCache from http angular isArray code 1 1 5 co,js
de code 1 else angular isObject code 1 0 7 code code data code code replace r n r n m ctrl highlight code else ctrl clear function module module directive hljs hljsDir angular forEach interpolate hljsInterpolate compile hljsCompile function name module directive name interpolateDirFactory name angular forEach language hljsLanguage function name module directive name languageDirFactory name angular forEach source hljsSource function name module directive name sourceDirFactory name angular forEach include hljsInclude function name module directive name includeDirFactory name n,js
gModule hljs ,js
class Blockchain static request route new Promise resolve reject let xhr new XMLHttpRequest xhr addEventListener error evt reject xhr statusText xhr addEventListener load evt console log xhr let data JSON parse xhr responseText let result null console log data try result JSON parse data result message catch e result data result message resolve result xhr open POST Blockchain URL true xhr setRequestHeader Content Type application json xhr send JSON stringify jsonrpc 2 0 method route method params chaincodeID name Blockchain CHAINCODE ctorMsg function route operation args route values secureContext Blockchain USER ,js
 type 1 id 1 Blockchain CHAINCODE end2end Blockchain URL http localhost 3000 chaincode Blockchain USER user_type1_0 Blockchain QUERY query Blockchain INVOKE invoke ,js
 define Modernizr addTest docElement createElement test video function Modernizr addTest docElement createElement Modernizr addAsyncTest function var timeout var waitTime 300 var elem createElement video var elemStyle elem style function testAutoplay arg clearTimeout timeout elem removeEventListener playing testAutoplay false addTest videoautoplay arg arg type playing elem currentTime 0 elem parentNode removeChild elem skip test video itself or autoplay element on it isn t supported Modernizr video autoplay elem addTest vide,js
oautoplay false elemStyle position absolute elemStyle height 0 elemStyle width 0 try Modernizr video ogg elem src data video ogg base64 T2dnUwACAAAAAAAAAABmnCATAAAAAHDEixYBKoB0aGVvcmEDAgEAAQABAAAQAAAQAAAAAAAFAAAAAQAAAAAAAAAAAGIAYE9nZ1MAAAAAAAAAAAAAZpwgEwEAAAACrA7TDlj QgXRoZW9yYSsAAABYaXBoLk9yZyBsaWJ0aGVvcmEgMS4xIDIwMDkwODIyIChUaHVzbmVsZGEpAQAAABoAAABFTkNPREVSPWZmbXBlZzJ0aGVvcmEtMC4yOYJ0aGVvcmG zSj3uc1rGLWpSUoQc5zmMYxSlKQhCDGMYhCEIQhAAAAAAAAAAAAAEW2uU2eSyPxWEvx4OVts5ir1aKtUKBMpJFoQ nk5m41mUwl4slUpk4kkghkIfDwdjgajQYC8VioUCQRiIQh8PBwMhgLBQIg4FRba5TZ5LI FYS Hg5W2zmKvVoq1QoEykkWhD eTmbjWZTCXiyVSmTiSSCGQh8PB2OBqNBgLxWKhQJBGIhCHw8HAyGAsFAiDgUCw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDAwPEhQUFQ0NDhESFRUUDg4PEhQVFRUOEBETFBUVFRARFBUVFRUVEhMUFRUVFRUUFRUVFRUVFRUVFRUVFRUVEAwLEBQZGxwNDQ4SFRwcGw4NEBQZHBwcDhATFhsdHRwRExkcHB4eHRQYGxwdHh4dGxwdHR4eHh4dHR0dHh4eHRALChAYKDM9DAwOExo6PDcODRAYKDlFOA4RFh0z,js
V1A EhYlOkRtZ00YIzdAUWhxXDFATldneXhlSFxfYnBkZ2MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEhIVGRoaGhoSFBYaGhoaGhUWGRoaGhoaGRoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhESFh8kJCQkEhQYIiQkJCQWGCEkJCQkJB8iJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQREhgvY2NjYxIVGkJjY2NjGBo4Y2NjY2MvQmNjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRISEhUXGBkbEhIVFxgZGxwSFRcYGRscHRUXGBkbHB0dFxgZGxwdHR0YGRscHR0dHhkbHB0dHR4eGxwdHR0eHh4REREUFxocIBERFBcaHCAiERQXGhwgIiUUFxocICIlJRcaHCAiJSUlGhwgIiUlJSkcICIlJSUpKiAiJSUlKSoqEBAQFBgcICgQEBQYHCAoMBAUGBwgKDBAFBgcICgwQEAYHCAoMEBAQBwgKDBAQEBgICgwQEBAYIAoMEBAQGCAgAfF5cdH1e3Ow L66wGmYnfIUbwdUTe3LMRbqON8B 5RJEvcGxkvrVUjTMrsXYhAnIwe0dTJfOYbWrDYyqUrz7dw JO4hpmV2LsQQvkUeGq1BsZLx cu5iV0e0eScJ91VIQYrmqfdVSK7GgjOU0oPaPOu5IcDK1mNvnD K8LwS87f8Jx2mHtHnUkTGAurWZlNQa74ZLSFH9oF6FPGxzLsjQO5Qe0edcpttd7BXBSqMCL4k 4tFrHIPuEQ7m1 uIWkbDMWVoDdOSuRQ9286kvVUlQjzOE6VrNguN4oRXY,js
Gkgcnih7t13 9kxvLYKQezwLTrO44sVmMPgMqORo1E0sm1 9SludkcWHwfJwTSybR4LeAz6ugWVgRaY8mV 9SluQmtHrzsBtRF wPY X0JuYTs ltgrXAmlk10xQHmTu9VSIAk1 vcvU4ml2oNzrNhEtQ3CysNP8UeR35wqpKUBdGdZMSjX4WVi8nJpdpHnbhzEIdx7mwf6W1FKAiucMXrWUWVjyRf23chNtR9mIzDoT 6ZLYailAjhFlZuvPtSeZ 2oREubDoWmT3TguY JHPdRVSLKxfKH3vgNqJ 9emeEYikGXDFNzaLjvTeGAL61mogOoeG3y6oU4rW55ydoj0lUTSR mmRhPmF86uwIfzp3FtiufQCmppaHDlGE0r2iTzXIw3zBq5hvaTldjG4CPb9wdxAme0SyedVKczJ9AtYbgPOzYKJvZZImsN7ecrxWZg5dR6ZLj j4qpWsIA vYwE Tca9ounMIsrXMB4Stiib2SPQtZv FVIpfEbzv8ncZoLBXc3YBqTG1HsskTTotZOYTG oVUjLk6zhP8bg4RhMUNtfZdO7FdpBuXzhJ5Fh8IKlJG7wtD9ik8rWOJxy6iQ3NwzBpQ219mlyv FLicYs2iJGSE0u2txzed D61ZWCiHD cZdQVCqkO2gJpdpNaObhnDfAPrT89RxdWFZ5hO3MseBSIlANppdZNIV Rwe5eLTDvkfWKzFnH QJ7m9QWV1KdwnuIwTNtZdJMoXBf74OhRnh2t OTGL AVUnIkyYY QG7g9itHXyF3OIygG2s2kud679ZWKqSFa9n3IHD6MeLv1lZ0XyduRhiDRtrNnKoyiFVLcBm0ba5Yy3fQkDh4XsFE34isVpOzpa9nR8iCpS4HoxG2rJpnRhf3YboVa1PcRouh5LIJv uQcPNd095ickTaiGBnWLKVWRc0OnYTSyex n2FofEPnDG8y3PztHrzOLK1xo6RAml2k9owKajOC0Wr4D5x 3nA0UEhK2m198wuBHF3zlWWVKWLN1CH,js
zLClUfuoYBcx4b1llpeBKmbayaR58njtE9onD66lUcsg0Spm2snsb 8HaJRn4dYcLbCuBuYwziB8 5U1C1DOOz2gZjSZtrLJk6vrLF3hwY4Io9xuT ruUFRSBkNtUzTOWhjh26irLEPx4jPZL3Fo3QrReoGTTM21xYTT9oFdhTUIvjqTkfkvt0bzgVUjq hOYY8j60IaO 0AzRBtqkTS6R5ellZd5uKdzzhb8BFlDdAcrwkE0rbXTOPB 7Y0FlZO96qFL4Ykg21StJs8qIW7h16H5hGiv8V2Cflau7QVDepTAHa6Lgt6feiEvJDM21StJsmOH hynURrKxvUpQ8BH0JF7BiyG2qZpnL 7AOU66gt reLEXY8pVOCQvSsBtqZTNM8bk9ohRcwD18o WVkbvrceVKRb9I59IEKysjBeTMmmbA21xu 6iHadLRxuIzkLpi8wZYmmbbWi32RVAUjruxWlJ iFxE38FI9hNKOoCdhwf5fDe4xZ81lgREhK2m1j78vW1CqkuMu AjBNK210kzRUX B 69cMMUG5bYrIeZxVSEZISmkzbXOi9yxwIfPgdsov7R71xuJ7rFcACjG 9PzApqFq7wEgzNJm2suWESPuwrQvejj7cbnQxMkxpm21lUYJL0fKmogPPqywn7e3FvB FCNxPJ85iVUkCE9 tLKx31G4CgNtWTTPFhMvlu8G4 TrgaZttTChljfNJGgOT2X6EqpETy2tYd9cCBI4lIXJ1 3uVUllZEJz4baqGF64yxaZ zPLYwde8Uqn1oKANtUrSaTOPHkhvuQP3bBlEJ LFe4pqQOHUI8T8q7AXx3fLVBgSCVpMba55YxN3rv8U1Dv51bAPSOLlZWebkL8vSMGI21lJmmeVxPRwFlZF1CpqCN8uLwymaZyjbXHCRytogPN3o n74CNykfT qqRv5AQlHcRxYrC5KvGmbbUwmZY 29BvF6C1 93x4WVglXDLFpmbapmF89HKTogRwqqSlGbu oiAkcWFbklC6Zhf ,js
NtTLFpn8oWz HsNRVSgIxZWON yVyJlE5tq GWLTMutYX9ekTySEQPLVNQQ3OfycwJBM0zNtZcse7CvcKI0V zh16Dr9OSA21MpmmcrHC 6pTAPHPwoit3LHHqs7jhFNRD6W8 EBGoSEoaZttTCZljfduH fFisn dRBGAZYtMzbVMwvul T crK1NQh8gN0SRRa9cOux6clC0 mDLFpmbarmF8 e6CopeOLCNW6S IUUg3jJIYiAcDoMcGeRbOvuTPjXR tyo79LK3kqqkbxkkMRAOB0GODPItnX3Jnxro 25Ud llbyVVSN4ySGIgHA6DHBnkWzr7kz410f7cqO Syt5KqpFVJwn6gBEvBM0zNtZcpGOEPiysW8vvRd2R0f7gtjhqUvXL gWVwHm4XJDBiMpmmZtrLfPwd IugP5 fKVSysH1EXreFAcEhelGmbbUmZY4Xdo1vQWVnK19P4RuEnbf0gQnR lDCZlivNM22t1ESmopPIgfT0duOfQrsjgG4tPxli0zJmF5trdL1JDUIUT1ZXSqQDeR4B8mX3TrRro 2McGeUvLtwo6jIEKMkCUXWsLyZROd9P rFYNtXPBli0z398iVUlVKAjFlY437JXImUTm2r 4ZYtMy61hf16RPJIU9nZ1MABAwAAAAAAAAAZpwgEwIAAABhp658BScAAAAAAADnUFBQXIDGXLhwtttNHDhw5OcpQRMETBEwRPduylKVB0HRdF0A else Modernizr video h264 elem src data video mp4 base64 AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAs1tZGF0AAACrgYF q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtM,js
jAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEwIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3 728P4FNjuZQQAAAu5tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAZ,js
AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAGQAAAAAAAEAAAAAAZBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACgAAAAEAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAE7bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAA 3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY 8AAAAxYXZjQwFkAAr 4QAYZ2QACqzZX4iIhAAAAwAEAAADAFA8SJZYAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAsUAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ else addTest videoautoplay false catch e addTest videoautoplay false elem setAttribute autoplay elem style cssText disp,js
lay none docElement appendChild elem wait next tick add listener otherwise element may not have time play high load situations e g test suite setTimeout function elem addEventListener playing testAutoplay false timeout setTimeout testAutoplay waitTime 0 ,js
 bin bash ex Acceptance Test IBM Block Storage via SCBE Script prerequisites 1 SCBE server up and running with 1 service delegated ubiquity interface 2 ubiqutiy server up and running with SCBE backend configured 3 ubiquity docker plugin up and running 4 setup connectivity between docker node related storage system of service Two nodes tests In case second node provided migration tests will take place prerequisites that second node should apply 3 4 and has ssh keys from current node second node function basic_tests_on_one_node echo S Verify that no volume attached docker node df egrep ubiquity Filesystem multipath ll grep IBM lsblk egrep ubiquity NAME B 1 docker volume ls stepinc echo S Create volume on SCBE profile service which on IBM FlashSystem,sh
 A9000R docker volume create driver ubiquity name vol opt size 5 opt profile profile echo S 1 Verify volume info docker volume ls docker volume inspect vol echo S 2 Verify storage side verify volume was created on relevant pool service ssh root gen4d 67a xcli py vol_list vol u_ubiquity_instance1_ vol stepinc echo S Run CName 1 with new volume docker run t i d name CName 1 volume driver ubiquity volume vol data entrypoint bin sh alpine echo S 1 Verify volume was attached docker node df egrep ubiquity Filesystem multipath ll grep IBM lsblk egrep ubiquity NAME B 1 mount grep ubiquity you should see its ext4 echo S 2 Verify volume exist inside container docker exec CName 1 df egrep data Filesystem echo S 3 Verify container up and with mount point docker ps grep CName 1 docker inspect format ,sh
 index HostConfig Binds CName 1 docker inspect format index Mounts CName 1 echo S 3 Verity storage side check volume has mapping host ssh root gen4d 67a xcli py vol_mapping_list vol u_ubiquity_instance1_ vol stepinc echo S Write DATA on volume by create file data inside container docker exec CName 1 touch data file_on_A9000_volume docker exec CName 1 ls l data file_on_A9000_volume stepinc echo S Stop container docker stop CName 1 echo S 1 Verify volume was detached from docker node df egrep ubiquity Filesystem multipath ll grep IBM lsblk egrep ubiquity NAME B 1 mount grep ubiquity echo S 2 Verify container stoped but volume still exist docker ps grep CName 1 docker volume ls echo S 3 Verity storage side check volume no longer mapped hos ssh root gen4d 67a xcli py vol_mapping_list vol u_ubiquity_instance1,sh
_ vol stepinc echo S Run another container CName 2 with same volume and check data remains docker run t i d name CName 2 volume driver ubiquity volume vol data entrypoint bin sh alpine echo S 1 Verify that data remains file exist on data inside container docker exec CName 2 ls l data file_on_A9000_volume stepinc echo S Stop container of cause will detach volume from host docker stop CName 2 docker rm CName 1 CName 2 so we can delete docker volume stepinc echo S Remove volume docker volume rm vol docker volume ls echo S 1 Verity storage side check volume no longer exist ssh root A9000 xcli py vol_list vol u_ubiquity_instance1_ vol stepinc echo S Run container without creating vol advance docker run t i d name CName 3 volume driver ubiquity volume vol data entrypoint bin sh alpine echo S 1 Verify volume w,sh
as created this container and you can touch file inside container docker volume ls grep vol docker exec CName 3 touch data file_on_A9000_volume docker exec CName 3 ls l data file_on_A9000_volume echo S 2 Verify that you stop container and start same container so file still exist docker stop CName 3 docker start CName 3 docker exec CName 3 ls l data file_on_A9000_volume echo S 3 Stop container and remove volume docker stop CName 3 docker rm CName 3 docker volume rm vol docker volume ls grep v vol stepinc echo S Run container with 2 volumes docker run t i d name CName 4 volume driver ubiquity volume vol 1 data1 volume vol 2 data2 entrypoint bin sh alpine echo S 1 Verify volume was created this container and you can touch file inside container docker volume ls grep vol 1 docker volume ls grep vol 2 docker exec CName 4 df egrep data1 Filesystem docker exec CName,sh
 4 df egrep data2 Filesystem docker exec CName 4 touch data1 file1 docker exec CName 4 touch data2 file2 echo S 2 Stop container Verify unmount and remove volumes docker stop CName 4 mount grep ubiquity exit S docker rm CName 4 docker volume rm vol 1 docker volume rm vol 2 docker volume ls grep v vol function fstype_basic_check fstype ext4 xfs do stepinc echo S Create volume with xfs run container and make sure volume fstype docker volume create driver ubiquity name vol opt size 5 opt profile profile opt fstype fstype echo S 1 Verify volume info docker volume ls grep vol docker volume inspect vol grep fstype grep fstype echo S 2 Run container with volume and Verify it was mounted right docker run t i d name CName 4 volume driver ubiquity volume vol data entrypoint bin sh alpine ,sh
 df egrep ubiquity Filesystem mount grep ubiquity grep fstype docker stop CName 4 docker rm CName 4 docker volume rm vol done function one_node_negative_tests stepinc echo S some negative echo S 1 Should fail create volume with long name long_vol_name i seq 1 63 do long_vol_name long_vol_name i done docker volume create driver ubiquity name long_vol_name opt size 5 opt profile profile exit 81 echo S 2 Should fail create volume with wrong size docker volume create driver ubiquity name vol opt size 10XX opt profile profile exit 82 echo S 3 Should fail create volume on wrong service docker volume create driver ubiquity name vol opt size 10 opt profile profile XX exit 83 function tests_with_second_node Assuming plugin runs on second node and with storage connectivity echo echo 2 nodes ,sh
testing node1 hostname node2 node2 stepinc echo S Run stateful container should create and run container docker run t i d name CName 4 volume driver ubiquity volume vol data entrypoint bin sh alpine echo S 1 Verify volume was created this container and you can touch file inside container docker volume ls grep vol docker exec CName 4 touch data file_on_A9000_volume docker exec CName 4 ls l data file_on_A9000_volume echo S 2 node2 Verify volume visible from second node ssh root node2 docker volume ls grep vol echo S 3 node2 Verify that you can NOT run container with vol on second node ssh root node2 docker run t i d name CName 5 volume driver ubiquity volume vol data entrypoint bin sh alpine exit 1 ssh root node2 docker stop CName 5 ssh root node2 docker rm CName 5 echo S 4 node2 Verify that you can NOT delete vo,sh
lume vol from second node because its already attached first node ssh root node2 docker volume rm vol exit 1 ssh root node2 docker volume ls grep v vol volume should still be visible on remote docker volume ls grep v vol and also visible on local node so we sure volume was deleted stepinc echo S Stop container so next step can run it on second node docker stop CName 4 docker rm CName 4 sleep 2 echo finished sleep 2 seconds just waiting detach complite stepinc echo S node2 Start container with same vol on second node ssh root node2 docker run t i d name CName 5 volume driver ubiquity volume vol data entrypoint bin sh alpine echo S 1 node2 Verify data presiste after migration second node ssh root node2 docker exec CName 5 ls l data file_on_A9000_volume echo S 2 node2 And add new file inside volume ssh root node2 docker exec CName 5 touch dat,sh
a file_on_A9000_volume_from_node2 stepinc echo S node2 Stop container on second node ssh root node2 docker stop CName 5 ssh root node2 docker rm CName 5 stepinc echo S node2 Start container with same vol on first node docker run t i d name CName 6 volume driver ubiquity volume vol data entrypoint bin sh alpine echo S 1 Verify data presiste after migration back first node check 2 files docker exec CName 6 ls l data file_on_A9000_volume docker exec CName 6 ls l data file_on_A9000_volume_from_node2 stepinc echo S Stop container and delete vol vol docker stop CName 6 docker rm CName 6 docker volume rm vol echo S 1 node2 Verify volume no longer visible on second node ssh root node2 docker volume ls grep v vol function stepinc S expr S 1 function setup clean acceptance containers and volumes before start test and also valid,sh
ate ssh connection second node needed conlist docker ps grep CName n conlist then echo Found CName on host hostname try stop and kill them before start test docker ps grep CName conlist2 docker ps sed 1d grep CName awk print 1 docker stop conlist2 docker rm conlist2 fi volist docker volume ls q grep CName n volist then echo Found CName on host try remove them docker volume rm volist fi n node2 then ssh root node2 hostname echo Cannot ssh second host node2 Aborting exit 1 ssh root node2 docker ps aq grep CName echo need clean CName containers on remote node node2 exit 2 ssh root node2 docker volume ls grep CName echo need clean CName volumes on remote node node2 exit 3 fi 1 h echo 0 can get following envs echo ACCEPTANCE,sh
_PROFILE ACCEPTANCE_WITH_NEGATIVE ACCEPTANCE_WITH_SECOND_NODE exit 0 S 0 steps counter n ACCEPTANCE_PROFILE profile ACCEPTANCE_PROFILE profile gold n ACCEPTANCE_WITH_NEGATIVE withnegative ACCEPTANCE_WITH_NEGATIVE withnegative n ACCEPTANCE_WITH_SECOND_NODE node2 ACCEPTANCE_WITH_SECOND_NODE node2 CName acceptance name of containers script vol CName Vol echo Start Acceptance Test IBM Block Storage setup Verifications and clean up before test basic_tests_on_one_node fstype_basic_check n withnegative one_node_negative_tests n node2 tests_with_second_node echo echo echo Successfully Finish The Acceptance test S steps Running stateful container on IBM Block Storage ,sh
 define Modernizr function Modernizr Modernizr addTest webworkers Worker window ,js
 package com ibm cloud objectstorage services s3 model java io File java io InputStream java io Serializable p Uploads new object specified Amazon S3 bucket The PutObjectRequest optionally uploads object metadata and applies canned access control policy new object p p Amazon S3 never stores partial objects during this call an exception wasn t thrown entire object was stored p p Depending on whether file or input stream being,java
 uploaded this request has slightly different behavior p p When uploading file p ul li The client automatically computes checksum of file Amazon S3 uses checksums validate data each file li li Using file extension Amazon S3 attempts determine correct content type and content disposition use object li ul p When uploading directly from an input stream content length b must b be specified before data can be uploaded Amazon S3 If not provided library will b have b buffer contents of input stream order calculate it Amazon S3 explicitly requires that content length be sent request headers before any of data sent li p Amazon S3 distributed system If Amazon S3 receives multiple write requests same object nearly simultaneously all of objects might be stored However only one object will obtain key p p Note Amazon S3 does not provide object locking this needed make sure build it into,java
 application layer p p If caller specifies location constraint when creating bucket all objects added bucket are stored same region as bucket For example specifying Europe EU region constraint bucket all of that bucket s objects are stored EU region p p The specified bucket must already exist and caller must have link Permission Write permission bucket upload an object p p If you are uploading or accessing href http aws amazon com kms KMS encrypted objects you need specify correct region of bucket on your client and configure AWS Signature Version 4 added security For more information on how do this see http docs aws amazon com AmazonS3 latest dev UsingAWSSDK html specify signature version p see PutObjectRequest PutObjectRequest String String File see PutObjectRequest PutObjectRequest String String InputStream ObjectMetadata class PutObjectRequest extends AbstractPutObjectReques,java
t implements Serializable private boolean isRequesterPays PutObjectRequest String bucketName String key File file super bucketName key file Constructs new link PutObjectRequest object perform redirect specified bucket and key After constructing request users may optionally specify object metadata or canned ACL as well p ,java
 The redirect performed using link com ibm cloud objectstorage services s3 Headers REDIRECT_LOCATION header p param bucketName The name of an existing bucket which new object will be uploaded param key The key under which store new object param redirectLocation Sets link com ibm cloud objectstorage services s3 Headers REDIRECT_LOCATION header new object PutObjectRequest String bucketName String key String redirectLocation super bucketName key redirectLocation Constructs new link PutObjectRequest object upload stream of data specified bucket and key After constructing request users may optionally specify object metadata or canned ACL as well p Content length data stream b must b be specified object metadata parameter Amazon S3 requires it be passed before data up,java
loaded Failure specify content length will cause entire contents of input stream be buffered locally memory so that content length can be calculated which can result negative performance problems p param bucketName The name of an existing bucket which new object will be uploaded param key The key under which store new object param input The stream of data upload Amazon S3 param metadata The object metadata At minimum this specifies content length stream of data being uploaded PutObjectRequest String bucketName String key InputStream input ObjectMetadata metadata super bucketName key input metadata Override PutObjectRequest clone PutObjectRequest request PutObjectRequest super ,java
clone this copyPutObjectBaseTo request Override SuppressWarnings unchecked PutObjectRequest withBucketName String bucketName super withBucketName bucketName Override SuppressWarnings unchecked PutObjectRequest withKey String key super withKey key Override SuppressWarnings unchecked PutObjectRequest withStorageClass String storageClass super withStorageClass storageClass Override SuppressWarnings unchecked PutObjectRequest withStorageClass StorageClass storageClass super withStorageClass storageClass Override SuppressWarnings unchecked PutObjectRequest withFile File file super withFile file Override SuppressWarnings unchecked PutObjectRequest withMetadata ObjectMetadata metadata super withMetadata metadata Override SuppressWarnings unchecked PutObjectReq,java
uest withCannedAcl CannedAccessControlList cannedAcl super withCannedAcl cannedAcl Override SuppressWarnings unchecked PutObjectRequest withAccessControlList AccessControlList accessControlList super withAccessControlList accessControlList Override SuppressWarnings unchecked PutObjectRequest withInputStream InputStream inputStream super withInputStream inputStream Override SuppressWarnings unchecked PutObjectRequest withRedirectLocation String redirectLocation super withRedirectLocation redirectLocation Override SuppressWarnings unchecked PutObjectRequest withSSECustomerKey SSECustomerKey sseKey super withSSECustomerKey sseKey PutObjectRequest withTagging ObjectTagging tagSet super setTagging tagSet this Deprecated Override SuppressWarnings unchecked PutObjectRequest withProg,java
ressListener com ibm cloud objectstorage services s3 model ProgressListener progressListener super withProgressListener progressListener Override SuppressWarnings unchecked PutObjectRequest withSSEAwsKeyManagementParams SSEAwsKeyManagementParams sseAwsKeyManagementParams super withSSEAwsKeyManagementParams sseAwsKeyManagementParams boolean ,java
isRequesterPays isRequesterPays void setRequesterPays boolean isRequesterPays this isRequesterPays isRequesterPays Used conducting this operation from Requester Pays Bucket If set requester charged requests from bucket It returns this updated PutObjectRequest object so that additional method calls can be chained together p If bucket enabled Requester Pays then an,java
y attempt upload or download an object from it without Requester Pays enabled will result 403 error and bucket owner will be charged request p Enabling Requester Pays disables ability have anonymous access this bucket param isRequesterPays Enable Requester Pays option operation The updated PutObjectRequest object PutObjectRequest withRequesterPays boolean isRequesterPays setRequesterPays isRequesterPays this ,java
 package com ibm cloud objectstorage internal http org apache commons logging Log org apache commons logging LogFactory com ibm cloud objectstorage SdkClientException com ibm cloud objectstorage annotation SdkInternalApi com ibm cloud objectstorage http HttpResponse com ibm cloud objectstorage protocol json JsonContent com ibm cloud objectstorage util IOUtils software amazon ion IonReader software amazon ion IonSystem software amazon ion IonType SdkInternalApi class ,java
IonErrorCodeParser implements ErrorCodeParser private static final Log log LogFactory getLog IonErrorCodeParser class private static final String TYPE_PREFIX aws type private static final String X_AMZN_REQUEST_ID_HEADER x amzn RequestId private final IonSystem ionSystem IonErrorCodeParser IonSystem ionSystem this ionSystem ionSystem Override String parseErrorCode HttpResponse response JsonContent jsonContents IonReader reader ionSystem newReader jsonContents getRawContent try IonType type reader next type IonType STRUCT throw new SdkClientException String format Can only get error codes from structs saw s request id s type getRequestId response boolean errorCodeSeen false String errorCode null String annotations reader getTypeAnnotations String annotation annotations ,java
 annotation startsWith TYPE_PREFIX errorCodeSeen throw new SdkClientException String format Multiple error code annotations found request id s getRequestId response else errorCodeSeen true errorCode annotation substring TYPE_PREFIX length errorCode finally IOUtils closeQuietly reader log private static String getRequestId HttpResponse response response getHeaders get X_AMZN_REQUEST_ID_HEADER ,java
describe prefixed autobind function var rAFName quick sniff find local rAF prefixed name var vendors r msR mozR webkitR oR _ forEach vendors function vendor rAFName rAFName window vendor equestAnimationFrame vendor equestAnimationFrame rAFName rAF returns function it Modernizr prefixed requestAnimationFrame window returns function function expect Modernizr prefixed requestAnimationFrame window be function unless we false it string it Modernizr prefixed requestAnimationFrame window false returns string prop name function expect Modernizr prefixed requestAnimationFrame window false be rAFName document body webkitMatchesSelector document body mozMatchesSelector var fn Modernizr prefixed matchesSelector HTMLElement prototype document body returns function it Modernizr prefixed matchesSelector HTMLE,js
lement prototype document body returns function function expect fn be function fn scoping it Modernizr prefixed matchesSelector HTMLElement prototype document body scoped body function expect fn body be true Webkit only are there other objects that are prefixed window webkitNotifications should be an object it Modernizr prefixed Notifications returns an object function expect Modernizr prefixed Notifications window be an object Webkit only _ isUndefined document webkitIsFullScreen boolean it Modernizr prefixed isFullScreen returns boolean function expect Modernizr prefixed isFullScreen document be boolean Moz only _ isUndefined document mozFullScreen boolean it Modernizr prefixed isFullScreen returns boolean function expect Modernizr prefixed fullScreen docum,js
ent be boolean Webkit only takes advantage of Webkit s mixed case of prefixes document body style WebkitAnimation string it Modernizr prefixed animation document body style returns value of that as string function expect Modernizr prefixed animation document body style be string it Modernizr prefixed animation document body style false returns name of property webkitAnimation function expect Modernizr prefixed animation document body style false equal webkitAnimation it Modernizr prefixed doSomethingAmazing window Gobbledygook with prefixed str obj returns false function expect Modernizr prefixed doSomethingAmazing window be false it Modernizr prefixed doSomethingAmazing window Gobbledygook with prefixed str obj scope returns false function expect Modernizr prefixed doSomethingAmazing window document body ,js
be false it Modernizr prefixed doSomethingAmazing window Gobbledygook with prefixed str obj false returns false function expect Modernizr prefixed doSomethingAmazing window false be false ,js
 package com ibm cloud objectstorage oauth static com ibm cloud objectstorage auth internal SignerConstants AUTHORIZATION com ibm cloud objectstorage SignableRequest com ibm cloud objectstorage auth AWSCredentials com ibm cloud objectstorage auth AWSSessionCredentials com ibm cloud objectstorage auth AbstractAWSSigner com ibm cloud objectstorage log InternalLogApi com ibm cloud objectstorage log InternalLogFactory Signer implementation that signs reque,java
sts with OAuth 2 0 signing protocol The Bearer token added Authorization header of request class IBMOAuthSigner extends AbstractAWSSigner protected static final InternalLogApi log InternalLogFactory getLog IBMOAuthSigner class Override void sign SignableRequest request AWSCredentials credentials log debug OAuth signer IBMOAuthCredentials oAuthCreds IBMOAuthCredentials credentials request addHeader AUTHORIZATION Bearer oAuthCreds getTokenManager getToken Override protected void addSessionCredentials SignableRequest request AWSSessionCredentials credentials TODO Auto generated method stub ,java
 package org bitpedia util class Base32 private static final String base32Chars ABCDEFGHIJKLMNOPQRSTUVWXYZ234567 private static final int base32Lookup 0xFF 0xFF 0x1A 0x1B 0x1C 0x1D 0x1E 0x1F 0 1 2 3 4 5 6 7 0xFF 0xFF 0xFF 0xFF 0xFF 0xFF 0xFF 0xFF 8 9 0xFF 0x00 0x01 0x02 0x03 0x04 0x05 0x06 A B C D E F G 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E H I J K L M N O 0x0F 0x10 0x11 0x12 0x13 0x14 0x15 0x16 P Q R S T U V W 0x17 0x18 0x19 0xF,java
F 0xFF 0xFF 0xFF 0xFF X Y Z _ 0xFF 0x00 0x01 0x02 0x03 0x04 0x05 0x06 b c d e f g 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E h i j k l m n o 0x0F 0x10 0x11 0x12 0x13 0x14 0x15 0x16 p q r s t u v w 0x17 0x18 0x19 0xFF 0xFF 0xFF 0xFF 0xFF x y z DEL static String encode final byte bytes int i 0 index 0 digit 0 int currByte nextByte StringBuffer base32 new StringBuffer bytes length 7 8 5 while i bytes length currByte bytes i 0 bytes i bytes i 256 unsign index 3 i 1 bytes,java
 length nextByte bytes i 1 0 bytes i 1 bytes i 1 256 else nextByte 0 digit currByte 0xFF index index index 5 8 digit index digit nextByte 8 index i else digit currByte 8 index 5 0x1F index index 5 8 index 0 i base32 append base32Chars charAt digit base32 toString static byte decode final String base32 int i index lookup offset digit byte bytes new byte base32 length 5 8 i 0 index ,java
 0 offset 0 i base32 length i lookup base32 charAt i 0 lookup 0 lookup base32Lookup length continue digit base32Lookup lookup digit 0xFF continue index 3 index index 5 8 index 0 bytes offset digit offset offset bytes length break else bytes offset digit 8 index else index index 5 8 bytes offset digit index offset offset bytes length break bytes offset di,java
git 8 index bytes static void main String args args length 0 System out println Supply Base32 encoded argument System out println Original args 0 byte decoded Base32 decode args 0 System out print Hex int i 0 i decoded length i int b decoded i b 0 b 256 System out print Integer toHexString b 256 substring 1 System out println System out println Reencoded Base32 encode decoded ,java
 package main flag fmt github com BurntSushi toml github com IBM ubiquity utils logs github com IBM ubiquity docker plugin web_server github com IBM ubiquity resources github com IBM ubiquity utils path var configFile flag String config ubiquity client conf config file with ubiquity client configuration params const PLUGIN_ADDRESS 127 0 0 1 func main flag Parse var config resources UbiquityPlugin,go
Config fmt Printf Starting ubiquity plugin with s config file n configFile _ err toml DecodeFile configFile config err nil fmt Println err defer logs InitFileLogger logs GetLogLevelFromString config LogLevel path Join config LogPath ubiquity docker plugin log logger logFile utils SetupLogger config LogPath ubiquity docker plugin defer utils CloseLogs logFile storageAPIURL fmt Sprintf http s d ubiquity_storage config UbiquityServer Address config UbiquityServer Port server err web_server NewServer logger storageAPIURL config err nil panic Error initializing webserver err Error server Start PLUGIN_ADDRESS config DockerPlugin Port config DockerPlugin PluginsDirectory ,go
 package com ibm cloud objectstorage auth org junit Test org junit runner RunWith org mockito InjectMocks org mockito Mock org mockito runners MockitoJUnitRunner com ibm cloud objectstorage SignableRequest com ibm cloud objectstorage auth AWSCredentials com ibm cloud objectstorage auth AWSCredentialsProvider com ibm cloud objectstorage auth Signer com ibm cloud objectstorage auth SignerAsRequestSigner static org mockito Mockito verify static org mockito Mockito wh,java
en RunWith MockitoJUnitRunner class class SignerAsRequestSignerTest Mock Signer signer Mock AWSCredentialsProvider credentialsProvider Mock AWSCredentials credentials Mock SignableRequest request InjectMocks SignerAsRequestSigner sut Test void callsDownToUnderlyingSignerWithCredentialsFromCredentialProvider when credentialsProvider getCredentials thenReturn credentials sut sign request verify signer sign request credentials ,java
 package server net http GetHealth returns health of service func GetHealth w http ResponseWriter r http Request w WriteHeader 200 w Write byte OK ,go
 bin bash This script intended be run by Travis CI If running elsewhere invoke it with TRAVIS_PULL_REQUEST false path script shellcheck disable SC1090 source dirname 0 scripts resources sh kubeclt_clean echo Cleaning cluster kubectl delete pv local volume 1 local volume 2 local volume 3 kubectl delete deployment service pvc replicaset l app gitlab kubectl_config echo Configuring kubectl shellcheck disable SC2091 bx cs cluster config CLUSTER_NAME grep export kubectl_deploy kubeclt_clean echo Running scripts quickstart sh dirname 0 scripts quickstart sh echo Waiting pods be running i 0 while kubectl get pods grep c Running ne 3 do i lt 24 then echo Timeout waiting on pods be ready test_failed 0 fi sleep 10 echo i 10 seconds elapsed i done echo All pods are running ,sh
 echo Waiting service be available sleep 120 verify_deploy echo Verifying deployment was successful IPS bx cs workers CLUSTER_NAME awk print 2 grep 0 9 1 3 0 9 1 3 0 9 1 3 0 9 1 3 IP IPS do curl sS IP 30080 then test_failed 0 fi echo done main is_pull_request 0 kubectl_config then echo Config failed test_failed 0 elif kubectl_deploy then echo Deploy failed test_failed 0 elif verify_deploy then test_failed 0 else test_passed 0 fi main ,sh
 usr bin python os sys from apscheduler schedulers gevent GeventScheduler pprint from pyPodcastParser Podcast Podcast requests json urllib2 url_to_parse url_to_post data def parse response requests get url_to_parse podcast Podcast response content urls_to_download item podcast items pprint pprint item enclosure_url print type item enclosure_url urls_to_download append item enclosure_url data urls list urls_to_download data def post print The url post s url_to_post req urllib2 Request url_to_post req add_header Content Type application json urllib2 urlopen req json dumps data def help print help message __name__ __main__ len sys argv 4 help sys exit 1 url_to_parse sys argv 1 url_to_post sys argv 2 interval int sys argv 3 data parse scheduler GeventScheduler scheduler add_job post interva,py
l seconds 10 g scheduler start print Press Ctrl 0 exit format Break os name nt else C try g join except KeyboardInterrupt SystemExit pass ,py
define function function fnBind fn that function fn apply that arguments fnBind ,js
define ModernizrProto Modernizr hasOwnProp setClasses function ModernizrProto Modernizr hasOwnProp setClasses _l tracks listeners async tests as well as tests that execute after initial run ModernizrProto _l ModernizrProto on function feature cb Create list of listeners it doesn t exist this _l feature ,js
 this _l feature Push this test on listener list this _l feature push cb If it s already been resolved trigger it on next tick Modernizr hasOwnProperty feature Next Tick setTimeout function Modernizr _trigger feature Modernizr feature 0 ModernizrProto _trigger function feature res this _l feature var cbs this _l feature Force async setTimeout function var i cb i 0 i cbs length i cb ,js
cbs i cb res 0 Don t trigger these again delete this _l feature addTest allows you define your own feature detects that are not currently included Modernizr under covers it s exact same code Modernizr uses its own feature detections https github com Modernizr Modernizr tree master feature detects Just like offical detects result will be added onto Modernizr object as well as an appropriate className set on html element when configured do so memberof Modernizr name Modernizr addTest optionName Modernizr addTest optionProp addTest access function addTest param string object feature The string name of feature detect or an object of feature detect names and test param function boolean test Function returning true feature supported false not Otherwise boolean representing results of feature detection example The most common way of creatin,js
g your own feature detects by calling Modernizr addTest with string preferably just lowercase without any punctuation and function you want executed that will boolean result js Modernizr addTest itsTuesday function var d new Date d getDay 2 When above run it will set Modernizr itstuesday true when it tuesday and false every other day of week One thing notice that names of feature detect functions are always lowercased when added Modernizr object That means that Modernizr itsTuesday will not exist but Modernizr itstuesday will Since we only look at returned value from any feature detection function you do not need actually use function For simple detections just passing statement that will boolean value works just fine js Modernizr addTest hasJquery jQuery window Just like before when above runs Modernizr hasjquer,js
y will be true jQuery has been included on page Not using function saves small amount of overhead browser as well as making your code much more readable Finally you also have ability pass an object of feature names and their tests This handy you want add multiple detections one go The keys should always be string and value can be either boolean or function that returns boolean js var detects hasjquery jQuery window itstuesday function var d new Date d getDay 2 Modernizr addTest detects There really no difference between first methods and this one it just convenience let you write more readable code function addTest feature test typeof feature object var key feature hasOwnProp feature key addTest key feature key else feature feature toLowerCase ,js
 var featureNameSplit feature split var last Modernizr featureNameSplit 0 Again we don t check parent test existence Get that right though featureNameSplit length 2 last last featureNameSplit 1 typeof last undefined we re going quit you re trying overwrite an existing test we were allow it we d do this var re new RegExp b no feature b docElement className docElement className replace re but no rly stuff em Modernizr test typeof test function test test Set value this magic right here featureNameSplit length 1 Modernizr featureNameSplit 0 test else cast Boolean not one already Modernizr featureNameSplit 0 Modernizr featureNameSplit 0 instanceof Boolean Modernizr featureNameSp,js
lit 0 new Boolean Modernizr featureNameSplit 0 Modernizr featureNameSplit 0 featureNameSplit 1 test Set single class either feature or no feature setClasses test test false no featureNameSplit join Trigger event Modernizr _trigger feature test Modernizr allow chaining After all tests are run add self Modernizr prototype Modernizr _q push function ModernizrProto addTest addTest addTest ,js
 package com ibm cloud objectstorage http timers request java util concurrent Future java util concurrent ScheduledFuture com ibm cloud objectstorage annotation SdkInternalApi com ibm cloud objectstorage util ValidationUtils SdkInternalApi class HttpRequestAbortTaskTrackerImpl implements HttpRequestAbortTaskTracker private final HttpRequestAbortTa,java
sk task private final ScheduledFuture future HttpRequestAbortTaskTrackerImpl final HttpRequestAbortTask task final ScheduledFuture future this task ValidationUtils assertNotNull task task this future ValidationUtils assertNotNull future future Override boolean httpRequestAborted task httpRequestAborted Override boolean isEnabled task isEnabled Override void cancelTask future cancel false ,java
 const parse require xml parser const log require pino log level debug function getChannelMetadata channel const md channel children forEach obj obj name item obj name image md channel_ obj name obj content md function ItemToMetadata item Some content providers will provide SEGMENTS item so multiple media files info per file How do we store it need intros,js
pect item log debug item item const md md segments let media let finalMetadata false item children forEach obj Special case you get enclosure attribute obj name enclosure md enclosure length obj attributes length type obj attributes type url obj attributes url else obj name search media 1 If it has title create push old object create new one obj name search title 1 If current object has title push it media hasOwnProperty title Push old object md segments push media reset media media obj name search license 1 If current object has title push it media hasOwnProperty title Push old object md segments push media media finalMetadata true ,js
 const m obj name match media S m key m 1 log debug Processing media Match key m 1 finalMetadata md m 1 obj content else typeof obj content string media m 1 obj content else media m 1 obj attributes else md obj name obj content If we have media title we should pusthi media segemnts For case of single segment media title md segments push media log debug log debug md log debug md module exports function XMLtoMeta xmlFile const obj parse xmlFile let metaDataArray const mainObj obj root children 0 mainObj name channel const baseMetadata getChannelMetadata mainObj this disabled because it FILTER eslint array,js
 callback 0 consistent 0 metaDataArray mainObj children filter name item map log debug After Filter ItemToMetadata map log debug After Conversion const newObj Object assign newObj baseMetadata Object assign newObj newObj metaDataArray ,js
 package com ibm cloud objectstorage util static com ibm cloud objectstorage util CodecUtils sanityCheckLastPos class Base64Codec implements Codec private static final int OFFSET_OF_a 26 private static final int OFFSET_OF_0 0 52 private static final int OFFSET_OF_PLUS 62 private static final int OFFSET_OF_SLASH 63 private static final int MASK_2BITS ,java
1 2 1 private static final int MASK_4BITS 1 4 1 private static final int MASK_6BITS 1 6 1 Alphabet as defined at http www ietf org rfc rfc4648 txt private static final byte PAD private static class LazyHolder private static final byte DECODED decodeTable private static byte decodeTable final byte dest new byte z 1 int i 0 i z i i A i Z dest i byte i A else i 0 i 9 dest i byte i OFFSET_OF_0 else i dest i byte i OFFSET_OF_PLUS else i dest i byte i OFFSET_OF_SLASH else i i z dest i byte i OFFSET_OF_a else dest i 1 ,java
 dest private final byte alphabets Base64Codec this alphabets CodecUtils toBytesDirect ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 protected Base64Codec byte alphabets this alphabets alphabets Override byte encode byte src final int num3bytes src length 3 final int remainder src length 3 remainder 0 byte dest new byte num3bytes 4 int s 0 d 0 s src length s 3 d 4 encode3bytes src s dest d dest byte dest new byte num3bytes 1 4 int s 0 d 0 s src length remainder s 3 d 4 encode3bytes src s dest d switch remainder case 1 encode1byte src s dest d break case 2 ,java
 encode2bytes src s dest d break default throw new IllegalStateException dest void encode3bytes byte src int s byte dest int d operator precedence descending order or byte p dest d byte alphabets p src s 2 MASK_6BITS 6 dest d byte alphabets p MASK_2BITS 4 p src s 4 MASK_4BITS 2 4 dest d byte alphabets p MASK_4BITS 2 p src s 6 MASK_2BITS 4 2 dest d byte alphabets p MASK_6BITS 6 void encode2bytes byte src int s byte dest int d operator precedence descending order or byte p dest d byte alphabets p src s 2 MASK_6BITS 6 dest d byte alphabe,java
ts p MASK_2BITS 4 p src s 4 MASK_4BITS 2 4 dest d byte alphabets p MASK_4BITS 2 4 dest d PAD void encode1byte byte src int s byte dest int d operator precedence descending order or byte p dest d byte alphabets p src s 2 MASK_6BITS 6 dest d byte alphabets p MASK_2BITS 4 2 dest d PAD dest d PAD void decode4bytes byte src int s byte dest int d int p 0 operator precedence descending order or dest d byte pos src s 2 p pos src s 4 MASK_2BITS 6 2 ,java
 dest d byte p MASK_4BITS 4 p pos src s 2 MASK_4BITS 4 4 dest d byte p MASK_2BITS 6 pos src s 2 6 void decode1to3bytes int n byte src int s byte dest int d int p 0 operator precedence descending order or dest d byte pos src s 2 p pos src s 4 MASK_2BITS 6 2 ,java
 n 1 sanityCheckLastPos p MASK_4BITS dest d byte p MASK_4BITS 4 p pos src s 2 MASK_4BITS 4 4 n 2 sanityCheckLastPos p MASK_2BITS dest d byte p MASK_2BITS 6 pos src s 2 6 Override byte decode byte src final int length length 4 0 throw new IllegalArgumentException Input expected be encoded multiple of 4 bytes but found length int pads 0 int last length 1 max possible padding b64 enc,java
oding 2 pads 2 last 1 last pads src last PAD break final int fq final quantum unit of bytes switch pads case 0 fq 3 break final quantum of encoding input an integral multiple of 24 bits case 1 fq 2 break final quantum of encoding input exactly 16 bits case 2 fq 1 break final quantum of encoding input exactly 8 bits default throw new Error Impossible final byte dest new byte length 4 3 3 fq int s 0 d 0 has higher precedence than than d dest length fq 3 s 4 d 3 decode4bytes src s dest d fq 3 decode1to3bytes fq src s dest d dest protected int pos byte ,java
int pos LazyHolder DECODED pos 1 pos throw new IllegalArgumentException Invalid base 64 character char ,java
module exports function grunt Project configuration grunt initConfig jshint options jshintrc jshintrc ignores node_modules js src Gruntfile js app js admin js jscs src Gruntfile js app js admin js options config jscsrc default 3 x esnext true If you use ES6 http jscs info overview html esnext default 3 x verbose true If you need output with rule names http jscs info overview html verbose requireCurlyBraces grunt loadNpmTasks grunt contrib jshint grunt registerTask default lint jscs grunt loadNpmTasks grunt jscs grunt registerTask lint Check common code problems jshint ,js
 package com ibm cloud objectstorage services s3 model com ibm cloud objectstorage AmazonWebServiceRequest com ibm cloud objectstorage services s3 model analytics AnalyticsConfiguration java io Serializable class SetBucketAnalyticsConfigurationRequest extends AmazonWebServiceRequest implements Serializable private String bucketName private AnalyticsConfiguration analyticsConfiguration SetBucketAnalyticsConfigurationRequest ,java
 SetBucketAnalyticsConfigurationRequest String bucketName AnalyticsConfiguration analyticsConfiguration this bucketName bucketName this analyticsConfiguration analyticsConfiguration String getBucketName bucketName void setBucketName String bucketName this bucketName bucketName SetBucketAnalyticsConfigurationRequest withBucketName String bucketName setBucketName bucketName this AnalyticsConfiguration getAnalyticsConfiguration analyticsConfiguration Sets link AnalyticsConfiguration object ,java
 void setAnalyticsConfiguration AnalyticsConfiguration analyticsConfiguration this analyticsConfiguration analyticsConfiguration SetBucketAnalyticsConfigurationRequest withAnalyticsConfiguration AnalyticsConfiguration analyticsConfiguration setAnalyticsConfiguration analyticsConfiguration this ,java
package com accantosystems stratoss driver ucd service java util HashSet java util List java util Optional java util Set org springframework beans factory annotation Autowired org springframework stereotype Service org springframework util StringUtils com accantosystems stratoss driver ucd client DriverExecutionException com accantosystems stratoss driver ucd client UrbanCodeDeployClient com accantosystems stratoss driver ucd config Constants com accantosystems stratoss driver ucd config UCDProperties com accantosystems stratoss driver ucd config UCDProperties UrbanCodeDeployEnvironment com accantosystems stratoss driver ucd model heat HeatTemplate com accantosystems stratoss driver ucd model heat Resource com accantosystems stratoss driver ucd model stratoss OperationDescriptor com accantosystems stratoss driver ucd model stratoss PropertyDescriptor com accantosystems stratoss driver ucd model stratoss PropertyType com accantosystems stratoss driver ucd model stratos,java
s ResourceDescriptor com accantosystems stratoss driver ucd model ucd ApplicationProcessDetails com accantosystems stratoss driver ucd model ucd ApplicationProcessInfo com accantosystems stratoss driver ucd model ucd Blueprint com accantosystems stratoss driver ucd model ucd ProcessActivity com accantosystems stratoss driver ucd utils HeatTemplateUtils com accantosystems stratoss driver ucd utils UCDUtils com accantosystems stratoss driver ucd web rest ResourceTypeNotFoundException com fasterxml jackson core JsonProcessingException com fasterxml jackson databind ObjectMapper com fasterxml jackson dataformat yaml YAMLFactory com fasterxml jackson dataformat yaml YAMLGenerator Service class DefinitionService private final UCDProperties ucdProperties private final UrbanCodeDeployClient urbanCodeDeployClient Autowired DefinitionService UCDProperties ucdProperties UrbanCodeDeployClient urbanCodeDeployClient this ucdProperties ucdProperties this urbanCod,java
eDeployClient urbanCodeDeployClient String getDefinition final UrbanCodeDeployEnvironment ucdEnvironment final String blueprintName final String blueprintLocation throws DriverExecutionException ResourceTypeNotFoundException Blueprint blueprint urbanCodeDeployClient getBlueprint ucdEnvironment blueprintName HeatTemplate heatTemplate HeatTemplateUtils getHeatTemplateFromBlueprint blueprint ResourceDescriptor resourceDescriptor new ResourceDescriptor resourceDescriptor setName UCDUtils createResourceTypeName blueprintName resourceDescriptor setDescription heatTemplate getDescription resourceDescriptor setResourceManagerType ucdProperties getResourceManagerName heatTemplate getParameters entrySet stream filter entry entry getKey null entry getKey startsWith Constants UCD_PARAMETER_PREFIX forEach entry PropertyDescriptor propertyDescriptor new PropertyDescriptor propertyDescriptor setTyp,java
e PropertyType STRING Only support Strings now should convert entry getValue getType propertyDescriptor setDescription entry getValue getDescription propertyDescriptor setDefault entry getValue getDefault propertyDescriptor setRequired StringUtils isEmpty entry getValue getDefault resourceDescriptor getProperties put entry getKey propertyDescriptor heatTemplate getOutputs entrySet stream filter entry Constants PARAM_BLUEPRINT_URL equals entry getKey forEach entry PropertyDescriptor propertyDescriptor new PropertyDescriptor propertyDescriptor setType PropertyType STRING propertyDescriptor setReadOnly true propertyDescriptor setDescription entry getValue getDescription Object non String values here are internal UCD mapping attributes which we don t want expose entry getValue getValue instanceof String propertyDescriptor setDefault ,java
 entry getValue getValue toString resourceDescriptor getProperties put entry getKey propertyDescriptor Set String componentNames new HashSet heatTemplate getResources forEach name resource Get list of UCD Components used within template Blueprint RESOURCE_TYPE_UCD_SOFTWARE_DEPLOY equals resource getType componentNames add name For now we re only interesting name For definition we really also need version typically LATEST Set default processes resourceDescriptor getLifecycle add Constants TRANSITION_NAME_INSTALL resourceDescriptor getLifecycle add Constants TRANSITION_NAME_UNINSTALL Retrieve application name stored resource tree Optional Resource resourceTree heatTemplate getResources values stream filter resource Blueprint RESOURCE_TYPE_UCD_RESOURCE_TREE equals resource getType findFirst resourceTree isPresent Stri,java
ng applicationName String resourceTree get getProperties get application Get all processes this application List ApplicationProcessInfo applicationProcesses urbanCodeDeployClient getProcessesForApplication ucdEnvironment applicationName For each process retrieve details including process description and then search activities find matching component names applicationProcesses stream filter process applicationProcess equals process getMetadataType forEach process ApplicationProcessDetails applicationProcessDetails urbanCodeDeployClient getApplicationProcessDetails ucdEnvironment process getId process getVersion applicationProcessDetails getRootActivity null findMatchingComponent componentNames applicationProcessDetails getRootActivity getChildren Constants VALID_TRANSITION_NAMES contains process getName resourceDescriptor getLifecycle add process getName else ,java
 If this process references one of components used template add it list of possible processes OperationDescriptor operationDescriptor new OperationDescriptor operationDescriptor setDescription process getDescription applicationProcessDetails getPropDefs null applicationProcessDetails getPropDefs forEach property operationDescriptor getProperties put property getName new PropertyDescriptor PropertyType STRING property getDescription false null property getValue StringUtils isEmpty property getValue resourceDescriptor getOperations put process getName operationDescriptor try YAMLFactory yamlFactory new YAMLFactory yamlFactory enable YAMLGenerator Feature MINIMIZE_QUOTES yamlFactory disable YAMLGenerator Feature SPLIT_LINES yamlFactory disable YAMLGenerator Feature WRITE_DOC_START_MARKER ,java
 ObjectMapper mapper new ObjectMapper yamlFactory mapper writeValueAsString resourceDescriptor catch JsonProcessingException e throw new DriverExecutionException Exception creating component package YAML e private boolean findMatchingComponent final Set String componentNames final List ProcessActivity activities ProcessActivity processActivity activities processActivity getComponentName null componentNames contains processActivity getComponentName true else processActivity getChildren null processActivity getChildren isEmpty findMatchingComponent componentNames processActivity getChildren true false ,java
 define Modernizr testAllProps function Modernizr testAllProps Modernizr addTest flexwrap testAllProps flexW,js
rap wrap true ,js
 Copyright 2015 Amazon com Inc or its affiliates All Rights Reserved Licensed under Apache License Version 2 0 License You may not use this file except compliance with License A copy of License located at http aws amazon com apache2 0 or license file accompanying this file This file distributed on an AS IS BASIS WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND either express or implied See License specific language governing permissions and limitations under License from tests unittest ibm_botocore stub from ibm_botocore stub Stubber from ibm_botocore compat six ibm_boto3 session from ibm_boto3 s3 transfer TransferConfig class TestS3MethodInjection unittest TestCase def test_transfer_methods_injected_to_client self session ibm_boto3 session Session region_name us west 2 client session client s3 self assertTrue hasattr client upload_file upload_file was not injected onto S3 client sel,py
f assertTrue hasattr client download_file download_file was not injected onto S3 client self assertTrue hasattr client copy copy was not injected onto S3 client def test_bucket_resource_has_load_method self session ibm_boto3 session Session region_name us west 2 bucket session resource s3 Bucket fakebucket self assertTrue hasattr bucket load load was not injected onto S3 Bucket resource def test_transfer_methods_injected_to_bucket self bucket ibm_boto3 resource s3 Bucket my_bucket self assertTrue hasattr bucket upload_file upload_file was not injected onto S3 bucket self assertTrue hasattr bucket download_file download_file was not injected onto S3 bucket self assertTrue hasattr bucket copy copy was not injected onto S3 bu,py
cket def test_transfer_methods_injected_to_object self obj ibm_boto3 resource s3 Object my_bucket my_key self assertTrue hasattr obj upload_file upload_file was not injected onto S3 object self assertTrue hasattr obj download_file download_file was not injected onto S3 object self assertTrue hasattr obj copy copy was not injected onto S3 object class BaseTransferTest unittest TestCase def setUp self self session ibm_boto3 session Session aws_access_key_id foo aws_secret_access_key bar region_name us west 2 self s3 self session resource s3 self stubber Stubber self s3 meta client self bucket mybucket self key mykey self upload_id uploadid self etag example0etag self progress 0 self progress_times_called 0 def stub_,py
head self content_length 4 expected_params None head_response AcceptRanges bytes ContentLength content_length ContentType binary octet stream ETag self etag Metadata ResponseMetadata HTTPStatusCode 200 expected_params None expected_params Bucket self bucket Key self key self stubber add_response method head_object service_response head_response expected_params expected_params def stub_create_multipart_upload self Add response and assert params CreateMultipartUpload create_upload_response Bucket self bucket Key self key UploadId self upload_id expected_params Bucket self bucket Key self key ,py
 self stubber add_response method create_multipart_upload service_response create_upload_response expected_params expected_params def stub_complete_multipart_upload self parts complete_upload_response Location us west 2 Bucket self bucket Key self key ETag self etag expected_params Bucket self bucket Key self key MultipartUpload Parts parts UploadId self upload_id self stubber add_response method complete_multipart_upload service_response complete_upload_response expected_params expected_params class TestCopy BaseTransferTest def setUp self super TestCopy self setUp self copy_source Bucket foo Key bar def stub_single_part_copy self self stub_head,py
 expected_params self copy_source self stub_copy_object def stub_multipart_copy self part_size num_parts Set HEAD total size total_size part_size num_parts self stub_head content_length total_size expected_params self copy_source self stub_create_multipart_upload Add responses each UploadPartCopy parts i range num_parts Fill parts part_number i 1 copy_range bytes s s i part_size i part_size part_size 1 self stub_copy_part part_number part_number copy_range copy_range parts append ETag self etag PartNumber part_number self stub_complete_multipart_upload parts def stub_copy_object self copy_response CopyObjectResult ETag self etag ResponseMetadata H,py
TTPStatusCode 200 expected_params Bucket self bucket Key self key CopySource self copy_source self stubber add_response method copy_object service_response copy_response expected_params expected_params def stub_copy_part self part_number copy_range copy_part_response CopyPartResult ETag self etag ResponseMetadata HTTPStatusCode 200 expected_params Bucket self bucket Key self key CopySource self copy_source UploadId self upload_id PartNumber part_number CopySourceRange copy_range self stubber add_response method upload_part_copy service_response copy_part_response expected_params expected_params ,py
 def test_client_copy self self stub_single_part_copy with self stubber response self s3 meta client copy self copy_source self bucket self key The response will be none on successful transfer self assertIsNone response def test_bucket_copy self self stub_single_part_copy bucket self s3 Bucket self bucket with self stubber response bucket copy self copy_source self key The response will be none on successful transfer self assertIsNone response def test_object_copy self self stub_single_part_copy obj self s3 Object self bucket self key with self stubber response obj copy self copy_source self assertIsNone response def test_copy_progress self chunksize 8 1024 2 self stub_multipart_copy chunksize 3 transfer_config TransferConfig multipart_chunksize,py
 chunksize multipart_threshold 1 max_concurrency 1 def progress_callback amount self progress amount self progress_times_called 1 with self stubber self s3 meta client copy Bucket self bucket Key self key CopySource self copy_source Config transfer_config Callback progress_callback Assert that progress callback was called correct number of times with correct amounts self assertEqual self progress_times_called 3 self assertEqual self progress chunksize 3 class TestUploadFileobj BaseTransferTest def setUp self super TestUploadFileobj self setUp self contents six BytesIO b foo n def stub_put_object self put_object_response ETag self etag ResponseMetadata HTTPStatusCode 200 expected_params Bucket self b,py
ucket Key self key Body ibm_botocore stub ANY self stubber add_response method put_object service_response put_object_response expected_params expected_params def stub_upload_part self part_number upload_part_response ETag self etag ResponseMetadata HTTPStatusCode 200 expected_params Bucket self bucket Key self key Body ibm_botocore stub ANY PartNumber part_number UploadId self upload_id self stubber add_response method upload_part service_response upload_part_response expected_params expected_params def stub_multipart_upload self num_parts self stub_create_multipart_upload Add responses each UploadPartCopy parts i range num_parts Fill,py
 parts part_number i 1 self stub_upload_part part_number part_number parts append ETag self etag PartNumber part_number self stub_complete_multipart_upload parts def test_client_upload self self stub_put_object with self stubber The stubber will assert that all right parameters are called self s3 meta client upload_fileobj Fileobj self contents Bucket self bucket Key self key self stubber assert_no_pending_responses def test_raises_value_error_on_invalid_fileobj self with self stubber with self assertRaises ValueError self s3 meta client upload_fileobj Fileobj foo Bucket self bucket Key self key def test_bucket_upload self self stub_put_object bucket self s3 Bucket self bucket with self stubber The stubber will assert that all right parameters ar,py
e called bucket upload_fileobj Fileobj self contents Key self key self stubber assert_no_pending_responses def test_object_upload self self stub_put_object obj self s3 Object self bucket self key with self stubber The stubber will assert that all right parameters are called obj upload_fileobj Fileobj self contents self stubber assert_no_pending_responses def test_multipart_upload self chunksize 8 1024 2 contents six BytesIO b 0 chunksize 3 self stub_multipart_upload num_parts 3 transfer_config TransferConfig multipart_chunksize chunksize multipart_threshold 1 max_concurrency 1 with self stubber The stubber will assert that all right parameters are called self s3 meta client upload_fileobj Fileobj contents Bucket self bucket Key self key Config trans,py
fer_config self stubber assert_no_pending_responses class TestDownloadFileobj BaseTransferTest def setUp self super TestDownloadFileobj self setUp self contents b foo self fileobj six BytesIO def stub_single_part_download self self stub_head content_length len self contents self stub_get_object self contents def stub_get_object self full_contents start_byte 0 end_byte None Stubs out get_object operation param full_contents The FULL contents of object param start_byte The first byte grab param end_byte The last byte grab get_object_response expected_params contents full_contents end_byte_range end_byte If start byte set and end byte not end byte last byte start_byte 0 and end_byte None end_byte len full_contents 1 The range on get object where end byte la,py
st byte should set input range as e g Range bytes 3 end_byte len full_contents 1 end_byte_range If this ranged get ContentRange needs be returned contents needs be pruned and Range needs be an expected param end_byte not None contents full_contents start_byte end_byte 1 part_range bytes s s start_byte end_byte_range content_range bytes s s s start_byte end_byte len full_contents get_object_response ContentRange content_range expected_params Range part_range get_object_response update AcceptRanges bytes ETag self etag ContentLength len contents ContentType binary octet stream Body six BytesIO contents ResponseMetadata HTTPStatusCode 200 expected_params upd,py
ate Bucket self bucket Key self key self stubber add_response method get_object service_response get_object_response expected_params expected_params def stub_multipart_download self contents part_size num_parts self stub_head content_length len contents i range num_parts start_byte i part_size end_byte i 1 part_size 1 self stub_get_object full_contents contents start_byte start_byte end_byte end_byte def test_client_download self self stub_single_part_download with self stubber self s3 meta client download_fileobj Bucket self bucket Key self key Fileobj self fileobj self assertEqual self fileobj getvalue self contents self stubber assert_no_pending_responses def test_raises_value_error_on_invalid_fileobj self with self,py
 stubber with self assertRaises ValueError self s3 meta client download_fileobj Bucket self bucket Key self key Fileobj foo def test_bucket_download self self stub_single_part_download bucket self s3 Bucket self bucket with self stubber bucket download_fileobj Key self key Fileobj self fileobj self assertEqual self fileobj getvalue self contents self stubber assert_no_pending_responses def test_object_download self self stub_single_part_download obj self s3 Object self bucket self key with self stubber obj download_fileobj Fileobj self fileobj self assertEqual self fileobj getvalue self contents self stubber assert_no_pending_responses def test_multipart_download self self contents b A 55 self stub_multipart_download contents self contents part_size 5 num_parts 11 ,py
 transfer_config TransferConfig multipart_chunksize 5 multipart_threshold 1 max_concurrency 1 with self stubber self s3 meta client download_fileobj Bucket self bucket Key self key Fileobj self fileobj Config transfer_config self assertEqual self fileobj getvalue self contents self stubber assert_no_pending_responses def test_download_progress self self contents b A 55 self stub_multipart_download contents self contents part_size 5 num_parts 11 transfer_config TransferConfig multipart_chunksize 5 multipart_threshold 1 max_concurrency 1 def progress_callback amount self progress amount self progress_times_called 1 with self stubber self s3 meta client download_fileobj Bucket self bucket Key self key Fileobj self fileobj ,py
 Config transfer_config Callback progress_callback Assert that progress callback was called correct number of times with correct amounts self assertEqual self progress_times_called 11 self assertEqual self progress 55 self stubber assert_no_pending_responses class TestS3ObjectSummary unittest TestCase def setUp self self session ibm_boto3 session Session aws_access_key_id foo aws_secret_access_key bar region_name us west 2 self s3 self session resource s3 self obj_summary self s3 ObjectSummary my_bucket my_key self obj_summary_size 12 self stubber Stubber self s3 meta client self stubber activate self stubber add_response method head_object service_response ContentLength self obj_summary_size ETag my etag ContentType binary expect,py
ed_params Bucket my_bucket Key my_key def tearDown self self stubber deactivate def test_has_load self self assertTrue hasattr self obj_summary load load was not injected onto ObjectSummary resource def test_autoloads_correctly self In HeadObject parameter returned ContentLength this should get mapped Size of ListObject since resource uses shape returned by ListObjects self assertEqual self obj_summary size self obj_summary_size def test_cannot_access_other_non_related_parameters self Even though an HeadObject was used load this it should only expose attributes from its shape defined ListObjects self assertFalse hasattr self obj_summary content_length ,py
package com accantosystems stratoss driver ucd model heat class ParameterConstraint private String allowed_pattern private String description String getAllowed_pattern allowed_pattern void setAllowed_pattern String allowed_pattern this allowed_pattern allowed_pattern String getDescription description void setDescription String description this description description Override String toString String format _class ParameterConstraint allowedPattern s description s allowed_pattern description ,java
 bin bash set e CORE_PEER_MSPCONFIGPATH peers ordererOrganizations orderer org orderers orderer0 msp CORE_PEER_LOCALMSPID OrdererMSP peer channel create o orderer0 7050 c default f peers orderer channel tx tls true cafile peers orderer localMspConfig cacerts ordererOrg pem CORE_PEER_MSPCONFIGPATH peers insurancePeer localMspConfig CORE_PEER_ADDRESS insurance peer 7051 CORE_PEER_LOCALMSPID InsuranceOrgMSP CORE_PEER_TLS_ROOTCERT_FILE peers insurancePeer localMspConfig cacerts insuranceOrg pem peer channel join b default block CORE_PEER_MSPCONFIGPATH peers shopPeer localMspConfig CORE_PEER_ADDRESS shop peer 7051 CORE_PEER_LOCALMSPID ShopOrgMSP CORE_PEER_TLS_ROOTCERT_FILE peers shopPeer localMspConfig cacerts shopOrg pem peer channel join b default block CORE_PEER_MSPCONFIGPATH peers repairShopPeer localMspConfig CORE_PEER_ADDRESS repairservice peer 7051 CORE_PEER_LOCALMSPID RepairShopOrgMSP CORE_PEER_TLS_ROOTCERT_FILE peers repairShopPeer localMspConfig cacerts repairShopOrg pem peer c,sh
hannel join b default block Don t use TLS CORE_PEER_MSPCONFIGPATH peers orderer localMspConfig CORE_PEER_LOCALMSPID OrdererMSP peer channel create o orderer0 7050 c default f peers orderer channel tx CORE_PEER_MSPCONFIGPATH peers insurancePeer localMspConfig CORE_PEER_ADDRESS insurance peer 7051 CORE_PEER_LOCALMSPID InsuranceOrgMSP peer channel join b default block CORE_PEER_MSPCONFIGPATH peers shopPeer localMspConfig CORE_PEER_ADDRESS shop peer 7051 CORE_PEER_LOCALMSPID ShopOrgMSP peer channel join b default block CORE_PEER_MSPCONFIGPATH peers repairShopPeer localMspConfig CORE_PEER_ADDRESS repairservice peer 7051 CORE_PEER_LOCALMSPID RepairShopOrgMSP peer channel join b default block ,sh
 package com ibm cloud objectstorage services s3 internal java io File com ibm cloud objectstorage services s3 OnFileDelete class PartCreationEvent private final File part private final int partNumber private final boolean isLastPart private final OnFileDelete fileDeleteObserver PartCreationEvent File part int partNumber boolean isLastPart OnFileDelete fileDeleteObserver part null throw new IllegalArgumentExc,java
eption part must not be specified this part part this partNumber partNumber this isLastPart isLastPart this fileDeleteObserver fileDeleteObserver File getPart part int getPartNumber partNumber boolean isLastPart isLastPart OnFileDelete getFileDeleteObserver fileDeleteObserver ,java
 package com ibm cloud objectstorage protocol json static org junit Assert assertEquals static org junit Assert assertFalse static org junit Assert assertNull static org junit Assert assertTrue java io ByteArrayOutputStream java io IOException java math BigDecimal java math BigInteger java nio ByteBuffer java util ArrayList java util Collection java util List org junit Rule org junit Test org junit rules ExpectedException org junit runner RunWith org junit runner,java
s Parameterized org junit runners Parameterized Parameters com fasterxml jackson core JsonToken com ibm cloud objectstorage AmazonClientException com ibm cloud objectstorage protocol json IonParser com ibm cloud objectstorage protocol json SdkIonGenerator com ibm cloud objectstorage util StringUtils software amazon ion IonReader software amazon ion IonSystem software amazon ion IonWriter software amazon ion system IonBinaryWriterBuilder software amazon ion system IonSystemBuilder software amazon ion system IonTextWriterBuilder RunWith Parameterized class class IonParserTest private enum WriteFormat TEXT Override byte write String data throws IOExcept,java
ion ByteArrayOutputStream out new ByteArrayOutputStream write data IonTextWriterBuilder standard build out out toByteArray BINARY Override byte write String data throws IOException ByteArrayOutputStream out new ByteArrayOutputStream write data IonBinaryWriterBuilder standard build out out toByteArray static void write String data IonWriter writer throws IOException IonReader reader SYSTEM newReader data writer writeValues reader writer close abstract byte write String data throws IOException Parameters static Collection Object data List Object parameters new ArrayList Object WriteFormat format WriteFormat values parameters add ne,java
w Object format parameters private static IonSystem SYSTEM IonSystemBuilder standard build private WriteFormat format IonParserTest WriteFormat format this format format private IonParser parse String data throws IOException byte ion format write data new IonParser SYSTEM newReader ion false Test void testEmptySexp throws IOException IonParser parser parse assertEquals JsonToken START_ARRAY parser nextToken assertEquals JsonToken END_ARRAY parser nextToken assertNull parser nextToken Test void testSexp throws IOException IonParser parser parse b assertEquals JsonToken START_ARRAY parser nextToken assertEquals JsonToken VALUE_STRING parser nextToken assertEquals parser getText assertEquals JsonToken VALUE_STRING parser ,java
nextToken assertEquals parser getText assertEquals JsonToken VALUE_STRING parser nextToken assertEquals b parser getText assertEquals JsonToken END_ARRAY parser nextToken assertNull parser nextToken Test void testNestedSexp throws IOException IonParser parser parse b assertEquals JsonToken START_ARRAY parser nextToken assertEquals JsonToken START_ARRAY parser nextToken assertEquals JsonToken VALUE_STRING parser nextToken assertEquals parser getText assertEquals JsonToken END_ARRAY parser nextToken assertEquals JsonToken VALUE_STRING parser nextToken assertEquals parser getText assertEquals JsonToken START_ARRAY parser nextToken assertEquals JsonToken VALUE_STRING parser nextToken assertEquals b parser getText assertEquals JsonToken END_ARRAY parse,java
r nextToken assertEquals JsonToken END_ARRAY parser nextToken assertNull parser nextToken Test void testSexpSkip throws IOException IonParser parser parse b assertEquals JsonToken START_ARRAY parser nextToken parser skipChildren assertEquals JsonToken END_ARRAY parser getCurrentToken assertNull parser nextToken Test void testNestedSexpSkip throws IOException IonParser parser parse b assertEquals JsonToken START_ARRAY parser nextToken assertEquals JsonToken START_ARRAY parser nextToken parser skipChildren assertEquals JsonToken END_ARRAY parser getCurrentToken assertEquals JsonToken VALUE_STRING parser nextToken assertEquals parser getText assertEquals JsonToken START_ARRAY parser nextToken parser skipChildren assertEquals JsonToken END_AR,java
RAY parser getCurrentToken assertEquals JsonToken END_ARRAY parser nextToken assertNull parser nextToken Test void testEmptyClob throws IOException IonParser parser parse assertEquals JsonToken VALUE_EMBEDDED_OBJECT parser nextToken assertEquals ByteBuffer wrap new byte 0 parser getEmbeddedObject assertNull parser nextToken Test void testClob throws IOException IonParser parser parse abc123 assertEquals JsonToken VALUE_EMBEDDED_OBJECT parser nextToken assertEquals ByteBuffer wrap abc123 getBytes StringUtils UTF8 parser getEmbeddedObject assertNull parser nextToken Test void testSymbolValue throws IOException IonParser parser parse a1 _1 foo 123 sp ace assertEquals JsonToken VALUE_STRING parser nextToken assertEquals a1 parser getText ,java
assertEquals JsonToken VALUE_STRING parser nextToken assertEquals _1 parser getText assertEquals JsonToken VALUE_STRING parser nextToken assertEquals foo parser getText assertEquals JsonToken VALUE_STRING parser nextToken assertEquals 123 parser getText assertEquals JsonToken VALUE_STRING parser nextToken assertEquals sp ace parser getText assertNull parser nextToken Test void testSkipChildrenNotAtContainerStartDoesNothing throws IOException IonParser parser parse 123 b assertEquals JsonToken VALUE_NUMBER_INT parser nextToken parser skipChildren should do nothing assertEquals JsonToken VALUE_NUMBER_INT parser getCurrentToken assertEquals 123 parser getIntValue assertEquals JsonToken START_ARRAY parser nextToken assertEquals JsonToken VALUE_STRING parser nextToken parse,java
r skipChildren should do nothing assertEquals JsonToken VALUE_STRING parser getCurrentToken assertEquals parser getText Test void testGetEmbeddedObjectOnBasicValueReturnsNull throws IOException IonParser parser parse 123 b abc assertEquals JsonToken VALUE_NUMBER_INT parser nextToken assertNull parser getEmbeddedObject assertEquals 123 parser getIntValue assertEquals JsonToken START_ARRAY parser nextToken assertNull parser getEmbeddedObject parser skipChildren assertEquals JsonToken VALUE_STRING parser nextToken assertNull parser getEmbeddedObject assertEquals abc parser getText assertNull parser nextToken Test void testNulls throws IOException IonParser parser parse null null null null bool ,java
 null int null float null decimal null timestamp null string null symbol null blob null clob null struct null list null sexp JsonToken token null int count 0 while token parser nextToken null assertEquals JsonToken VALUE_NULL token count assertEquals 14 count Test void testNextValue throws IOException IonParser parser parse foo bar abc baz 123 42 0 assertEquals JsonToken START_OBJECT parser nextValue ,java
 assertEquals JsonToken START_OBJECT parser nextValue assertEquals foo parser getCurrentName assertEquals JsonToken VALUE_STRING parser nextValue assertEquals abc parser getText assertEquals bar parser getCurrentName assertEquals JsonToken END_OBJECT parser nextValue assertEquals JsonToken VALUE_NUMBER_INT parser nextValue assertEquals 123 parser getIntValue assertEquals baz parser getCurrentName assertEquals JsonToken END_OBJECT parser nextValue assertEquals JsonToken VALUE_NUMBER_FLOAT parser nextValue assertEquals 42 0 parser getFloatValue 1e 9 assertNull parser nextValue Test void testGetCurrentNameNotAtFieldReturnsNull throws IOException IonParser parser parse foo abc b bar assertEquals JsonToken START_OBJECT parser nextToken assertNull parser getCurrentName ,java
 assertEquals JsonToken VALUE_STRING parser nextValue assertEquals JsonToken END_OBJECT parser nextToken assertNull parser getCurrentName assertEquals JsonToken START_ARRAY parser nextToken assertEquals JsonToken VALUE_STRING parser nextToken assertNull parser getCurrentName assertEquals JsonToken VALUE_STRING parser nextToken assertNull parser getCurrentName assertEquals JsonToken END_ARRAY parser nextToken assertNull parser getCurrentName assertEquals JsonToken VALUE_EMBEDDED_OBJECT parser nextToken assertNull parser getCurrentName assertEquals JsonToken VALUE_STRING parser nextToken assertNull parser getCurrentName assertNull parser nextToken assertNull parser getCurrentName Test void testClearCurrentToken throws IOException IonParser parser parse assertEquals J,java
sonToken START_OBJECT parser nextToken parser clearCurrentToken assertNull parser getCurrentToken assertFalse parser hasCurrentToken assertEquals JsonToken START_OBJECT parser getLastClearedToken Test void testGetText throws IOException String defaultText default String integer String valueOf 123 String flt String valueOf 42 0 IonParser parser parse foo integer bar flt abc null true false assertNull parser getText assertEquals defaultText parser getValueAsString defaultText assertEquals JsonToken START_OBJECT parser nextToken assertEquals JsonToken START_OBJECT asString parser getText assertEquals defaultText parser getValueAsString defaultText assertEquals JsonToken FIELD_NAME parser nextToken assertEquals foo parser getText assertEquals defaultText ,java
parser getValueAsString defaultText assertEquals foo parser getCurrentName assertEquals JsonToken VALUE_NUMBER_INT parser nextToken assertEquals integer parser getText assertEquals integer parser getValueAsString defaultText assertEquals 123 parser getIntValue assertEquals JsonToken VALUE_NUMBER_FLOAT parser nextValue assertEquals flt parser getText assertEquals flt parser getValueAsString defaultText assertEquals 42 0 parser getFloatValue 1e 9 assertEquals bar parser getCurrentName assertEquals JsonToken END_OBJECT parser nextToken assertEquals JsonToken END_OBJECT asString parser getText assertEquals defaultText parser getValueAsString defaultText assertEquals JsonToken VALUE_EMBEDDED_OBJECT parser nextToken assertNull parser getText embedded objects have undefined text assertEquals JsonToken,java
 VALUE_NULL parser nextToken assertEquals JsonToken VALUE_NULL asString parser getText null assertEquals defaultText parser getValueAsString defaultText assertEquals JsonToken VALUE_TRUE parser nextToken assertEquals JsonToken VALUE_TRUE asString parser getText true assertEquals JsonToken VALUE_TRUE asString parser getValueAsString defaultText assertEquals JsonToken VALUE_FALSE parser nextToken assertEquals JsonToken VALUE_FALSE asString parser getText false assertEquals JsonToken VALUE_FALSE asString parser getValueAsString defaultText assertNull parser nextToken assertNull parser getText assertEquals defaultText parser getValueAsString defaultText Test void testGetNumberValue throws IOException String integer String valueOf Integer MAX_VALUE String lng String valueOf Long MAX_VALUE String,java
 bigInteger BigInteger valueOf Long MAX_VALUE add BigInteger ONE toString String flt String valueOf Float MAX_VALUE String dbl String valueOf Double MAX_VALUE String inf 1 7976931348623157E309 Double MAX_VALUE 10 String bigDecimal new BigDecimal inf toString IonParser parser parse integer lng bigInteger flt dbl inf bigDecimal toLowerCase replace e D assertEquals JsonToken VALUE_NUMBER_INT parser nextToken assertEquals integer parser getNumberValue toString assertEquals JsonToken VALUE_NUMBER_INT parser nextToken assertEquals lng parser getNumberValue toString assertEquals JsonTok,java
en VALUE_NUMBER_INT parser nextToken assertEquals bigInteger parser getNumberValue toString assertEquals JsonToken VALUE_NUMBER_FLOAT parser nextToken assertEquals flt parser getNumberValue toString assertEquals JsonToken VALUE_NUMBER_FLOAT parser nextToken assertEquals dbl parser getNumberValue toString assertEquals JsonToken VALUE_NUMBER_FLOAT parser nextToken assertTrue Double isInfinite parser getDoubleValue assertTrue Double isInfinite parser getFloatValue assertEquals JsonToken VALUE_NUMBER_FLOAT parser nextToken assertEquals bigDecimal parser getNumberValue toString Rule ExpectedException thrown ExpectedException none Test void testGetNumberValueNotOnNumberFails throws IOException IonParser parser parse foo abc 123 assertEquals JsonToken VALUE_STRING parser nextToken assertNull ,java
parser getNumberType thrown expect AmazonClientException class parser getNumberValue Test void testSpecialFloatValues throws IOException IonParser parser parse 1 7976931348623157E309 Double MAX_VALUE 10 1 7976931348623157E309 inf inf nan assertEquals JsonToken VALUE_NUMBER_FLOAT parser nextToken assertTrue Double isInfinite parser getDoubleValue assertTrue Double isInfinite parser getFloatValue assertEquals JsonToken VALUE_NUMBER_FLOAT parser nextToken assertTrue Double isInfinite parser getDoubleValue assertTrue Double isInfinite parser getFloatValue assertEquals JsonToken VALUE_NUMBER_FLOAT parser nextToken assertTrue Double isInfinite parser getDoubl,java
eValue assertTrue Double isInfinite parser getFloatValue assertEquals JsonToken VALUE_NUMBER_FLOAT parser nextToken assertTrue Double isInfinite parser getDoubleValue assertTrue Double isInfinite parser getFloatValue assertEquals JsonToken VALUE_NUMBER_FLOAT parser nextToken assertTrue Double isNaN parser getDoubleValue assertTrue Double isNaN parser getFloatValue ,java
 package com ibm cloud objectstorage internal http static org junit Assert assertEquals static org junit Assert assertNull org junit Test com fasterxml jackson databind ObjectMapper com fasterxml jackson databind node ObjectNode com ibm cloud objectstorage http HttpResponse com ibm cloud objectstorage internal http JsonErrorCodeParser com ibm cloud objectstorage protocol json JsonContent class JsonErrorCodeParserTest Value of error type present headers ,java
tests below private static final String HEADER_ERROR_TYPE headerErrorType private static final String JSON_ERROR_TYPE jsonErrorType private static final String ERROR_FIELD_NAME testErrorCode private static final ObjectMapper MAPPER new ObjectMapper private final JsonErrorCodeParser parser new JsonErrorCodeParser ERROR_FIELD_NAME Test void parseErrorType_ErrorTypeInHeadersTakesPrecedence_NoSuffix String actualErrorType parser parseErrorCode httpResponseWithHeaders JsonErrorCodeParser X_AMZN_ERROR_TYPE HEADER_ERROR_TYPE toJsonContent JSON_ERROR_TYPE assertEquals HEADER_ERROR_TYPE actualErrorType Test void parseErrorType_ErrorTypeInHeadersTakesPrecedence_SuffixIgnored String actualErrorType parser parseErrorCode httpResponseWithHeaders JsonErrorCodeParser X_AMZN_ER,java
ROR_TYPE String format s s HEADER_ERROR_TYPE someSuffix toJsonContent JSON_ERROR_TYPE assertEquals HEADER_ERROR_TYPE actualErrorType Test void parseErrorType_ErrorTypeInContent_NoPrefix String actualErrorType parser parseErrorCode httpResponseWithoutHeaders toJsonContent JSON_ERROR_TYPE assertEquals JSON_ERROR_TYPE actualErrorType Test void parseErrorType_ErrorTypeInContent_PrefixIgnored String actualErrorType parser parseErrorCode httpResponseWithoutHeaders toJsonContent String format s s somePrefix JSON_ERROR_TYPE assertEquals JSON_ERROR_TYPE actualErrorType Test void parseErrorType_NotPresentInHeadersAndNullContent_ReturnsNull assertNull parser parseErrorCode httpResponseWithoutHeaders null Test void parseErrorType_NotPresentInHeadersAndEmptyContent_ReturnsNull assertNull parser ,java
parseErrorCode httpResponseWithoutHeaders new JsonContent null new ObjectMapper createObjectNode private static JsonContent toJsonContent String errorType ObjectNode node MAPPER createObjectNode node put ERROR_FIELD_NAME errorType new JsonContent null node private static HttpResponse httpResponseWithoutHeaders new HttpResponse null null private static HttpResponse httpResponseWithHeaders String header String value HttpResponse response new HttpResponse null null response addHeader header value response ,java
 project xmlns http maven apache org POM 4 0 0 xmlns xsi http www w3 org 2001 XMLSchema instance xsi schemaLocation http maven apache org POM 4 0 0 http maven apache org xsd maven 4 0 0 xsd modelVersion 4 0 0 modelVersion parent groupId com lightbend lagom sample chirper groupId artifactId lagom java chirper artifactId version 1 0 SNAPSHOT version parent artifactId front end artifactId packaging jar packaging dependencies dependency groupId com lightbend lagom groupId artifactId lagom javadsl client_2 11 artifactId dependency dependency groupId org webjars groupId artifactId webjars play_2 11 artifactId dependency dependency groupId org webjars groupId artifactId foundation artifactId dependency dependency g,xml
roupId org webjars groupId artifactId react artifactId dependency dependency groupId org webjars groupId artifactId react router artifactId dependency dependency groupId org webjars groupId artifactId jquery artifactId dependency dependency groupId com lightbend lagom groupId artifactId lagom logback_2 11 artifactId dependency dependency groupId com typesafe play groupId artifactId play netty server_2 11 artifactId dependency Service Locator Provider dependency groupId serviceLocator provider groupName groupId artifactId serviceLocator provider artifactName artifactId dependency dependencies build plugins plugin artifactId maven assembly plugin artifactI,xml
d configuration descriptors descriptor src assembly conductr bundle xml descriptor descriptors configuration executions execution id conductr bundle id phase package phase goals goal single goal goals execution executions plugin plugin groupId com lightbend lagom groupId artifactId lagom maven plugin artifactId configuration playService true playService configuration executions execution goals goal renameConductRBundle goal goals ,xml
 execution executions plugin plugin groupId com jakewharton twirl groupId artifactId twirl maven plugin artifactId version 1 0 5 version configuration This what PlayJava sbt plugin adds as imports imports Play default imports models _ controllers _ play api i18n _ views format _ play api templates PlayMagic _ Minimal Java imports excluding ones already added by twirl maven plugin play core j PlayMagicForJava _ play mvc _ play api data Field play mvc Http Context Implicit _ ,xml
Default Java imports play data _ play core j PlayMagicForJava _ imports configuration executions execution phase generate sources phase goals goal compile goal goals execution executions plugin plugin groupId net alchim31 maven groupId artifactId scala maven plugin artifactId version 3 2 1 version configuration recompileMode incremental recompileMode configuration executions execution id scala compile id phase process resources phase goals goal ,xml
add source goal goal compile goal goals execution execution id scala test compile id phase process test resources phase goals goal testCompile goal goals execution executions plugin plugin groupId com github eirslett groupId artifactId frontend maven plugin artifactId version 1 4 version configuration installDirectory pom basedir target node installDirectory environmentVariables BUILD_SYSTEM maven BUILD_SYSTEM environmentVariables configuration executions execution ,xml
 id install node and npm id phase initialize phase goals goal install node and npm goal goals configuration nodeVersion v6 10 2 nodeVersion configuration execution execution id npm install id phase initialize phase goals goal npm goal goals configuration arguments install arguments configuration execution execution id webpack build id goals goal webpack goal goals e,xml
xecution executions plugin plugin groupId io fabric8 groupId artifactId docker maven plugin artifactId configuration skip false skip images image build entryPoint java cp maven Dplay crypto secret APPLICATION_SECRET none Dhttp address WEB_BIND_IP Dhttp port WEB_BIND_PORT play core server ProdServerStart entryPoint build image images configuration plugin plugins build project ,xml
 package com ibm cloud objectstorage retry v2 interface RetryPolicy extends RetryCondition BackoffStrategy ,java
 package ibm class Cleanup static void main String args throws Exception ZFileProcess cleanupPSFiles args 0 ,java
 Code generated by counterfeiter DO NOT EDIT package fakes sync github com IBM ubiquity remote mounter block_device_mounter_utils type FakeBlockDeviceMounterUtils struct RescanAllStub func withISCSI bool wwn string rescanForCleanUp bool error rescanAllMutex sync RWMutex rescanAllArgsForCall struct withISCSI bool wwn string rescanForCleanUp bool rescanAllReturns struct result1 error rescanAllReturnsOnCall map int struct result1 error MountDeviceFlowStub func devicePath string fsType string mountPoint string error mountDeviceFlowMutex sync RWMutex mountDeviceFlowArgsForCall struct devicePath string fsType string mountPoint string mountDeviceFlowReturns struct result1 error mountDeviceFlowReturnsOnCall map int struct result1 error DiscoverStub func volumeWwn string deepDiscovery bool string error discoverMutex sync RWMutex discoverArgsForCall struct ,go
 volumeWwn string deepDiscovery bool discoverReturns struct result1 string result2 error discoverReturnsOnCall map int struct result1 string result2 error UnmountDeviceFlowStub func devicePath string error unmountDeviceFlowMutex sync RWMutex unmountDeviceFlowArgsForCall struct devicePath string unmountDeviceFlowReturns struct result1 error unmountDeviceFlowReturnsOnCall map int struct result1 error invocations map string interface invocationsMutex sync RWMutex func fake FakeBlockDeviceMounterUtils RescanAll withISCSI bool wwn string rescanForCleanUp bool error fake rescanAllMutex Lock ret specificReturn fake rescanAllReturnsOnCall len fake rescanAllArgsForCall fake rescanAllArgsForCall append fake rescanAllArgsForCall struct withISCSI bool wwn string rescanForCleanUp bool withISCSI wwn rescanForCleanUp fake recordInvocation RescanAll interface withISCSI wwn ,go
rescanForCleanUp fake rescanAllMutex Unlock fake RescanAllStub nil fake RescanAllStub withISCSI wwn rescanForCleanUp specificReturn ret result1 fake rescanAllReturns result1 func fake FakeBlockDeviceMounterUtils RescanAllCallCount int fake rescanAllMutex RLock defer fake rescanAllMutex RUnlock len fake rescanAllArgsForCall func fake FakeBlockDeviceMounterUtils RescanAllArgsForCall i int bool string bool fake rescanAllMutex RLock defer fake rescanAllMutex RUnlock fake rescanAllArgsForCall i withISCSI fake rescanAllArgsForCall i wwn fake rescanAllArgsForCall i rescanForCleanUp func fake FakeBlockDeviceMounterUtils RescanAllReturns result1 error fake RescanAllStub nil fake rescanAllReturns struct result1 error result1 func fake FakeBlockDeviceMounterUtils RescanAllReturnsOnCall i int result1 error fake RescanAllStub nil fake rescanAllReturnsOnCall nil fake rescanAllReturnsOnCall make map int struc,go
t result1 error fake rescanAllReturnsOnCall i struct result1 error result1 func fake FakeBlockDeviceMounterUtils MountDeviceFlow devicePath string fsType string mountPoint string error fake mountDeviceFlowMutex Lock ret specificReturn fake mountDeviceFlowReturnsOnCall len fake mountDeviceFlowArgsForCall fake mountDeviceFlowArgsForCall append fake mountDeviceFlowArgsForCall struct devicePath string fsType string mountPoint string devicePath fsType mountPoint fake recordInvocation MountDeviceFlow interface devicePath fsType mountPoint fake mountDeviceFlowMutex Unlock fake MountDeviceFlowStub nil fake MountDeviceFlowStub devicePath fsType mountPoint specificReturn ret result1 fake mountDeviceFlowReturns result1 func fake FakeBlockDeviceMounterUtils MountDeviceFlowCallCount int fake mountDeviceFlowMutex RLock defer fake mountDeviceFlowMutex RUnlock len fake mountDeviceFlowArgsForCall fun,go
c fake FakeBlockDeviceMounterUtils MountDeviceFlowArgsForCall i int string string string fake mountDeviceFlowMutex RLock defer fake mountDeviceFlowMutex RUnlock fake mountDeviceFlowArgsForCall i devicePath fake mountDeviceFlowArgsForCall i fsType fake mountDeviceFlowArgsForCall i mountPoint func fake FakeBlockDeviceMounterUtils MountDeviceFlowReturns result1 error fake MountDeviceFlowStub nil fake mountDeviceFlowReturns struct result1 error result1 func fake FakeBlockDeviceMounterUtils MountDeviceFlowReturnsOnCall i int result1 error fake MountDeviceFlowStub nil fake mountDeviceFlowReturnsOnCall nil fake mountDeviceFlowReturnsOnCall make map int struct result1 error fake mountDeviceFlowReturnsOnCall i struct result1 error result1 func fake FakeBlockDeviceMounterUtils Discover volumeWwn string deepDiscovery bool string error fake discoverMutex Lock ret specificReturn fake discoverReturnsOnCall len ,go
fake discoverArgsForCall fake discoverArgsForCall append fake discoverArgsForCall struct volumeWwn string deepDiscovery bool volumeWwn deepDiscovery fake recordInvocation Discover interface volumeWwn deepDiscovery fake discoverMutex Unlock fake DiscoverStub nil fake DiscoverStub volumeWwn deepDiscovery specificReturn ret result1 ret result2 fake discoverReturns result1 fake discoverReturns result2 func fake FakeBlockDeviceMounterUtils DiscoverCallCount int fake discoverMutex RLock defer fake discoverMutex RUnlock len fake discoverArgsForCall func fake FakeBlockDeviceMounterUtils DiscoverArgsForCall i int string bool fake discoverMutex RLock defer fake discoverMutex RUnlock fake discoverArgsForCall i volumeWwn fake discoverArgsForCall i deepDiscovery func fake FakeBlockDeviceMounterUtils DiscoverReturns result1 string result2 error fake DiscoverStub nil fake discoverReturns struct result1 str,go
ing result2 error result1 result2 func fake FakeBlockDeviceMounterUtils DiscoverReturnsOnCall i int result1 string result2 error fake DiscoverStub nil fake discoverReturnsOnCall nil fake discoverReturnsOnCall make map int struct result1 string result2 error fake discoverReturnsOnCall i struct result1 string result2 error result1 result2 func fake FakeBlockDeviceMounterUtils UnmountDeviceFlow devicePath string error fake unmountDeviceFlowMutex Lock ret specificReturn fake unmountDeviceFlowReturnsOnCall len fake unmountDeviceFlowArgsForCall fake unmountDeviceFlowArgsForCall append fake unmountDeviceFlowArgsForCall struct devicePath string devicePath fake recordInvocation UnmountDeviceFlow interface devicePath fake unmountDeviceFlowMutex Unlock fake UnmountDeviceFlowStub nil fake UnmountDeviceFlowStub devicePath specificReturn ret result1 fake unmountDeviceFlowReturns result1 func f,go
ake FakeBlockDeviceMounterUtils UnmountDeviceFlowCallCount int fake unmountDeviceFlowMutex RLock defer fake unmountDeviceFlowMutex RUnlock len fake unmountDeviceFlowArgsForCall func fake FakeBlockDeviceMounterUtils UnmountDeviceFlowArgsForCall i int string fake unmountDeviceFlowMutex RLock defer fake unmountDeviceFlowMutex RUnlock fake unmountDeviceFlowArgsForCall i devicePath func fake FakeBlockDeviceMounterUtils UnmountDeviceFlowReturns result1 error fake UnmountDeviceFlowStub nil fake unmountDeviceFlowReturns struct result1 error result1 func fake FakeBlockDeviceMounterUtils UnmountDeviceFlowReturnsOnCall i int result1 error fake UnmountDeviceFlowStub nil fake unmountDeviceFlowReturnsOnCall nil fake unmountDeviceFlowReturnsOnCall make map int struct result1 error fake unmountDeviceFlowReturnsOnCall i struct result1 error result1 func fake FakeBlockDeviceMounterUtils Invocations map string inter,go
face fake invocationsMutex RLock defer fake invocationsMutex RUnlock fake rescanAllMutex RLock defer fake rescanAllMutex RUnlock fake mountDeviceFlowMutex RLock defer fake mountDeviceFlowMutex RUnlock fake discoverMutex RLock defer fake discoverMutex RUnlock fake unmountDeviceFlowMutex RLock defer fake unmountDeviceFlowMutex RUnlock copiedInvocations map string interface key value range fake invocations copiedInvocations key value copiedInvocations func fake FakeBlockDeviceMounterUtils recordInvocation key string args interface fake invocationsMutex Lock defer fake invocationsMutex Unlock fake invocations nil fake invocations map string interface fake invocations key nil fake invocations key interface fake invocations key append fake invocations key args var _ block_device_mounter_utils BlockDeviceMounterUtils new FakeBlockDeviceMounterUtils ,go
 package psdi app bim parser cobie java util Enumeration java util Hashtable class ItemCompany extends ItemBase private boolean isManufacturue false private final Hashtable String ItemCONTACT _contacts new Hashtable String ItemCONTACT ItemCompany ItemCONTACT contact super setName contact getCompany addContact contact setManufacturer contact isManufacture setExtSystem contact getExtSyst,java
em setExtObject contact getExtObject setExtIdentifier contact getExtIdentifier setCreatedOn contact getCreatedOn setCreatedBy contact getCreatedBy setDescription contact getDescription setCategory contact getCategory Override String getPageId Parser SHEET_COMPANY void addContact ItemCONTACT contact _contacts put contact getKey contact Enumeration ItemCONTACT contacts _contacts elements Override String getKey getName toUpperCase boolean isManufacture isManufacturue void setManufacturer boolean manufacture Once true stays true manufacture isManufacturue manufacture Override String toString StringBuffer sb new StringBuffer sb append super toString isManufacturue sb append tManufacture n Enumeration ItemCONTACT el _contacts elements while el hasMoreElements ItemCONTACT,java
 contact el nextElement sb append contact getName sb append n sb toString ,java
 package connectors fmt github com IBM ubiquity resources github com IBM ubiquity utils log net url path strings type spectrum_mmcli struct logger log Logger executor utils Executor isMounted bool func NewSpectrumMMCLI logger log Logger SpectrumScaleConnector error spectrum_mmcli logger logger executor utils NewExecutor nil func NewSpectrumMMCLIWithExecutor logger log Logger executor utils Executor SpectrumScaleCo,go
nnector error spectrum_mmcli logger logger executor executor nil func s spectrum_mmcli GetClusterId string error spectrumCommand usr lpp mmfs bin mmlscluster args string spectrumCommand GetClusterIdInternal s logger s executor spectrumCommand nil func GetClusterIdInternal logger log Logger executor utils Executor command string args string string error var clusterId string outputBytes err executor Execute command args err nil logger Printf Error running command v err err spectrumOutput string outputBytes lines strings Split spectrumOutput n len lines 4 logger Println Error determining cluster id fmt Errorf Error determining cluster id tokens strings Split lines 4 len tokens 2 strings TrimSpace tokens 0 GPFS cluster id clusterId strings TrimSpace tokens 1 clusterId nil func s spectrum_mmcli IsFilesystemMounted filesystemName string,go
 bool error s logger Println spectrumLocalClient isMounted start defer s logger Println spectrumLocalClient isMounted end s isMounted true s isMounted true s isMounted nil spectrumCommand usr lpp mmfs bin mmlsmount args string filesystemName L Y isMounted err IsFilesystemMountedInternal s logger s executor filesystemName spectrumCommand args s isMounted isMounted s isMounted err func IsFilesystemMountedInternal logger log Logger executor utils Executor filesystemName string command string args string bool error outputBytes err executor Execute command args err nil logger Printf Error running command v n err false err mountedNodes extractMountedNodes string outputBytes len mountedNodes 0 not mounted anywhere false nil else checkif mounted on current node compare node name currentNode err executor Hostname err nil logger Printf error getting hostname ,go
 v err false err logger Printf spectrumLocalClient node name s n currentNode _ node range mountedNodes node currentNode true nil false nil func extractMountedNodes spectrumOutput string string var nodes string lines strings Split spectrumOutput n len lines 1 nodes _ line range lines 1 tokens strings Split line len tokens 10 tokens 11 nodes append nodes tokens 11 nodes func s spectrum_mmcli MountFileSystem filesystemName string error s logger Println spectrumLocalClient mount start defer s logger Println spectrumLocalClient mount end s isMounted true nil spectrumCommand usr lpp mmfs bin mmmount args string filesystemName err MountFileSystemInternal s logger s executor filesystemName spectrumCommand args err nil s logger Printf error mounting filesystem v err err s isMounted true nil,go
 func MountFileSystemInternal logger log Logger executor utils Executor filesystemName string command string args string error output err executor Execute command args err nil logger Printf Failed mount filesystem v err err logger Println output nil func s spectrum_mmcli ListFilesystems string error TODO not yet implemented nil nil func s spectrum_mmcli GetFilesystemMountpoint filesystemName string string error spectrumCommand usr lpp mmfs bin mmlsfs args string filesystemName T Y GetFilesystemMountpointInternal s logger s executor filesystemName spectrumCommand args func GetFilesystemMountpointInternal logger log Logger executor utils Executor filesystemName string command string args string string error outputBytes err executor Execute command args err nil logger Printf Error running command s err Error err spectrumOutput string outputBytes lines str,go
ings Split spectrumOutput n len lines 2 fmt Errorf Cannot determine filesystem mountpoint tokens strings Split lines 1 len tokens 8 strings TrimSpace tokens 6 filesystemName mountpoint strings TrimSpace tokens 8 Todo this should be changed url PathUnescape when available mountpoint err url PathUnescape mountpoint err nil logger Printf Error decoding mountpoint s n err else logger Printf Returning mountpoint s n mountpoint mountpoint nil fmt Errorf Cannot determine filesystem mountpoint func s spectrum_mmcli CreateFileset filesystemName string filesetName string opts map string interface error s logger Println spectrumLocalClient createFileset start defer s logger Println spectrumLocalClient createFileset end s logger Printf creating new fileset s n filesetName create fileset spectrumCommand usr lpp mmfs bin mmcrfileset args string ,go
filesystemName filesetName t fileset container volume filesetType filesetTypeSpecified opts UserSpecifiedFilesetType inodeLimit inodeLimitSpecified opts UserSpecifiedInodeLimit filesetTypeSpecified filesetType string independent args append args inode space new inodeLimitSpecified args append args inode limit inodeLimit string CreateFilesetInternal s logger s executor filesystemName filesetName spectrumCommand args func CreateFilesetInternal logger log Logger executor utils Executor filesystemName string filesetName string command string args string error output err executor Execute command args err nil logger Printf Error creating fileset v v n output err fmt Errorf Failed create fileset s on filesystem s Please check that filesystem specified correct and healthy filesetName filesystemName logger Printf Createfileset output s n string output nil func s spectrum,go
_mmcli DeleteFileset filesystemName string filesetName string error s logger Println spectrumLocalClient deleteFileset start defer s logger Println spectrumLocalClient deleteFileset end spectrumCommand usr lpp mmfs bin mmdelfileset args string filesystemName filesetName f DeleteFilesetInternal s logger s executor filesystemName filesetName spectrumCommand args func DeleteFilesetInternal logger log Logger executor utils Executor filesystemName string filesetName string command string args string error output err executor Execute command args err nil logger Printf Failed remove fileset s s filesetName err Error fmt Errorf Failed remove fileset s s filesetName err Error logger Printf spectrumLocalClient deleteFileset output s n string output nil func s spectrum_mmcli IsFilesetLinked filesystemName string filesetName string bool error s logger Println spectrumLocalClient isFilesetLinked start,go
 defer s logger Println spectrumLocalClient isFilesetLinked end spectrumCommand usr lpp mmfs bin mmlsfileset args string filesystemName filesetName Y s logger Printf v n args IsFilesetLinkedInternal s logger s executor filesystemName filesetName spectrumCommand args func IsFilesetLinkedInternal logger log Logger executor utils Executor filesystemName string filesetName string command string args string bool error outputBytes err executor Execute command args err nil logger Printf Error mmlsfileset invocation n false err spectrumOutput string outputBytes lines strings Split spectrumOutput n len lines 1 logger Printf Error listing fileset n false fmt Errorf Error listing fileset s filesetName tokens strings Split lines 1 len tokens 11 tokens 10 Linked true nil else false nil logger Printf Error listing fileset s after parsing filesetName ,go
 false fmt Errorf Error listing fileset s after parsing filesetName func s spectrum_mmcli LinkFileset filesystemName string filesetName string error s logger Println spectrumLocalClient linkFileset start defer s logger Println spectrumLocalClient linkFileset end s logger Printf Trying link s s filesystemName filesetName mountpoint err s GetFilesystemMountpoint filesystemName err nil s logger Println err Error err spectrumCommand usr lpp mmfs bin mmlinkfileset filesetPath path Join mountpoint filesetName args string filesystemName filesetName J filesetPath s logger Printf Args link fileset v args err LinkFilesetInternal s logger s executor filesystemName filesetName spectrumCommand args err nil s logger Printf error linking fileset v err err nil func LinkFilesetInternal logger log Logger executor utils Executor filesystemName string filesetName string command string args string ,go
error _ err executor Execute command args err nil logger Println Failed link fileset v n err fmt Errorf Failed link fileset s err Error nil func s spectrum_mmcli UnlinkFileset filesystemName string filesetName string error s logger Println spectrumLocalClient unlinkFileset start defer s logger Println spectrumLocalClient unlinkFileset end spectrumCommand usr lpp mmfs bin mmunlinkfileset args string filesystemName filesetName UnlinkFilesetInternal s logger s executor filesystemName filesetName spectrumCommand args func UnlinkFilesetInternal logger log Logger executor utils Executor filesystemName string filesetName string command string args string error output err executor Execute command args err nil fmt Errorf Failed unlink fileset s s filesetName err Error logger Printf spectrumLocalClient unLinkfileset output s n string output nil func s spectrum_mmcli ListFilesets files,go
ystemName string resources Volume error nil nil func s spectrum_mmcli ListFileset filesystemName string filesetName string resources Volume error s logger Println spectrumLocalClient ListFileset start defer s logger Println spectrumLocalClient ListFileset end spectrumCommand usr lpp mmfs bin mmlsfileset args string filesystemName filesetName Y ListFilesetInternal s logger s executor filesystemName filesetName spectrumCommand args func ListFilesetInternal logger log Logger executor utils Executor filesystemName string filesetName string command string args string resources Volume error _ err executor Execute command args err nil logger Println err resources Volume err TODO check what we need resources Volume Name filesetName err TODO modify quota from string Capacity see kubernetes func s spectrum_mmcli ListFilesetQuota filesystemName string filesetName string string error s logger Println,go
 spectrumLocalClient verifyFilesetQuota start defer s logger Println spectrumLocalClient verifyFilesetQuota end spectrumCommand usr lpp mmfs bin mmlsquota args string j filesetName filesystemName block size auto ListFilesetQuotaInternal s logger s executor filesystemName filesetName spectrumCommand args func ListFilesetQuotaInternal logger log Logger executor utils Executor filesystemName string filesetName string command string args string string error outputBytes err executor Execute command args err nil logger Printf failed list quota fileset s v filesetName err fmt Errorf Failed list quota fileset s s filesetName err Error spectrumOutput string outputBytes lines strings Split spectrumOutput n len lines 2 tokens strings Fields lines 2 len tokens 3 tokens 3 tokens 3 nil else logger Printf error parsing tokens while listing quota filese,go
t s v filesetName err fmt Errorf Error parsing tokens while listing quota fileset s filesetName fmt Errorf Error listing quota fileset s filesetName func s spectrum_mmcli SetFilesetQuota filesystemName string filesetName string quota string error s logger Println spectrumLocalClient setFilesetQuota start defer s logger Println spectrumLocalClient setFilesetQuota end s logger Printf setting quota s fileset s n quota filesetName spectrumCommand usr lpp mmfs bin mmsetquota args string filesystemName filesetName block quota quota SetFilesetQuotaInternal s logger s executor filesystemName filesetName quota spectrumCommand args func SetFilesetQuotaInternal logger log Logger executor utils Executor filesystemName string filesetName string quota string command string args string error output err executor Execute command args err nil logger Printf Failed set quota s fileset ,go
 s s quota filesetName err Error fmt Errorf Failed set quota s fileset s s quota filesetName err Error logger Printf setFilesetQuota output s n string output nil func s spectrum_mmcli ExportNfs volumeMountpoint string clientConfig string error s logger Println spectrumLocalClient ExportNfs start defer s logger Println spectrumLocalClient ExportNfs end spectrumCommand usr lpp mmfs bin mmnfs args string export add volumeMountpoint client clientConfig ExportNfsInternal s logger s executor spectrumCommand args func ExportNfsInternal logger log Logger executor utils Executor command string args string error output err executor Execute command args err nil logger Printf Failed export fileset via Nfs error v ExportNfs output v n err output fmt Errorf Failed export fileset via Nfs s err Error logger Printf ExportNfs output s n string output nil func s spect,go
rum_mmcli UnexportNfs volumeMountpoint string error s logger Println spectrumLocalClient UnexportNfs start defer s logger Println spectrumLocalClient UnexportNfs end spectrumCommand usr lpp mmfs bin mmnfs args string export remove volumeMountpoint force UnexportNfsInternal s logger s executor spectrumCommand args func UnexportNfsInternal logger log Logger executor utils Executor command string args string error output err executor Execute command args err nil logger Printf Failed unexport fileset via Nfs error v UnexportNfs output v n err output fmt Errorf Failed unexport fileset via Nfs s err Error logger Printf UnexportNfs output s n string output nil ,go
 use strict The cloudant js central point used save and retrieve content from DB var extend require extend var dbname customers var botdb null var cloudant If unspecified here Cloudant_URL env properties will be checked After that SDK will fall back bluemix provided VCAP_SERVICES environment property var vcapServices require vcap_services var cloudantCredentials vcapServices getCredentials cloudantNoSQLDB var,js
 cloudantUrl null cloudantCredentials cloudantUrl cloudantCredentials url cloudantUrl cloudantUrl process env CLOUDANT_URL cloudant_url cloudant require cloudant cloudantUrl try botdb cloudant db create dbname botdb null botdb cloudant db use dbname catch e botdb cloudant db use dbname module exports get function params callback botdb get params function err response err err error not_found callback err else callback null else callback null response put function params,js
 callback botdb insert params callback ,js